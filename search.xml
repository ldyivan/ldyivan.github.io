<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>æ”¯ä»˜å®0é—¨æ§›çº¢åŒ…ï¼Œæ¯æ—¥éƒ½å¯ä»¥é¢†å–1æ¬¡</title>
    <url>/2023/09/27/zfb-hb/</url>
    <content><![CDATA[<p>æ”¯ä»˜å®ä¸“å±å¤§é¢çº¢åŒ…ï¼Œ0é—¨æ§›ï¼Œæ¯äººæ¯æ—¥éƒ½å¯ä»¥é¢†å–1æ¬¡ï¼š</p>
<p>1ï¼šä½¿ç”¨æµè§ˆå™¨æ‰“å¼€é“¾æ¥è‡ªåŠ¨é¢†å–ï¼š</p>
<p><a href="https://dz.hzv5.cn/hb/">https://dz.hzv5.cn/hb/</a></p>
<p>2ï¼šä½¿ç”¨æ”¯ä»˜å®æ‰«ç è‡ªåŠ¨é¢†å–ï¼š</p>
<p><img src="/img/Alipay/ZFB_hb.png" alt="æ”¯ä»˜å®é¢†çº¢åŒ…"></p>
<span id="more"></span>

<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>é¢†å–çš„çº¢åŒ…ä¸º0é—¨æ§›çº¢åŒ…ï¼Œä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜æ—¶ï¼Œä¼šè‡ªåŠ¨æŠµæ‰£é‡‘é¢ã€‚</p>
<p>æˆ–è€…èµèµæœ¬åšå®¢ã€‚</p>
<p>å½“å¤©é¢†å–çš„çº¢åŒ…é‡‘é¢æ”¯ä»˜å®Œï¼Œç¬¬äºŒå¤©æ‰èƒ½ç»§ç»­é¢†å–æ–°çš„çº¢åŒ…ã€‚</p>
]]></content>
      <categories>
        <category>æ”¶é›†æ§</category>
      </categories>
      <tags>
        <tag>æ”¯ä»˜å®</tag>
        <tag>çº¢åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå†™ä¸æ”¶é›†çš„ä¸€äº›å…è´¹çš„APIæ¥å£ï¼ˆè·å–QQæ˜µç§°ã€å¤´åƒã€QQç§€ç­‰ç­‰...ï¼‰</title>
    <url>/2018/04/24/my-apis/</url>
    <content><![CDATA[<p>è‡ªå†™çš„ä¸€äº›APIæ¥å£ï¼Œä»¥åŠæ”¶é›†çš„ä¸€äº›QQç›¸å…³çš„ï¼ˆå®˜æ–¹ï¼‰å…è´¹APIæ¥å£ï¼Œæœ‰éœ€è¦çš„å¯ä»¥æ‹¿å»ç”¨ï¼š</p>
<h1 id="1ã€è·å–QQå¤´åƒï¼š"><a href="#1ã€è·å–QQå¤´åƒï¼š" class="headerlink" title="1ã€è·å–QQå¤´åƒï¼š"></a>1ã€è·å–QQå¤´åƒï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â‘  http://q2.qlogo.cn/headimg_dl?dst_uin=QQå·ç &amp;spec=100</span><br><span class="line">â‘¡ http://q1.qlogo.cn/g?b=qq&amp;nk=QQå·ç &amp;s=100</span><br><span class="line">â‘¢ http://qlogo1.store.qq.com/qzone/QQå·ç /QQå·ç /100</span><br></pre></td></tr></table></figure>

<h1 id="2ã€è·å–QQç¾¤å¤´åƒï¼š"><a href="#2ã€è·å–QQç¾¤å¤´åƒï¼š" class="headerlink" title="2ã€è·å–QQç¾¤å¤´åƒï¼š"></a>2ã€è·å–QQç¾¤å¤´åƒï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://p.qlogo.cn/gh/QQç¾¤å·ç /QQç¾¤å·ç /100/</span><br></pre></td></tr></table></figure>

<h1 id="3ã€è·å–QQç§€æ¥å£ï¼š"><a href="#3ã€è·å–QQç§€æ¥å£ï¼š" class="headerlink" title="3ã€è·å–QQç§€æ¥å£ï¼š"></a>3ã€è·å–QQç§€æ¥å£ï¼š</h1><p><s><a href="http://qqshow-user.tencent.com/QQå·/10/00">http://qqshow-user.tencent.com/QQå·/10/00</a></s></p>
<h1 id="4ã€è·å–QQç©ºé—´éŸ³ä¹åˆ—è¡¨ï¼š"><a href="#4ã€è·å–QQç©ºé—´éŸ³ä¹åˆ—è¡¨ï¼š" class="headerlink" title="4ã€è·å–QQç©ºé—´éŸ³ä¹åˆ—è¡¨ï¼š"></a>4ã€è·å–QQç©ºé—´éŸ³ä¹åˆ—è¡¨ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://qzone-music.qq.com/fcg-bin/cgi_playlist_xml.fcg?g_tk=1916754934&amp;json=1&amp;uin=QQå·ç </span><br></pre></td></tr></table></figure>

<h1 id="5ã€è·å–QQæ˜µç§°ï¼š"><a href="#5ã€è·å–QQæ˜µç§°ï¼š" class="headerlink" title="5ã€è·å–QQæ˜µç§°ï¼š"></a>5ã€è·å–QQæ˜µç§°ï¼š</h1><h3 id="â‘ -å·²å¤±æ•ˆ"><a href="#â‘ -å·²å¤±æ•ˆ" class="headerlink" title="â‘  å·²å¤±æ•ˆ"></a>â‘  å·²å¤±æ•ˆ</h3><p><s><a href="http://r.pengyou.com/fcg-bin/cgi_get_portrait.fcg?uins=QQå·ç ">http://r.pengyou.com/fcg-bin/cgi_get_portrait.fcg?uins=QQå·ç </a></s></p>
<h3 id="â‘¡-å·²å¤±æ•ˆ"><a href="#â‘¡-å·²å¤±æ•ˆ" class="headerlink" title="â‘¡ å·²å¤±æ•ˆ"></a>â‘¡ å·²å¤±æ•ˆ</h3><p><s><a href="http://users.qzone.qq.com/fcg-bin/cgi_get_portrait.fcg?uins=QQå·ç ">http://users.qzone.qq.com/fcg-bin/cgi_get_portrait.fcg?uins=QQå·ç </a></s></p>
<h3 id="å…¨æ–°çš„æœ‰æ•ˆçš„æ¥å£"><a href="#å…¨æ–°çš„æœ‰æ•ˆçš„æ¥å£" class="headerlink" title="å…¨æ–°çš„æœ‰æ•ˆçš„æ¥å£"></a>å…¨æ–°çš„æœ‰æ•ˆçš„æ¥å£</h3><span id="more"></span>

<h3 id="â‘¢-å·²å¤±æ•ˆ"><a href="#â‘¢-å·²å¤±æ•ˆ" class="headerlink" title="â‘¢ å·²å¤±æ•ˆ"></a>â‘¢ å·²å¤±æ•ˆ</h3><p><s><a href="https://h5.qzone.qq.com/proxy/domain/r.qzone.qq.com/cgi-bin/user/cgi_personal_card?g_tk=542577957&amp;uin=QQå·ç ">https://h5.qzone.qq.com/proxy/domain/r.qzone.qq.com/cgi-bin/user/cgi_personal_card?g_tk=542577957&amp;uin=QQå·ç </a></s></p>
<h1 id="6ã€ç™¾åº¦æ–‡å­—è½¬è¯­éŸ³åˆæˆæ¥å£ï¼š"><a href="#6ã€ç™¾åº¦æ–‡å­—è½¬è¯­éŸ³åˆæˆæ¥å£ï¼š" class="headerlink" title="6ã€ç™¾åº¦æ–‡å­—è½¬è¯­éŸ³åˆæˆæ¥å£ï¼š"></a>6ã€ç™¾åº¦æ–‡å­—è½¬è¯­éŸ³åˆæˆæ¥å£ï¼š</h1><p><s><a href="http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=2&amp;text=è¦è½¬æ¢çš„æ–‡å­—">http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=2&amp;text=è¦è½¬æ¢çš„æ–‡å­—</a></s></p>
<p>lan=zhï¼šè¯­è¨€æ˜¯ä¸­æ–‡ï¼Œå¦‚æœæ”¹ä¸ºlan=enï¼Œåˆ™è¯­è¨€æ˜¯è‹±æ–‡ã€‚</p>
<p>ie=UTF-8ï¼šæ–‡å­—æ ¼å¼ã€‚</p>
<p>spd=2ï¼šè¯­é€Ÿï¼Œå¯ä»¥æ˜¯1-9çš„æ•°å­—ï¼Œæ•°å­—è¶Šå¤§ï¼Œè¯­é€Ÿè¶Šå¿«ã€‚</p>
<p>text=**ï¼šè¿™ä¸ªå°±æ˜¯ä½ è¦è½¬æ¢çš„æ–‡å­—ã€‚</p>
<h1 id="7ã€éšæœºé¢œè‰²ä»£ç ï¼š"><a href="#7ã€éšæœºé¢œè‰²ä»£ç ï¼š" class="headerlink" title="7ã€éšæœºé¢œè‰²ä»£ç ï¼š"></a>7ã€éšæœºé¢œè‰²ä»£ç ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.hzv5.cn/ys.php?n=hex&amp;t=json</span><br></pre></td></tr></table></figure>

<p>å‚æ•°næœ‰ä¸¤ç§å±æ€§ï¼Œrgbå’Œhex,ç•™ç©ºé»˜è®¤ä¸¤ä¸ªå±æ€§æ•°æ®éƒ½è¿”å›ï¼</p>
<p>å‚æ•°tå±æ€§ä¹Ÿæœ‰ä¸¤ç§ï¼Œtextå’Œjsonï¼Œç•™ç©ºé»˜è®¤è¿”å›jsonæ•°æ®!</p>
<h1 id="8ã€ç”Ÿæˆéšæœºå¯†ç ï¼š"><a href="#8ã€ç”Ÿæˆéšæœºå¯†ç ï¼š" class="headerlink" title="8ã€ç”Ÿæˆéšæœºå¯†ç ï¼š"></a>8ã€ç”Ÿæˆéšæœºå¯†ç ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.hzv5.cn/randomcode.php?n=15</span><br></pre></td></tr></table></figure>

<p>å‚æ•°nç¬¦åˆæ¡ä»¶ï¼š50000â‰¥nâ‰¥3</p>
<h1 id="9ã€æ–‡æœ¬åŠ å¯†ä¸è§£å¯†-æœ‰ä¸€äº›å°é—®é¢˜-ï¼š"><a href="#9ã€æ–‡æœ¬åŠ å¯†ä¸è§£å¯†-æœ‰ä¸€äº›å°é—®é¢˜-ï¼š" class="headerlink" title="9ã€æ–‡æœ¬åŠ å¯†ä¸è§£å¯†(æœ‰ä¸€äº›å°é—®é¢˜)ï¼š"></a>9ã€æ–‡æœ¬åŠ å¯†ä¸è§£å¯†(æœ‰ä¸€äº›å°é—®é¢˜)ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.hzv5.cn/textencryption.php?t=text&amp;amp;w=encode&amp;amp;n=json</span><br></pre></td></tr></table></figure>

<p>å‚æ•°tï¼šéœ€è¦åŠ å¯†è§£å¯†çš„æ–‡æœ¬å†…å®¹</p>
<p>å‚æ•°wï¼šåŠ å¯† encode ï¼Œè§£å¯† decode</p>
<p>å‚æ•°nï¼šè¿”å›çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æ˜¯jsonå’Œtext</p>
<h1 id="10ã€äºŒç»´ç ç”Ÿæˆï¼š"><a href="#10ã€äºŒç»´ç ç”Ÿæˆï¼š" class="headerlink" title="10ã€äºŒç»´ç ç”Ÿæˆï¼š"></a>10ã€äºŒç»´ç ç”Ÿæˆï¼š</h1><p><s><a href="http://api.hzv5.cn/ewm.php?n=å†…å®¹">http://api.hzv5.cn/ewm.php?n=å†…å®¹</a></s></p>
<p>å‚æ•°nä¸ºéœ€è¦ç”Ÿæˆçš„äºŒç»´ç å†…å®¹ï¼</p>
<h1 id="11ã€çœ‹ç¾å¥³ï¼š"><a href="#11ã€çœ‹ç¾å¥³ï¼š" class="headerlink" title="11ã€çœ‹ç¾å¥³ï¼š"></a>11ã€çœ‹ç¾å¥³ï¼š</h1><p><s><a href="http://api.hzv5.cn/kmn.php">http://api.hzv5.cn/kmn.php</a></s></p>
<h1 id="12ã€æŸ¥å¿«é€’ï¼š"><a href="#12ã€æŸ¥å¿«é€’ï¼š" class="headerlink" title="12ã€æŸ¥å¿«é€’ï¼š"></a>12ã€æŸ¥å¿«é€’ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;s&gt;http://api.hzv5.cn/kd.php?n=&lt;s&gt;</span><br></pre></td></tr></table></figure>

<p>å‚æ•°nä¸ºå¿«é€’å•å·ã€‚</p>
<h1 id="13ã€ç™¾åº¦ç™¾ç§‘è¯æ¡ï¼š"><a href="#13ã€ç™¾åº¦ç™¾ç§‘è¯æ¡ï¼š" class="headerlink" title="13ã€ç™¾åº¦ç™¾ç§‘è¯æ¡ï¼š"></a>13ã€ç™¾åº¦ç™¾ç§‘è¯æ¡ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://api.hzv5.cn/bk.php?n=ä½ å¥½</span><br></pre></td></tr></table></figure>

<p>å‚æ•°nä¸ºè¦æœç´¢çš„å…³é”®å­—ã€‚</p>
<h1 id="14ã€æ›´å¤šäºŒç»´ç ç”Ÿæˆapi"><a href="#14ã€æ›´å¤šäºŒç»´ç ç”Ÿæˆapi" class="headerlink" title="14ã€æ›´å¤šäºŒç»´ç ç”Ÿæˆapi"></a>14ã€æ›´å¤šäºŒç»´ç ç”Ÿæˆapi</h1><p>â‘  iClickæ¥å£ (æ— https)</p>
<p><s><a href="http://bshare.optimix.asia/barCode?site=weixin&amp;url=http://www.hzv5.cn">http://bshare.optimix.asia/barCode?site=weixin&amp;url=http://www.hzv5.cn</a></s></p>
<p>â‘¡ è”å›¾ç½‘(æ— https)</p>
<p><s><a href="http://qr.liantu.com/api.php?text=http://www.hzv5.cn">http://qr.liantu.com/api.php?text=http://www.hzv5.cn</a></s></p>
<p>â‘¢ K780æ•°æ®ç½‘(æ”¯æŒhttpså’Œhttp)</p>
<s>
http://api.k780.com:88/?app=qr.get&data=http://www.hzv5.cn&level=L&size=6

<p><a href="https://sapi.k780.com/?app=qr.get&amp;data=http://www.hzv5.cn&amp;level=L&amp;size=6">https://sapi.k780.com/?app=qr.get&amp;data=http://www.hzv5.cn&amp;level=L&amp;size=6</a><br></s></p>
<p>â‘£ QR Code Generator(httpsæ¥å£)</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://api.qrserver.com/v1/create-qr-code/?size=150x150&amp;data=http://www.hzv5.cn</span><br></pre></td></tr></table></figure>


<h1 id="å¤±æ•ˆ"><a href="#å¤±æ•ˆ" class="headerlink" title="å¤±æ•ˆ"></a>å¤±æ•ˆ</h1><p>å¦‚æœæœ‰æ¥å£å¤±æ•ˆï¼Œè¯·ç•™è¨€è¯„è®ºå‘Šè¯‰æˆ‘ã€‚</p>
<p>å¦ï¼šæ›´å¤šå…¶ä»–æ¥å£ï¼Œæˆ–è€…æ‰¾å¯»å¤±æ•ˆæ¥å£çš„æ›¿ä»£æ¥å£ï¼Œå¯ä»¥åœ¨åšå®¢ä¸Šè‡ªè¡Œæœç´¢ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ›´å¤šapiæ­£åœ¨ä¸æ–­æ”¶é›†ä¸­ï¼Œè‹¥ä½ ä¹Ÿæœ‰å¥½çš„å…è´¹æ¥å£æƒ³è¦åˆ†äº«ï¼Œè¯·è¯„è®ºç•™è¨€å§ã€‚</p>
]]></content>
      <categories>
        <category>æ”¶é›†æ§</category>
      </categories>
      <tags>
        <tag>å…è´¹api</tag>
        <tag>æ¥å£æ”¶é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>UniAppä¸­Canvasç»˜å›¾çš„æ˜“é”™ç‚¹ä¸è¸©å‘æŒ‡å—</title>
    <url>/2025/01/10/uniapp-canvas-error/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨UniAppä¸­ä½¿ç”¨Canvasç»˜å›¾æ—¶ï¼Œå¸¸å¸¸ä¼šé‡åˆ°ä¸€äº›å®¹æ˜“å¿½ç•¥çš„é—®é¢˜å’Œé™·é˜±ã€‚æœ¬æ–‡å°†æ€»ç»“è¿™äº›æ˜“é”™ç‚¹ï¼Œå¹¶æä¾›è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ é¿å…è¸©å‘ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
</blockquote>
<span id="more"></span>

<hr>
<h3 id="1-æ˜“é”™ç‚¹ä¸è¸©å‘æŒ‡å—"><a href="#1-æ˜“é”™ç‚¹ä¸è¸©å‘æŒ‡å—" class="headerlink" title="1. æ˜“é”™ç‚¹ä¸è¸©å‘æŒ‡å—"></a><strong>1. æ˜“é”™ç‚¹ä¸è¸©å‘æŒ‡å—</strong></h3><h4 id="1-1-Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–"><a href="#1-1-Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–" class="headerlink" title="1.1 Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–"></a><strong>1.1 Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>è°ƒç”¨<code>uni.createCanvasContext</code>åï¼Œç»˜å›¾æ“ä½œæœªç”Ÿæ•ˆã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>æœªæ­£ç¡®è·å–Canvasä¸Šä¸‹æ–‡ï¼Œæˆ–æœªè°ƒç”¨<code>ctx.draw()</code>æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ç¡®ä¿æ­£ç¡®è·å–Canvasä¸Šä¸‹æ–‡ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
<li>åœ¨ç»˜å›¾æ“ä½œåè°ƒç”¨<code>ctx.draw()</code>ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">ctx.<span class="title function_">draw</span>(); <span class="comment">// å¿…é¡»è°ƒç”¨drawæ–¹æ³•æ‰ä¼šç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="1-2-Canvaså°ºå¯¸è®¾ç½®ä¸å½“"><a href="#1-2-Canvaså°ºå¯¸è®¾ç½®ä¸å½“" class="headerlink" title="1.2 Canvaså°ºå¯¸è®¾ç½®ä¸å½“"></a><strong>1.2 Canvaså°ºå¯¸è®¾ç½®ä¸å½“</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>Canvasç»˜å›¾å†…å®¹æ˜¾ç¤ºä¸å…¨æˆ–å®Œå…¨ä¸å¯è§ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasçš„å®½åº¦æˆ–é«˜åº¦è®¾ç½®ä¸æ­£ç¡®ï¼Œæˆ–è€…æœªé€‚é…å±å¹•åˆ†è¾¨ç‡ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨<code>&lt;canvas&gt;</code>æ ‡ç­¾ä¸­è®¾ç½®æ­£ç¡®çš„å®½åº¦å’Œé«˜åº¦ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨<code>uni.getSystemInfoSync</code>è·å–å±å¹•å®½åº¦å¹¶åŠ¨æ€è®¾ç½®Canvaså°ºå¯¸ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> systemInfo = uni.<span class="title function_">getSystemInfoSync</span>();</span><br><span class="line"><span class="keyword">const</span> canvasWidth = systemInfo.<span class="property">windowWidth</span>;</span><br><span class="line"><span class="keyword">const</span> canvasHeight = systemInfo.<span class="property">windowHeight</span>;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="1-3-Canvaså±‚çº§é—®é¢˜"><a href="#1-3-Canvaså±‚çº§é—®é¢˜" class="headerlink" title="1.3 Canvaså±‚çº§é—®é¢˜"></a><strong>1.3 Canvaså±‚çº§é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>Canvasè¢«å…¶ä»–ç»„ä»¶é®æŒ¡ï¼Œå¯¼è‡´ç»˜å›¾å†…å®¹ä¸å¯è§ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasçš„å±‚çº§ï¼ˆz-indexï¼‰è¾ƒä½ï¼Œæˆ–è¢«å…¶ä»–ç»„ä»¶è¦†ç›–ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ä½¿ç”¨<code>position: fixed</code>æˆ–<code>position: absolute</code>æå‡Canvaså±‚çº§ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: fixed; top: 0; left: 0;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>é¿å…åœ¨Canvasä¸Šæ–¹æ”¾ç½®å…¶ä»–ç»„ä»¶ã€‚</li>
</ol>
</li>
</ul>
<h4 id="1-4-Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜"><a href="#1-4-Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜" class="headerlink" title="1.4 Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜"></a><strong>1.4 Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>åœ¨é¡µé¢åŠ è½½æ—¶ç»˜å›¾ï¼Œä½†å†…å®¹æœªæ˜¾ç¤ºã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasæ¸²æŸ“æ—¶æœºè¿‡æ—©ï¼Œé¡µé¢å°šæœªå®Œå…¨åŠ è½½ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨<code>onReady</code>ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œç»˜å›¾æ“ä½œï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br><span class="line">    ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    ctx.<span class="title function_">draw</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨<code>setTimeout</code>å»¶è¿Ÿç»˜å›¾æ“ä½œï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br><span class="line">  ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.<span class="title function_">draw</span>();</span><br><span class="line">&#125;, <span class="number">500</span>);</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="1-5-Canvasç»˜å›¾æ€§èƒ½é—®é¢˜"><a href="#1-5-Canvasç»˜å›¾æ€§èƒ½é—®é¢˜" class="headerlink" title="1.5 Canvasç»˜å›¾æ€§èƒ½é—®é¢˜"></a><strong>1.5 Canvasç»˜å›¾æ€§èƒ½é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>ç»˜å›¾æ“ä½œå¡é¡¿æˆ–å»¶è¿Ÿã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>ç»˜å›¾æ“ä½œè¿‡äºé¢‘ç¹ï¼Œæˆ–Canvaså°ºå¯¸è¿‡å¤§ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>å‡å°‘ä¸å¿…è¦çš„ç»˜å›¾æ“ä½œã€‚</li>
<li>ä½¿ç”¨<code>ctx.draw(true)</code>å¼€å¯ç¦»å±æ¸²æŸ“ï¼Œæå‡æ€§èƒ½ã€‚</li>
</ol>
</li>
</ul>
<h4 id="1-6-Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š"><a href="#1-6-Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š" class="headerlink" title="1.6 Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š"></a><strong>1.6 Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>ç»˜å›¾å†…å®¹æ˜¾ç¤ºæ¨¡ç³Šã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasçš„CSSå°ºå¯¸ä¸ç”»å¸ƒåˆ†è¾¨ç‡ä¸åŒ¹é…ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ä½¿ç”¨<code>uni.getSystemInfoSync</code>è·å–è®¾å¤‡åƒç´ æ¯”ï¼ˆ<code>pixelRatio</code>ï¼‰ï¼Œå¹¶è®¾ç½®Canvasçš„å®é™…åˆ†è¾¨ç‡ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> systemInfo = uni.<span class="title function_">getSystemInfoSync</span>();</span><br><span class="line"><span class="keyword">const</span> pixelRatio = systemInfo.<span class="property">pixelRatio</span>;</span><br><span class="line"><span class="keyword">const</span> canvasWidth = <span class="number">300</span> * pixelRatio;</span><br><span class="line"><span class="keyword">const</span> canvasHeight = <span class="number">300</span> * pixelRatio;</span><br></pre></td></tr></table></figure></li>
<li>åœ¨CSSä¸­è®¾ç½®Canvasçš„æ˜¾ç¤ºå°ºå¯¸ä¸ºé€»è¾‘åƒç´ ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<hr>
<h3 id="2-ç¤ºä¾‹ä»£ç "><a href="#2-ç¤ºä¾‹ä»£ç " class="headerlink" title="2. ç¤ºä¾‹ä»£ç "></a><strong>2. ç¤ºä¾‹ä»£ç </strong></h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„Canvasç»˜å›¾ç¤ºä¾‹ï¼Œæ¶µç›–äº†ä¸Šè¿°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="title function_">drawCanvas</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">drawCanvas</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> systemInfo = uni.<span class="title function_">getSystemInfoSync</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> pixelRatio = systemInfo.<span class="property">pixelRatio</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvasWidth = <span class="number">300</span> * pixelRatio;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvasHeight = <span class="number">300</span> * pixelRatio;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">draw</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a><strong>3. æ€»ç»“</strong></h3><p>åœ¨UniAppä¸­ä½¿ç”¨Canvasç»˜å›¾æ—¶ï¼Œå¸¸è§çš„æ˜“é”™ç‚¹åŒ…æ‹¬ä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–ã€Canvaså°ºå¯¸é—®é¢˜ã€å±‚çº§é—®é¢˜å’Œæ¸²æŸ“æ—¶æœºé—®é¢˜ã€‚é€šè¿‡æœ¬æ–‡æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥å¿«é€Ÿå®šä½å¹¶è§£å†³è¿™äº›é—®é¢˜ï¼Œç¡®ä¿Canvasç»˜å›¾å†…å®¹æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<blockquote>
<p>å¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœæœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶äº¤æµï¼ ğŸš€</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
        <category>canvas</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>ç»„ä»¶å¼€å‘</tag>
        <tag>UIç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>QQé¢‘é“æœºå™¨äººä¸UniAppå¼€å‘ï¼šå¸¸è§è¸©å‘ç‚¹ä¸è§£å†³æ–¹æ¡ˆ</title>
    <url>/2025/01/07/uniapp-qq-channel-bot/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨å¼€å‘QQé¢‘é“æœºå™¨äººå’ŒUniAppåº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›å¸¸è§çš„é”™è¯¯å’Œå‘ã€‚æœ¬æ–‡å°†æ€»ç»“è¿™äº›å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ï¼Œå¹¶æä¾›è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ æ›´é¡ºåˆ©åœ°å®Œæˆå¼€å‘ã€‚</p>
</blockquote>
<span id="more"></span>

<hr>
<h3 id="1-QQé¢‘é“æœºå™¨äººå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜"><a href="#1-QQé¢‘é“æœºå™¨äººå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜" class="headerlink" title="1. QQé¢‘é“æœºå™¨äººå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜"></a><strong>1. QQé¢‘é“æœºå™¨äººå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜</strong></h3><h4 id="1-1-æƒé™é—®é¢˜"><a href="#1-1-æƒé™é—®é¢˜" class="headerlink" title="1.1 æƒé™é—®é¢˜"></a><strong>1.1 æƒé™é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>è°ƒç”¨APIæ—¶è¿”å›â€œæƒé™ä¸è¶³â€æˆ–â€œæœªæˆæƒâ€é”™è¯¯ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>æœªæ­£ç¡®ç”³è¯·APIæƒé™ï¼Œæˆ–æœªåœ¨è¯·æ±‚å¤´ä¸­æºå¸¦æ­£ç¡®çš„<code>Authorization</code>ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨QQå¼€æ”¾å¹³å°ç¡®è®¤å·²ç”³è¯·ç›¸å…³APIæƒé™ã€‚</li>
<li>ç¡®ä¿è¯·æ±‚å¤´ä¸­åŒ…å«æ­£ç¡®çš„<code>Authorization</code>ï¼Œæ ¼å¼ä¸ºï¼š<code>Bot &#123;BotToken&#125;</code>ã€‚</li>
</ol>
</li>
</ul>
<h4 id="1-2-æ¶ˆæ¯å‘é€å¤±è´¥"><a href="#1-2-æ¶ˆæ¯å‘é€å¤±è´¥" class="headerlink" title="1.2 æ¶ˆæ¯å‘é€å¤±è´¥"></a><strong>1.2 æ¶ˆæ¯å‘é€å¤±è´¥</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>å‘é€æ¶ˆæ¯æ—¶è¿”å›â€œé¢‘é“ä¸å­˜åœ¨â€æˆ–â€œæ¶ˆæ¯å‘é€å¤±è´¥â€ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>é¢‘é“IDé”™è¯¯ï¼Œæˆ–æœºå™¨äººæœªåŠ å…¥ç›®æ ‡é¢‘é“ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ç¡®è®¤é¢‘é“IDæ˜¯å¦æ­£ç¡®ã€‚</li>
<li>ç¡®ä¿æœºå™¨äººå·²åŠ å…¥ç›®æ ‡é¢‘é“ã€‚</li>
</ol>
</li>
</ul>
<h4 id="1-3-Webhooké…ç½®é—®é¢˜"><a href="#1-3-Webhooké…ç½®é—®é¢˜" class="headerlink" title="1.3 Webhooké…ç½®é—®é¢˜"></a><strong>1.3 Webhooké…ç½®é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>Webhookæ— æ³•æ¥æ”¶æ¶ˆæ¯ï¼Œæˆ–æ¶ˆæ¯æ ¼å¼è§£æå¤±è´¥ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Webhookåœ°å€æœªæ­£ç¡®é…ç½®ï¼Œæˆ–æœªå¤„ç†æ¶ˆæ¯çš„åŠ å¯†å’Œç­¾åã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨QQå¼€æ”¾å¹³å°æ­£ç¡®é…ç½®Webhookåœ°å€ã€‚</li>
<li>å‚è€ƒå®˜æ–¹æ–‡æ¡£å¤„ç†æ¶ˆæ¯çš„åŠ å¯†å’Œç­¾åéªŒè¯ã€‚</li>
</ol>
</li>
</ul>
<hr>
<h3 id="2-UniAppå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜"><a href="#2-UniAppå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜" class="headerlink" title="2. UniAppå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜"></a><strong>2. UniAppå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜</strong></h3><h4 id="2-1-è·¨åŸŸé—®é¢˜"><a href="#2-1-è·¨åŸŸé—®é¢˜" class="headerlink" title="2.1 è·¨åŸŸé—®é¢˜"></a><strong>2.1 è·¨åŸŸé—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>åœ¨H5ç«¯è°ƒç”¨APIæ—¶ï¼Œå‡ºç°è·¨åŸŸé”™è¯¯ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>åç«¯æœåŠ¡æœªé…ç½®CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨åç«¯æœåŠ¡ä¸­æ·»åŠ CORSæ”¯æŒï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type&#x27;</span>);</span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li>åœ¨UniAppä¸­ä½¿ç”¨ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ï¼š<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="comment">// manifest.json</span></span><br><span class="line"><span class="attr">&quot;h5&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;devServer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;proxy&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;/api&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://your-server.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;changeOrigin&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="2-2-æ ·å¼å…¼å®¹æ€§é—®é¢˜"><a href="#2-2-æ ·å¼å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="2.2 æ ·å¼å…¼å®¹æ€§é—®é¢˜"></a><strong>2.2 æ ·å¼å…¼å®¹æ€§é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>åœ¨ä¸åŒå¹³å°ä¸Šæ ·å¼æ˜¾ç¤ºä¸ä¸€è‡´ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>ä¸åŒå¹³å°å¯¹CSSçš„æ”¯æŒå­˜åœ¨å·®å¼‚ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ä½¿ç”¨UniAppæä¾›çš„æ¡ä»¶ç¼–è¯‘åŠŸèƒ½ï¼Œé’ˆå¯¹ä¸åŒå¹³å°ç¼–å†™æ ·å¼ï¼š<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* #ifdef H5 */</span></span><br><span class="line"><span class="selector-class">.container</span> &#123; <span class="attribute">padding</span>: <span class="number">10px</span>; &#125;</span><br><span class="line"><span class="comment">/* #endif */</span></span><br><span class="line"><span class="comment">/* #ifdef MP-WEIXIN */</span></span><br><span class="line"><span class="selector-class">.container</span> &#123; <span class="attribute">padding</span>: <span class="number">20px</span>; &#125;</span><br><span class="line"><span class="comment">/* #endif */</span></span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨Flexboxæˆ–Gridå¸ƒå±€ï¼Œé¿å…ä½¿ç”¨å¹³å°ç‰¹å®šçš„æ ·å¼ã€‚</li>
</ol>
</li>
</ul>
<h4 id="2-3-çœŸæœºè°ƒè¯•é—®é¢˜"><a href="#2-3-çœŸæœºè°ƒè¯•é—®é¢˜" class="headerlink" title="2.3 çœŸæœºè°ƒè¯•é—®é¢˜"></a><strong>2.3 çœŸæœºè°ƒè¯•é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>åœ¨çœŸæœºä¸Šè¿è¡Œæ—¶ï¼ŒåŠŸèƒ½å¼‚å¸¸æˆ–æ— æ³•è°ƒè¯•ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>çœŸæœºç¯å¢ƒä¸å¼€å‘ç¯å¢ƒå­˜åœ¨å·®å¼‚ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ä½¿ç”¨HBuilderXçš„çœŸæœºè°ƒè¯•åŠŸèƒ½ï¼Œå®æ—¶æŸ¥çœ‹æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯ã€‚</li>
<li>ç¡®ä¿çœŸæœºä¸å¼€å‘æœºåœ¨åŒä¸€å±€åŸŸç½‘ä¸‹ï¼Œå¹¶æ­£ç¡®é…ç½®ç½‘ç»œæƒé™ã€‚</li>
</ol>
</li>
</ul>
<hr>
<h3 id="3-ç»“åˆå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜"><a href="#3-ç»“åˆå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜" class="headerlink" title="3. ç»“åˆå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜"></a><strong>3. ç»“åˆå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜</strong></h3><h4 id="3-1-æ•°æ®æ ¼å¼ä¸ä¸€è‡´"><a href="#3-1-æ•°æ®æ ¼å¼ä¸ä¸€è‡´" class="headerlink" title="3.1 æ•°æ®æ ¼å¼ä¸ä¸€è‡´"></a><strong>3.1 æ•°æ®æ ¼å¼ä¸ä¸€è‡´</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>QQé¢‘é“APIè¿”å›çš„æ•°æ®æ ¼å¼ä¸UniAppå‰ç«¯é¢„æœŸä¸ä¸€è‡´ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>æœªå¯¹APIè¿”å›çš„æ•°æ®è¿›è¡Œæ ¼å¼åŒ–å¤„ç†ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨åç«¯æœåŠ¡ä¸­å¯¹APIè¿”å›çš„æ•°æ®è¿›è¡Œæ ¼å¼åŒ–ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">formatMessage</span> = (<span class="params">message</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">id</span>: message.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">content</span>: message.<span class="property">content</span>,</span><br><span class="line">    <span class="attr">timestamp</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(message.<span class="property">timestamp</span>).<span class="title function_">toLocaleString</span>()</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li>åœ¨UniAppå‰ç«¯ä½¿ç”¨<code>computed</code>å±æ€§å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="title function_">formattedMessages</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">messages</span>.<span class="title function_">map</span>(<span class="function"><span class="params">msg</span> =&gt;</span> (&#123;</span><br><span class="line">      ...msg,</span><br><span class="line">      <span class="attr">timestamp</span>: <span class="keyword">new</span> <span class="title class_">Date</span>(msg.<span class="property">timestamp</span>).<span class="title function_">toLocaleString</span>()</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="3-2-ç½‘ç»œè¯·æ±‚è¶…æ—¶"><a href="#3-2-ç½‘ç»œè¯·æ±‚è¶…æ—¶" class="headerlink" title="3.2 ç½‘ç»œè¯·æ±‚è¶…æ—¶"></a><strong>3.2 ç½‘ç»œè¯·æ±‚è¶…æ—¶</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>ç½‘ç»œè¯·æ±‚è¶…æ—¶ï¼Œå¯¼è‡´åŠŸèƒ½å¼‚å¸¸ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>ç½‘ç»œç¯å¢ƒä¸ç¨³å®šï¼Œæˆ–è¯·æ±‚æœªè®¾ç½®è¶…æ—¶æ—¶é—´ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨UniAppä¸­è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://your-server.com/api&#x27;</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">5000</span>, <span class="comment">// è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º5ç§’</span></span><br><span class="line">  <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li>åœ¨åç«¯æœåŠ¡ä¸­ä¼˜åŒ–æ¥å£æ€§èƒ½ï¼Œå‡å°‘å“åº”æ—¶é—´ã€‚</li>
</ol>
</li>
</ul>
<hr>
<h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a><strong>4. æ€»ç»“</strong></h3><p>åœ¨å¼€å‘QQé¢‘é“æœºå™¨äººå’ŒUniAppåº”ç”¨æ—¶ï¼Œæƒé™é—®é¢˜ã€è·¨åŸŸé—®é¢˜ã€æ ·å¼å…¼å®¹æ€§å’Œç½‘ç»œè¯·æ±‚æ˜¯å¸¸è§çš„è¸©å‘ç‚¹ã€‚é€šè¿‡æœ¬æ–‡æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥æœ‰æ•ˆé¿å…è¿™äº›é—®é¢˜ï¼Œæå‡å¼€å‘æ•ˆç‡å’Œé¡¹ç›®è´¨é‡ã€‚</p>
<blockquote>
<p>å¦‚æœä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ ğŸ˜Š</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
        <category>QQæœºå™¨äºº</category>
        <category>QQé¢‘é“</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>QQé¢‘é“</tag>
        <tag>QQæœºå™¨äºº</tag>
        <tag>uni-app</tag>
      </tags>
  </entry>
  <entry>
    <title>UniAppä¸­Canvasç»˜å›¾ä¸æ˜¾ç¤ºçš„å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</title>
    <url>/2025/01/02/uniapp-canvas-not-show/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨UniAppä¸­ä½¿ç”¨Canvasç»˜å›¾æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ç»˜å›¾å†…å®¹ä¸æ˜¾ç¤ºçš„é—®é¢˜ã€‚æœ¬æ–‡å°†æ€»ç»“è¿™äº›å¸¸è§é—®é¢˜çš„åŸå› ï¼Œå¹¶æä¾›è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©ä½ å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚</p>
</blockquote>
<span id="more"></span>

<hr>
<h3 id="1-Canvasç»˜å›¾ä¸æ˜¾ç¤ºçš„å¸¸è§åŸå› "><a href="#1-Canvasç»˜å›¾ä¸æ˜¾ç¤ºçš„å¸¸è§åŸå› " class="headerlink" title="1. Canvasç»˜å›¾ä¸æ˜¾ç¤ºçš„å¸¸è§åŸå› "></a><strong>1. Canvasç»˜å›¾ä¸æ˜¾ç¤ºçš„å¸¸è§åŸå› </strong></h3><h4 id="1-1-Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–"><a href="#1-1-Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–" class="headerlink" title="1.1 Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–"></a><strong>1.1 Canvasä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>è°ƒç”¨<code>uni.createCanvasContext</code>åï¼Œç»˜å›¾æ“ä½œæœªç”Ÿæ•ˆã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>æœªæ­£ç¡®è·å–Canvasä¸Šä¸‹æ–‡ï¼Œæˆ–æœªè°ƒç”¨<code>ctx.draw()</code>æ–¹æ³•ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ç¡®ä¿æ­£ç¡®è·å–Canvasä¸Šä¸‹æ–‡ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br></pre></td></tr></table></figure></li>
<li>åœ¨ç»˜å›¾æ“ä½œåè°ƒç”¨<code>ctx.draw()</code>ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">ctx.<span class="title function_">draw</span>(); <span class="comment">// å¿…é¡»è°ƒç”¨drawæ–¹æ³•æ‰ä¼šç”Ÿæ•ˆ</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="1-2-Canvaså°ºå¯¸é—®é¢˜"><a href="#1-2-Canvaså°ºå¯¸é—®é¢˜" class="headerlink" title="1.2 Canvaså°ºå¯¸é—®é¢˜"></a><strong>1.2 Canvaså°ºå¯¸é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>Canvasç»˜å›¾å†…å®¹æ˜¾ç¤ºä¸å…¨æˆ–å®Œå…¨ä¸å¯è§ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasçš„å®½åº¦æˆ–é«˜åº¦è®¾ç½®ä¸æ­£ç¡®ï¼Œæˆ–è€…æœªé€‚é…å±å¹•åˆ†è¾¨ç‡ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨<code>&lt;canvas&gt;</code>æ ‡ç­¾ä¸­è®¾ç½®æ­£ç¡®çš„å®½åº¦å’Œé«˜åº¦ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨<code>uni.getSystemInfoSync</code>è·å–å±å¹•å®½åº¦å¹¶åŠ¨æ€è®¾ç½®Canvaså°ºå¯¸ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> systemInfo = uni.<span class="title function_">getSystemInfoSync</span>();</span><br><span class="line"><span class="keyword">const</span> canvasWidth = systemInfo.<span class="property">windowWidth</span>;</span><br><span class="line"><span class="keyword">const</span> canvasHeight = systemInfo.<span class="property">windowHeight</span>;</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<h4 id="1-3-Canvaså±‚çº§é—®é¢˜"><a href="#1-3-Canvaså±‚çº§é—®é¢˜" class="headerlink" title="1.3 Canvaså±‚çº§é—®é¢˜"></a><strong>1.3 Canvaså±‚çº§é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>Canvasè¢«å…¶ä»–ç»„ä»¶é®æŒ¡ï¼Œå¯¼è‡´ç»˜å›¾å†…å®¹ä¸å¯è§ã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasçš„å±‚çº§ï¼ˆz-indexï¼‰è¾ƒä½ï¼Œæˆ–è¢«å…¶ä»–ç»„ä»¶è¦†ç›–ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ä½¿ç”¨<code>position: fixed</code>æˆ–<code>position: absolute</code>æå‡Canvaså±‚çº§ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: fixed; top: 0; left: 0;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
<li>é¿å…åœ¨Canvasä¸Šæ–¹æ”¾ç½®å…¶ä»–ç»„ä»¶ã€‚</li>
</ol>
</li>
</ul>
<h4 id="1-4-Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜"><a href="#1-4-Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜" class="headerlink" title="1.4 Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜"></a><strong>1.4 Canvasæ¸²æŸ“æ—¶æœºé—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>åœ¨é¡µé¢åŠ è½½æ—¶ç»˜å›¾ï¼Œä½†å†…å®¹æœªæ˜¾ç¤ºã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasæ¸²æŸ“æ—¶æœºè¿‡æ—©ï¼Œé¡µé¢å°šæœªå®Œå…¨åŠ è½½ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>åœ¨<code>onReady</code>ç”Ÿå‘½å‘¨æœŸä¸­æ‰§è¡Œç»˜å›¾æ“ä½œï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br><span class="line">    ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">    ctx.<span class="title function_">draw</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
<li>ä½¿ç”¨<code>setTimeout</code>å»¶è¿Ÿç»˜å›¾æ“ä½œï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span><br><span class="line">  ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span><br><span class="line">  ctx.<span class="title function_">draw</span>();</span><br><span class="line">&#125;, <span class="number">500</span>);</span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<hr>
<h3 id="2-å…¶ä»–å¸¸è§é—®é¢˜"><a href="#2-å…¶ä»–å¸¸è§é—®é¢˜" class="headerlink" title="2. å…¶ä»–å¸¸è§é—®é¢˜"></a><strong>2. å…¶ä»–å¸¸è§é—®é¢˜</strong></h3><h4 id="2-1-Canvasç»˜å›¾æ€§èƒ½é—®é¢˜"><a href="#2-1-Canvasç»˜å›¾æ€§èƒ½é—®é¢˜" class="headerlink" title="2.1 Canvasç»˜å›¾æ€§èƒ½é—®é¢˜"></a><strong>2.1 Canvasç»˜å›¾æ€§èƒ½é—®é¢˜</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>ç»˜å›¾æ“ä½œå¡é¡¿æˆ–å»¶è¿Ÿã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>ç»˜å›¾æ“ä½œè¿‡äºé¢‘ç¹ï¼Œæˆ–Canvaså°ºå¯¸è¿‡å¤§ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>å‡å°‘ä¸å¿…è¦çš„ç»˜å›¾æ“ä½œã€‚</li>
<li>ä½¿ç”¨<code>ctx.draw(true)</code>å¼€å¯ç¦»å±æ¸²æŸ“ï¼Œæå‡æ€§èƒ½ã€‚</li>
</ol>
</li>
</ul>
<h4 id="2-2-Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š"><a href="#2-2-Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š" class="headerlink" title="2.2 Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š"></a><strong>2.2 Canvasç»˜å›¾å†…å®¹æ¨¡ç³Š</strong></h4><ul>
<li><strong>é—®é¢˜æè¿°</strong>ï¼š<ul>
<li>ç»˜å›¾å†…å®¹æ˜¾ç¤ºæ¨¡ç³Šã€‚</li>
</ul>
</li>
<li><strong>åŸå› </strong>ï¼š<ul>
<li>Canvasçš„CSSå°ºå¯¸ä¸ç”»å¸ƒåˆ†è¾¨ç‡ä¸åŒ¹é…ã€‚</li>
</ul>
</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š<ol>
<li>ä½¿ç”¨<code>uni.getSystemInfoSync</code>è·å–è®¾å¤‡åƒç´ æ¯”ï¼ˆ<code>pixelRatio</code>ï¼‰ï¼Œå¹¶è®¾ç½®Canvasçš„å®é™…åˆ†è¾¨ç‡ï¼š<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> systemInfo = uni.<span class="title function_">getSystemInfoSync</span>();</span><br><span class="line"><span class="keyword">const</span> pixelRatio = systemInfo.<span class="property">pixelRatio</span>;</span><br><span class="line"><span class="keyword">const</span> canvasWidth = <span class="number">300</span> * pixelRatio;</span><br><span class="line"><span class="keyword">const</span> canvasHeight = <span class="number">300</span> * pixelRatio;</span><br></pre></td></tr></table></figure></li>
<li>åœ¨CSSä¸­è®¾ç½®Canvasçš„æ˜¾ç¤ºå°ºå¯¸ä¸ºé€»è¾‘åƒç´ ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
</li>
</ul>
<hr>
<h3 id="3-ç¤ºä¾‹ä»£ç "><a href="#3-ç¤ºä¾‹ä»£ç " class="headerlink" title="3. ç¤ºä¾‹ä»£ç "></a><strong>3. ç¤ºä¾‹ä»£ç </strong></h3><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„Canvasç»˜å›¾ç¤ºä¾‹ï¼Œæ¶µç›–äº†ä¸Šè¿°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">canvas-id</span>=<span class="string">&quot;myCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 300px; height: 300px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="title function_">drawCanvas</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">drawCanvas</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> systemInfo = uni.<span class="title function_">getSystemInfoSync</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> pixelRatio = systemInfo.<span class="property">pixelRatio</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvasWidth = <span class="number">300</span> * pixelRatio;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> canvasHeight = <span class="number">300</span> * pixelRatio;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> ctx = uni.<span class="title function_">createCanvasContext</span>(<span class="string">&#x27;myCanvas&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">fillRect</span>(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>);</span></span><br><span class="line"><span class="language-javascript">      ctx.<span class="title function_">draw</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4. æ€»ç»“"></a><strong>4. æ€»ç»“</strong></h3><p>åœ¨UniAppä¸­ä½¿ç”¨Canvasç»˜å›¾æ—¶ï¼Œå¸¸è§çš„é—®é¢˜åŒ…æ‹¬ä¸Šä¸‹æ–‡æœªæ­£ç¡®è·å–ã€Canvaså°ºå¯¸é—®é¢˜ã€å±‚çº§é—®é¢˜å’Œæ¸²æŸ“æ—¶æœºé—®é¢˜ã€‚é€šè¿‡æœ¬æ–‡æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥å¿«é€Ÿå®šä½å¹¶è§£å†³è¿™äº›é—®é¢˜ï¼Œç¡®ä¿Canvasç»˜å›¾å†…å®¹æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<blockquote>
<p>å¸Œæœ›è¿™ç¯‡åšå®¢å¯¹ä½ æœ‰å¸®åŠ©ï¼å¦‚æœæœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶äº¤æµï¼ ğŸš€</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
        <category>canvas</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>ç»„ä»¶å¼€å‘</tag>
        <tag>UIç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoåšå®¢å®ç°éšæœºæ–‡ç« åŠŸèƒ½çš„å®Œæ•´æ•™ç¨‹</title>
    <url>/2025/01/01/hexo-random-post/</url>
    <content><![CDATA[<blockquote>
<p>æƒ³è¦ç»™åšå®¢å¢åŠ ä¸€äº›è¶£å‘³æ€§ï¼Ÿè®©è¯»è€…å¯ä»¥éšæœºæµè§ˆä½ çš„æ–‡ç« æ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨Hexoåšå®¢ä¸­å®ç°éšæœºæ–‡ç« åŠŸèƒ½ï¼Œå°±è·Ÿæœ¬åšå®¢çš„ä¾§æ å¯¼èˆªä¸­çš„ã€<a href="/random" title="éšæœºè·å–ä¸€ç¯‡åšæ–‡ - å–è¿œzzy">æ‰‹æ°”</a>ã€‘èœå•ä¸€æ ·çš„æ•ˆæœã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-åŠŸèƒ½ä»‹ç»"><a href="#1-åŠŸèƒ½ä»‹ç»" class="headerlink" title="1. åŠŸèƒ½ä»‹ç»"></a>1. åŠŸèƒ½ä»‹ç»</h2><p>éšæœºæ–‡ç« åŠŸèƒ½å¯ä»¥è®©è®¿é—®è€…éšæœºæµè§ˆåšå®¢ä¸­çš„ä»»æ„ä¸€ç¯‡æ–‡ç« ,è¿™ä¸ä»…èƒ½å¢åŠ åšå®¢çš„è¶£å‘³æ€§,è¿˜èƒ½æé«˜æ–‡ç« çš„æ›å…‰ç‡,è®©ä¸€äº›æ—©æœŸçš„ä¼˜è´¨æ–‡ç« ä¹Ÿæœ‰æœºä¼šè¢«è¯»è€…å‘ç°ã€‚</p>
<h2 id="2-å®ç°æ­¥éª¤"><a href="#2-å®ç°æ­¥éª¤" class="headerlink" title="2. å®ç°æ­¥éª¤"></a>2. å®ç°æ­¥éª¤</h2><h3 id="2-1-åˆ›å»ºæ¨¡æ¿æ–‡ä»¶"><a href="#2-1-åˆ›å»ºæ¨¡æ¿æ–‡ä»¶" class="headerlink" title="2.1 åˆ›å»ºæ¨¡æ¿æ–‡ä»¶"></a>2.1 åˆ›å»ºæ¨¡æ¿æ–‡ä»¶</h3><p>é¦–å…ˆåœ¨ä¸»é¢˜çš„<code>layout</code>ç›®å½•ä¸‹åˆ›å»º<code>random.ejs</code>æ–‡ä»¶:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">// è·å–æ‰€æœ‰æ–‡ç« </span><br><span class="line">const posts = site.posts.data;</span><br><span class="line">// éšæœºé€‰æ‹©ä¸€ç¯‡æ–‡ç« </span><br><span class="line">const randomPost = posts[Math.floor(Math.random() * posts.length)];</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// ç«‹å³é‡å®šå‘åˆ°éšæœºæ–‡ç« </span><br><span class="line">window.location.href = &#x27;&lt;%- url_for(randomPost.path) %&gt;&#x27;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;noscript&gt;</span><br><span class="line">  &lt;div style=&quot;text-align: center; padding: 20px;&quot;&gt;</span><br><span class="line">    &lt;p&gt;è¯·ç‚¹å‡»ä¸‹æ–¹é“¾æ¥è®¿é—®éšæœºæ–‡ç« ï¼š&lt;/p&gt;</span><br><span class="line">    &lt;a href=&quot;&lt;%- url_for(randomPost.path) %&gt;&quot;&gt;&lt;%- randomPost.title %&gt;&lt;/a&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/noscript&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-åˆ›å»ºé¡µé¢æ–‡ä»¶"><a href="#2-2-åˆ›å»ºé¡µé¢æ–‡ä»¶" class="headerlink" title="2.2 åˆ›å»ºé¡µé¢æ–‡ä»¶"></a>2.2 åˆ›å»ºé¡µé¢æ–‡ä»¶</h3><p>åœ¨<code>source</code>ç›®å½•ä¸‹åˆ›å»º<code>random</code>æ–‡ä»¶å¤¹,å¹¶åœ¨å…¶ä¸­åˆ›å»º<code>index.md</code>:</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: éšæœºæ–‡ç« </span><br><span class="line">date: 2023-12-31 12:00:00</span><br><span class="line">type: random</span><br><span class="line">layout: random</span><br><span class="line"><span class="section">comments: false</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-æ·»åŠ èœå•é¡¹"><a href="#2-3-æ·»åŠ èœå•é¡¹" class="headerlink" title="2.3 æ·»åŠ èœå•é¡¹"></a>2.3 æ·»åŠ èœå•é¡¹</h3><p>åœ¨ä¸»é¢˜çš„<code>_config.yml</code>ä¸­æ·»åŠ èœå•é¡¹:</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">random:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/random</span></span><br><span class="line">    <span class="attr">text:</span> <span class="string">æ‰‹æ°”</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fas</span> <span class="string">fa-random</span></span><br></pre></td></tr></table></figure>

<h2 id="3-åŠŸèƒ½è¯´æ˜"><a href="#3-åŠŸèƒ½è¯´æ˜" class="headerlink" title="3. åŠŸèƒ½è¯´æ˜"></a>3. åŠŸèƒ½è¯´æ˜</h2><h3 id="3-1-å·¥ä½œåŸç†"><a href="#3-1-å·¥ä½œåŸç†" class="headerlink" title="3.1 å·¥ä½œåŸç†"></a>3.1 å·¥ä½œåŸç†</h3><ol>
<li>å½“è®¿é—®è€…ç‚¹å‡»â€éšæœºæ–‡ç« â€èœå•æ—¶,ä¼šè®¿é—®<code>/random</code>é¡µé¢</li>
<li>æ¨¡æ¿ä¼šä»æ‰€æœ‰æ–‡ç« ä¸­éšæœºé€‰æ‹©ä¸€ç¯‡</li>
<li>é€šè¿‡JavaScriptè‡ªåŠ¨è·³è½¬åˆ°é€‰ä¸­çš„æ–‡ç« </li>
<li>å¦‚æœæµè§ˆå™¨ç¦ç”¨äº†JavaScript,åˆ™æ˜¾ç¤ºä¸€ä¸ªå¯ç‚¹å‡»çš„é“¾æ¥</li>
</ol>
<h3 id="3-2-ä¼˜åŒ–å»ºè®®"><a href="#3-2-ä¼˜åŒ–å»ºè®®" class="headerlink" title="3.2 ä¼˜åŒ–å»ºè®®"></a>3.2 ä¼˜åŒ–å»ºè®®</h3><ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>: å¦‚æœåšå®¢æ–‡ç« å¾ˆå¤š,å¯ä»¥è€ƒè™‘ç¼“å­˜æ–‡ç« åˆ—è¡¨</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>: å¯ä»¥æ·»åŠ åŠ è½½åŠ¨ç”»</li>
<li><strong>åŠŸèƒ½æ‰©å±•</strong>: å¯ä»¥æŒ‰åˆ†ç±»æˆ–æ ‡ç­¾éšæœº</li>
</ol>
<h2 id="4-å¸¸è§é—®é¢˜"><a href="#4-å¸¸è§é—®é¢˜" class="headerlink" title="4. å¸¸è§é—®é¢˜"></a>4. å¸¸è§é—®é¢˜</h2><h3 id="4-1-é¡µé¢é—ªçƒ"><a href="#4-1-é¡µé¢é—ªçƒ" class="headerlink" title="4.1 é¡µé¢é—ªçƒ"></a>4.1 é¡µé¢é—ªçƒ</h3><p>å¦‚æœå‡ºç°é¡µé¢é—ªçƒ,å¯ä»¥æ·»åŠ loadingæ•ˆæœ:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">.loading &#123;</span><br><span class="line">  text-align: center;</span><br><span class="line">  padding: 20px;</span><br><span class="line">&#125;</span><br><span class="line">.loading:after &#123;</span><br><span class="line">  content: &#x27;æ­£åœ¨éšæœºé€‰æ‹©æ–‡ç« ...&#x27;;</span><br><span class="line">  color: #666;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;div class=&quot;loading&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-é‡å¤è®¿é—®"><a href="#4-2-é‡å¤è®¿é—®" class="headerlink" title="4.2 é‡å¤è®¿é—®"></a>4.2 é‡å¤è®¿é—®</h3><p>å¦‚æœæƒ³é¿å…è¿ç»­è®¿é—®åŒä¸€ç¯‡æ–‡ç« ,å¯ä»¥ä½¿ç”¨sessionStorageè®°å½•å†å²:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–å†å²è®°å½•</span></span><br><span class="line"><span class="keyword">const</span> history = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;randomHistory&#x27;</span>) || <span class="string">&#x27;[]&#x27;</span>);</span><br><span class="line"><span class="comment">// è¿‡æ»¤å·²è®¿é—®çš„æ–‡ç« </span></span><br><span class="line"><span class="keyword">const</span> availablePosts = posts.<span class="title function_">filter</span>(<span class="function"><span class="params">post</span> =&gt;</span> !history.<span class="title function_">includes</span>(post.<span class="property">path</span>));</span><br><span class="line"><span class="comment">// å¦‚æœæ‰€æœ‰æ–‡ç« éƒ½è®¿é—®è¿‡,æ¸…ç©ºå†å²</span></span><br><span class="line"><span class="keyword">if</span> (availablePosts.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">  <span class="variable language_">sessionStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;randomHistory&#x27;</span>);</span><br><span class="line">  availablePosts = posts;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// éšæœºé€‰æ‹©æ–‡ç« </span></span><br><span class="line"><span class="keyword">const</span> randomPost = availablePosts[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * availablePosts.<span class="property">length</span>)];</span><br><span class="line"><span class="comment">// è®°å½•åˆ°å†å²</span></span><br><span class="line">history.<span class="title function_">push</span>(randomPost.<span class="property">path</span>);</span><br><span class="line"><span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;randomHistory&#x27;</span>, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(history));</span><br></pre></td></tr></table></figure>

<h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><p>éšæœºæ–‡ç« åŠŸèƒ½è™½ç„¶å®ç°ç®€å•,ä½†èƒ½å¤§å¤§æå‡åšå®¢çš„è¶£å‘³æ€§å’Œç”¨æˆ·ä½“éªŒã€‚ä½ è¿˜å¯ä»¥åŸºäºè¿™ä¸ªåŸºç¡€åŠŸèƒ½,æ·»åŠ æ›´å¤šä¸ªæ€§åŒ–çš„æ‰©å±•,æ¯”å¦‚æŒ‰ç…§æ–‡ç« çƒ­åº¦éšæœºã€æŒ‰ç…§é˜…è¯»æ—¶é—´éšæœºç­‰ã€‚</p>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>Webå¼€å‘</category>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>åšå®¢ä¼˜åŒ–</tag>
        <tag>Hexo</tag>
        <tag>JavaScript</tag>
        <tag>å‰ç«¯å¼€å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>QQé¢‘é“æœºå™¨äººAndroidå®¢æˆ·ç«¯ä½¿ç”¨æŒ‡å—</title>
    <url>/2024/12/19/qqch-bot-readme/</url>
    <content><![CDATA[<h1 id="QQé¢‘é“æœºå™¨äºº-Androidå®¢æˆ·ç«¯"><a href="#QQé¢‘é“æœºå™¨äºº-Androidå®¢æˆ·ç«¯" class="headerlink" title="QQé¢‘é“æœºå™¨äºº Androidå®¢æˆ·ç«¯"></a>QQé¢‘é“æœºå™¨äºº Androidå®¢æˆ·ç«¯</h1><p>ä¸€ä¸ªç”¨äºç®¡ç†å’Œæ“ä½œQQé¢‘é“æœºå™¨äººçš„Androidå®¢æˆ·ç«¯åº”ç”¨ï¼ŒåŸºäºuniappå¼€å‘ï¼Œæä¾›äº†ç›´è§‚çš„ç”¨æˆ·ç•Œé¢å’Œä¸°å¯Œçš„åŠŸèƒ½ç‰¹æ€§ã€‚</p>
<h2 id="å®¢æˆ·ç«¯ç•Œé¢é¢„è§ˆ"><a href="#å®¢æˆ·ç«¯ç•Œé¢é¢„è§ˆ" class="headerlink" title="å®¢æˆ·ç«¯ç•Œé¢é¢„è§ˆ"></a>å®¢æˆ·ç«¯ç•Œé¢é¢„è§ˆ</h2><p><img src="/img/qqBot/login_chat.png" alt="ç™»å½•é¢‘é“èŠå¤©æŸ¥çœ‹å’Œå‘é€æ¶ˆæ¯"></p>
<p><img src="/img/qqBot/plugin_setting_log.png" alt="æ’ä»¶åŠŸèƒ½è¿è¡Œæ—¥å¿—å’Œè®¾ç½®"></p>
<h2 id="åŠŸèƒ½ç‰¹æ€§"><a href="#åŠŸèƒ½ç‰¹æ€§" class="headerlink" title="åŠŸèƒ½ç‰¹æ€§"></a>åŠŸèƒ½ç‰¹æ€§</h2><h3 id="1-è´¦å·ç®¡ç†"><a href="#1-è´¦å·ç®¡ç†" class="headerlink" title="1. è´¦å·ç®¡ç†"></a>1. è´¦å·ç®¡ç†</h3><ul>
<li>App IDå’ŒTokenç™»å½•</li>
<li>è®°ä½ç™»å½•çŠ¶æ€</li>
<li>è‡ªåŠ¨ç™»å½•é€‰é¡¹</li>
<li>æ²™ç›’/æ­£å¼ç¯å¢ƒåˆ‡æ¢</li>
<li>å¤šè´¦å·ç®¡ç†</li>
<li>è´¦å·å®‰å…¨ä¿æŠ¤</li>
</ul>
<h3 id="2-é¢‘é“ç®¡ç†"><a href="#2-é¢‘é“ç®¡ç†" class="headerlink" title="2. é¢‘é“ç®¡ç†"></a>2. é¢‘é“ç®¡ç†</h3><ul>
<li>é¢‘é“åˆ—è¡¨æ˜¾ç¤º<ul>
<li>åˆ†ç»„å±•ç¤º</li>
<li>åœ¨çº¿äººæ•°æ˜¾ç¤º</li>
<li>é¢‘é“ç±»å‹å›¾æ ‡</li>
<li>é¢‘é“çŠ¶æ€æ ‡è¯†</li>
</ul>
</li>
<li>æœªè¯»æ¶ˆæ¯ç»Ÿè®¡<ul>
<li>æ™®é€šæ¶ˆæ¯è®¡æ•°</li>
<li>@æ¶ˆæ¯ç‰¹åˆ«æ ‡è®°</li>
<li>æŒ‰é¢‘é“åˆ†ç±»ç»Ÿè®¡</li>
</ul>
</li>
<li>é¢‘é“æƒé™ç®¡ç†<ul>
<li>è‡ªåŠ¨è¯†åˆ«ç®¡ç†å‘˜æƒé™</li>
<li>æƒé™å€¼å®æ—¶è®¡ç®—</li>
<li>æƒé™æ£€æŸ¥åŠŸèƒ½</li>
</ul>
</li>
</ul>
<h3 id="3-æ¶ˆæ¯åŠŸèƒ½"><a href="#3-æ¶ˆæ¯åŠŸèƒ½" class="headerlink" title="3. æ¶ˆæ¯åŠŸèƒ½"></a>3. æ¶ˆæ¯åŠŸèƒ½</h3><ul>
<li><p>å®æ—¶æ¶ˆæ¯æ¥æ”¶</p>
<span id="more"></span>

<ul>
<li>WebSocketé•¿è¿æ¥</li>
<li>æ–­çº¿è‡ªåŠ¨é‡è¿</li>
<li>å¿ƒè·³ä¿æ´»æœºåˆ¶</li>
</ul>
</li>
<li><p>æ¶ˆæ¯å‘é€åŠŸèƒ½</p>
<ul>
<li>æ–‡æœ¬æ¶ˆæ¯æ”¯æŒ</li>
<li>æ¶ˆæ¯å®¡æ ¸å¤„ç†</li>
<li>å®¡æ ¸çŠ¶æ€æ˜¾ç¤º</li>
</ul>
</li>
<li><p>æ¶ˆæ¯ç®¡ç†</p>
<ul>
<li>æ¶ˆæ¯æ’¤å›</li>
<li>å†å²è®°å½•æŸ¥çœ‹</li>
<li>ç³»ç»Ÿæ¶ˆæ¯æ˜¾ç¤º</li>
<li>åœ¨çº¿çŠ¶æ€æ›´æ–°</li>
</ul>
</li>
<li><p>æ¶ˆæ¯å±•ç¤º</p>
<ul>
<li>æ—¶é—´æˆ³æ˜¾ç¤º</li>
<li>ç”¨æˆ·èº«ä»½æ ‡è¯†</li>
<li>æ¶ˆæ¯çŠ¶æ€å›¾æ ‡</li>
<li>é•¿æŒ‰èœå•æ“ä½œ</li>
</ul>
</li>
</ul>
<h3 id="4-æ’ä»¶ç³»ç»Ÿ"><a href="#4-æ’ä»¶ç³»ç»Ÿ" class="headerlink" title="4. æ’ä»¶ç³»ç»Ÿ"></a>4. æ’ä»¶ç³»ç»Ÿ</h3><ul>
<li>æ’ä»¶ç®¡ç†<ul>
<li>å¯ç”¨/ç¦ç”¨æ§åˆ¶</li>
<li>æœ¬åœ°å­˜å‚¨æ”¯æŒ</li>
<li>é…ç½®é¡¹ç®¡ç†</li>
</ul>
</li>
<li>æ’ä»¶åŠŸèƒ½<ul>
<li>å‘½ä»¤å¤„ç†</li>
<li>æ•°æ®æŒä¹…åŒ–</li>
<li>æ—¥å¿—è®°å½•</li>
<li>APIè°ƒç”¨</li>
</ul>
</li>
<li>å†…ç½®æ’ä»¶<ul>
<li>æ¯æ—¥ç­¾åˆ°</li>
<li>ç™¾åº¦ç™¾ç§‘</li>
</ul>
</li>
<li>å¼€å‘æ”¯æŒ<ul>
<li>å®Œæ•´APIæ–‡æ¡£</li>
<li>ç¤ºä¾‹ä»£ç </li>
<li>å¼€å‘æŒ‡å—</li>
</ul>
</li>
</ul>
<h3 id="5-é€šçŸ¥ç³»ç»Ÿ"><a href="#5-é€šçŸ¥ç³»ç»Ÿ" class="headerlink" title="5. é€šçŸ¥ç³»ç»Ÿ"></a>5. é€šçŸ¥ç³»ç»Ÿ</h3><ul>
<li>æ¶ˆæ¯é€šçŸ¥<ul>
<li>æ–°æ¶ˆæ¯æé†’</li>
<li>@æ¶ˆæ¯ç‰¹æ®Šæç¤º</li>
<li>æ¶ˆæ¯åˆå¹¶æ˜¾ç¤º</li>
<li>é€šçŸ¥å»¶è¿Ÿå¤„ç†</li>
</ul>
</li>
<li>é€šçŸ¥ç®¡ç†<ul>
<li>æ˜¯å¦å¼€å¯é€šçŸ¥</li>
<li>æ˜¯å¦éœ‡åŠ¨æé†’</li>
<li>æ˜¯å¦ç³»ç»Ÿé€šçŸ¥</li>
<li>å…æ‰“æ‰°è®¾ç½®</li>
</ul>
</li>
<li>é€šçŸ¥ä¼˜åŒ–<ul>
<li>æ¶ˆæ¯å»é‡</li>
<li>æ‰¹é‡å¤„ç†</li>
<li>æ™ºèƒ½å»¶è¿Ÿ</li>
<li>æ€§èƒ½ä¼˜åŒ–</li>
</ul>
</li>
</ul>
<h2 id="ç³»ç»Ÿè¦æ±‚"><a href="#ç³»ç»Ÿè¦æ±‚" class="headerlink" title="ç³»ç»Ÿè¦æ±‚"></a>ç³»ç»Ÿè¦æ±‚</h2><h3 id="åŸºæœ¬è¦æ±‚"><a href="#åŸºæœ¬è¦æ±‚" class="headerlink" title="åŸºæœ¬è¦æ±‚"></a>åŸºæœ¬è¦æ±‚</h3><ul>
<li>Android 5.0+</li>
<li>ç½‘ç»œè¿æ¥</li>
<li>å­˜å‚¨ç©ºé—´ &gt;= 50MB</li>
<li>é€šçŸ¥æƒé™(å¯é€‰)</li>
<li>åå°è¿è¡Œæƒé™(æ¨è)</li>
</ul>
<h3 id="æƒé™è¯´æ˜"><a href="#æƒé™è¯´æ˜" class="headerlink" title="æƒé™è¯´æ˜"></a>æƒé™è¯´æ˜</h3><ol>
<li><p>å¿…éœ€æƒé™</p>
<ul>
<li>ç½‘ç»œè®¿é—®</li>
<li>å­˜å‚¨è¯»å†™</li>
<li>åå°è¿è¡Œ</li>
</ul>
</li>
<li><p>å¯é€‰æƒé™</p>
<ul>
<li>é€šçŸ¥æ˜¾ç¤º</li>
<li>å¼€æœºè‡ªå¯</li>
<li>éœ‡åŠ¨æ§åˆ¶</li>
</ul>
</li>
</ol>
<h2 id="å®‰è£…è¯´æ˜"><a href="#å®‰è£…è¯´æ˜" class="headerlink" title="å®‰è£…è¯´æ˜"></a>å®‰è£…è¯´æ˜</h2><ol>
<li><p>ä¸‹è½½å®‰è£…</p>
<ul>
<li>ä»Releaseé¡µé¢ä¸‹è½½æœ€æ–°APK</li>
<li>å…è®¸å®‰è£…æœªçŸ¥æ¥æºåº”ç”¨</li>
<li>æŒ‰æç¤ºå®Œæˆå®‰è£…</li>
</ul>
</li>
<li><p>é¦–æ¬¡é…ç½®</p>
<ul>
<li>æˆäºˆå¿…è¦æƒé™</li>
<li>ç™»å½•æœºå™¨äººè´¦å·</li>
<li>é…ç½®åŸºæœ¬è®¾ç½®</li>
</ul>
</li>
</ol>
<h2 id="ä½¿ç”¨æŒ‡å—"><a href="#ä½¿ç”¨æŒ‡å—" class="headerlink" title="ä½¿ç”¨æŒ‡å—"></a>ä½¿ç”¨æŒ‡å—</h2><h3 id="1-ç™»å½•é…ç½®"><a href="#1-ç™»å½•é…ç½®" class="headerlink" title="1. ç™»å½•é…ç½®"></a>1. ç™»å½•é…ç½®</h3><h4 id="1-1-è·å–å‡­æ®"><a href="#1-1-è·å–å‡­æ®" class="headerlink" title="1.1 è·å–å‡­æ®"></a>1.1 è·å–å‡­æ®</h4><ol>
<li>è®¿é—®<a href="https://q.qq.com">QQæœºå™¨äººç®¡ç†å¹³å°</a></li>
<li>åˆ›å»º/é€‰æ‹©æœºå™¨äºº</li>
<li>è·å–App IDå’ŒToken</li>
<li>ç¡®è®¤æœºå™¨äººçŠ¶æ€æ­£å¸¸</li>
</ol>
<h4 id="1-2-ç™»å½•è®¾ç½®"><a href="#1-2-ç™»å½•è®¾ç½®" class="headerlink" title="1.2 ç™»å½•è®¾ç½®"></a>1.2 ç™»å½•è®¾ç½®</h4><ol>
<li>è¾“å…¥App IDå’ŒToken</li>
<li>é€‰æ‹©ç¯å¢ƒ(æ²™ç›’/æ­£å¼)</li>
<li>è®¾ç½®è‡ªåŠ¨ç™»å½•(å¯é€‰)</li>
<li>é…ç½®å®‰å…¨é€‰é¡¹</li>
</ol>
<h3 id="2-é¢‘é“æ“ä½œ"><a href="#2-é¢‘é“æ“ä½œ" class="headerlink" title="2. é¢‘é“æ“ä½œ"></a>2. é¢‘é“æ“ä½œ</h3><h4 id="2-1-æŸ¥çœ‹é¢‘é“"><a href="#2-1-æŸ¥çœ‹é¢‘é“" class="headerlink" title="2.1 æŸ¥çœ‹é¢‘é“"></a>2.1 æŸ¥çœ‹é¢‘é“</h4><ol>
<li><p>æ‰“å¼€é¢‘é“åˆ—è¡¨</p>
<ul>
<li>ç‚¹å‡»é¡¶éƒ¨é¢‘é“ä¿¡æ¯å±•å¼€åˆ—è¡¨</li>
<li>æŸ¥çœ‹åˆ†ç»„å’Œå­é¢‘é“</li>
<li>è§‚å¯Ÿåœ¨çº¿äººæ•°å’ŒçŠ¶æ€</li>
</ul>
</li>
<li><p>é¢‘é“åˆ†ç±»</p>
<ul>
<li>æ–‡å­—é¢‘é“(#)</li>
<li>è¯­éŸ³é¢‘é“(ğŸ”Š)</li>
<li>ç›´æ’­é¢‘é“(ğŸ“º)</li>
<li>å…¬å‘Šé¢‘é“(ğŸ“¢)</li>
<li>åº”ç”¨é¢‘é“(ğŸ’¬)</li>
<li>è®ºå›é¢‘é“(ğŸ®)</li>
</ul>
</li>
<li><p>æœªè¯»æ¶ˆæ¯</p>
<ul>
<li>çº¢ç‚¹æ˜¾ç¤ºæœªè¯»æ•°</li>
<li>æ©™è‰²æ ‡è®°@æ¶ˆæ¯</li>
<li>ç‚¹å‡»æ¸…é™¤æœªè¯»</li>
</ul>
</li>
</ol>
<h4 id="2-2-æ¶ˆæ¯ç®¡ç†"><a href="#2-2-æ¶ˆæ¯ç®¡ç†" class="headerlink" title="2.2 æ¶ˆæ¯ç®¡ç†"></a>2.2 æ¶ˆæ¯ç®¡ç†</h4><ol>
<li><p>å‘é€æ¶ˆæ¯</p>
<ul>
<li>åœ¨è¾“å…¥æ¡†è¾“å…¥å†…å®¹</li>
<li>ç‚¹å‡»å‘é€æŒ‰é’®</li>
<li>ç­‰å¾…å‘é€çŠ¶æ€</li>
<li>æŸ¥çœ‹å®¡æ ¸ç»“æœ</li>
</ul>
</li>
<li><p>æ¶ˆæ¯æ“ä½œ</p>
<ul>
<li>é•¿æŒ‰æ¶ˆæ¯æ˜¾ç¤ºèœå•</li>
<li>é€‰æ‹©æ’¤å›ç­‰æ“ä½œ</li>
<li>æŸ¥çœ‹æ¶ˆæ¯è¯¦æƒ…</li>
</ul>
</li>
<li><p>æ¶ˆæ¯çŠ¶æ€</p>
<ul>
<li>æ­£å¸¸æ¶ˆæ¯</li>
<li>å®¡æ ¸ä¸­(ç°è‰²)</li>
<li>å®¡æ ¸æ‹’ç»(çº¢è‰²)</li>
<li>å·²æ’¤å›(ç°è‰²æ–œä½“)</li>
</ul>
</li>
</ol>
<h3 id="3-æ’ä»¶ä½¿ç”¨"><a href="#3-æ’ä»¶ä½¿ç”¨" class="headerlink" title="3. æ’ä»¶ä½¿ç”¨"></a>3. æ’ä»¶ä½¿ç”¨</h3><h4 id="3-1-æ’ä»¶ç®¡ç†"><a href="#3-1-æ’ä»¶ç®¡ç†" class="headerlink" title="3.1 æ’ä»¶ç®¡ç†"></a>3.1 æ’ä»¶ç®¡ç†</h4><ol>
<li><p>å†…ç½®æ’ä»¶</p>
<ul>
<li>æ¯æ—¥ç­¾åˆ°(/ç­¾åˆ°)</li>
<li>ç™¾åº¦ç™¾ç§‘(/ç™¾ç§‘)</li>
</ul>
</li>
<li><p>æ’ä»¶æ§åˆ¶</p>
<ul>
<li>å¯ç”¨/ç¦ç”¨æ’ä»¶</li>
<li>æŸ¥çœ‹æ’ä»¶ä¿¡æ¯</li>
<li>ç®¡ç†æ’ä»¶æ•°æ®</li>
</ul>
</li>
</ol>
<h4 id="3-2-æ’ä»¶å‘½ä»¤"><a href="#3-2-æ’ä»¶å‘½ä»¤" class="headerlink" title="3.2 æ’ä»¶å‘½ä»¤"></a>3.2 æ’ä»¶å‘½ä»¤</h4><ol>
<li><p>å‘½ä»¤æ ¼å¼</p>
<ul>
<li>ä»¥/å¼€å¤´</li>
<li>ä¸¥æ ¼åŒ¹é…å‘½ä»¤å</li>
<li>ç©ºæ ¼åˆ†éš”å‚æ•°</li>
</ul>
</li>
<li><p>ä½¿ç”¨ç¤ºä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/ç­¾åˆ°              # æ‰§è¡Œç­¾åˆ°</span><br><span class="line">/ç™¾ç§‘ å¤ªé˜³         # æŸ¥è¯¢ç™¾ç§‘</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="4-é€šçŸ¥è®¾ç½®"><a href="#4-é€šçŸ¥è®¾ç½®" class="headerlink" title="4. é€šçŸ¥è®¾ç½®"></a>4. é€šçŸ¥è®¾ç½®</h3><h4 id="4-1-é€šçŸ¥é€‰é¡¹"><a href="#4-1-é€šçŸ¥é€‰é¡¹" class="headerlink" title="4.1 é€šçŸ¥é€‰é¡¹"></a>4.1 é€šçŸ¥é€‰é¡¹</h4><ol>
<li><p>åŸºæœ¬è®¾ç½®</p>
<ul>
<li>å¯ç”¨é€šçŸ¥</li>
<li>éœ‡åŠ¨æé†’</li>
<li>ç³»ç»Ÿé€šçŸ¥</li>
</ul>
</li>
<li><p>é€šçŸ¥è§„åˆ™</p>
<ul>
<li>æ–°æ¶ˆæ¯å»¶è¿Ÿ2ç§’</li>
<li>å¤šæ¡æ¶ˆæ¯åˆå¹¶</li>
<li>@æ¶ˆæ¯ç«‹å³æé†’</li>
<li>éå½“å‰é¢‘é“é€šçŸ¥</li>
</ul>
</li>
</ol>
<h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><h3 id="1-è¿æ¥é—®é¢˜"><a href="#1-è¿æ¥é—®é¢˜" class="headerlink" title="1. è¿æ¥é—®é¢˜"></a>1. è¿æ¥é—®é¢˜</h3><ul>
<li>é—®é¢˜: æ— æ³•è¿æ¥æˆ–é¢‘ç¹æ–­å¼€</li>
<li>è§£å†³: <ol>
<li>æ£€æŸ¥ç½‘ç»œè¿æ¥</li>
<li>ç¡®è®¤Tokenæ­£ç¡®</li>
<li>æŸ¥çœ‹æœºå™¨äººçŠ¶æ€</li>
<li>ç­‰å¾…è‡ªåŠ¨é‡è¿</li>
</ol>
</li>
</ul>
<h3 id="2-æ¶ˆæ¯é—®é¢˜"><a href="#2-æ¶ˆæ¯é—®é¢˜" class="headerlink" title="2. æ¶ˆæ¯é—®é¢˜"></a>2. æ¶ˆæ¯é—®é¢˜</h3><ul>
<li>é—®é¢˜: æ¶ˆæ¯å‘é€å¤±è´¥</li>
<li>è§£å†³:<ol>
<li>æ£€æŸ¥é¢‘é“æƒé™</li>
<li>ç¡®è®¤æ¶ˆæ¯æ ¼å¼</li>
<li>ç­‰å¾…å®¡æ ¸é€šè¿‡</li>
<li>æŸ¥çœ‹é”™è¯¯æç¤º</li>
</ol>
</li>
</ul>
<h3 id="3-æ’ä»¶é—®é¢˜"><a href="#3-æ’ä»¶é—®é¢˜" class="headerlink" title="3. æ’ä»¶é—®é¢˜"></a>3. æ’ä»¶é—®é¢˜</h3><ul>
<li>é—®é¢˜: æ’ä»¶æ— å“åº”</li>
<li>è§£å†³:<ol>
<li>æ£€æŸ¥æ’ä»¶çŠ¶æ€</li>
<li>ç¡®è®¤å‘½ä»¤æ ¼å¼</li>
<li>æŸ¥çœ‹é”™è¯¯æ—¥å¿—</li>
<li>é‡å¯åº”ç”¨</li>
</ol>
</li>
</ul>
<h3 id="4-é€šçŸ¥é—®é¢˜"><a href="#4-é€šçŸ¥é—®é¢˜" class="headerlink" title="4. é€šçŸ¥é—®é¢˜"></a>4. é€šçŸ¥é—®é¢˜</h3><ul>
<li>é—®é¢˜: æ”¶ä¸åˆ°é€šçŸ¥</li>
<li>è§£å†³:<ol>
<li>æ£€æŸ¥é€šçŸ¥æƒé™</li>
<li>ç¡®è®¤é€šçŸ¥è®¾ç½®</li>
<li>å…³é—­çœç”µæ¨¡å¼</li>
<li>å…è®¸åå°è¿è¡Œ</li>
</ol>
</li>
</ul>
<h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><h3 id="v1-1-0-2024-01-20"><a href="#v1-1-0-2024-01-20" class="headerlink" title="v1.1.0 (2024-01-20)"></a>v1.1.0 (2024-01-20)</h3><ul>
<li>ä¼˜åŒ–WebSocketè¿æ¥</li>
<li>æ”¹è¿›æ¶ˆæ¯å¤„ç†é€»è¾‘</li>
<li>å®Œå–„æ’ä»¶ç³»ç»Ÿ</li>
<li>ä¼˜åŒ–é€šçŸ¥æœºåˆ¶</li>
<li>ä¿®å¤å·²çŸ¥é—®é¢˜</li>
</ul>
<h3 id="v1-0-0-2023-12-25"><a href="#v1-0-0-2023-12-25" class="headerlink" title="v1.0.0 (2023-12-25)"></a>v1.0.0 (2023-12-25)</h3><ul>
<li>é¦–æ¬¡å‘å¸ƒ</li>
<li>åŸºç¡€åŠŸèƒ½å®ç°</li>
<li>æ’ä»¶ç³»ç»Ÿæ”¯æŒ</li>
<li>é€šçŸ¥ç³»ç»Ÿé›†æˆ</li>
</ul>
<h2 id="æ›´å¤šå¾…è¡¥å……"><a href="#æ›´å¤šå¾…è¡¥å……" class="headerlink" title="æ›´å¤šå¾…è¡¥å……"></a>æ›´å¤šå¾…è¡¥å……</h2><p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>QQ</tag>
        <tag>QQé¢‘é“</tag>
        <tag>QQæœºå™¨äºº</tag>
        <tag>ä½¿ç”¨æ–‡æ¡£</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰å“ç‰ˆQQé¢‘é“æœºå™¨äººAPPå®¢æˆ·ç«¯æ’ä»¶å¼€å‘æŒ‡å—</title>
    <url>/2024/12/19/qqch-bot-plugin/</url>
    <content><![CDATA[<p>æœ¬æ–‡æ¡£å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä¸ºQQé¢‘é“æœºå™¨äººå®¢æˆ·ç«¯å¼€å‘æ’ä»¶ã€‚</p>
<h2 id="æ’ä»¶ç»“æ„"><a href="#æ’ä»¶ç»“æ„" class="headerlink" title="æ’ä»¶ç»“æ„"></a>æ’ä»¶ç»“æ„</h2><p>æ¯ä¸ªæ’ä»¶éƒ½æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ JavaScript æ–‡ä»¶ï¼Œéœ€è¦å¯¼å‡ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å­—æ®µçš„å¯¹è±¡:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ’ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> plugin = &#123;</span><br><span class="line">  <span class="comment">// åŸºæœ¬ä¿¡æ¯(å¿…éœ€)</span></span><br><span class="line">  <span class="attr">id</span>: <span class="string">&#x27;plugin-id&#x27;</span>,          <span class="comment">// æ’ä»¶ID,åªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿å’Œæ¨ªçº¿</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;æ’ä»¶åç§°&#x27;</span>,         <span class="comment">// æ’ä»¶æ˜¾ç¤ºåç§°</span></span><br><span class="line">  <span class="attr">description</span>: <span class="string">&#x27;æ’ä»¶æè¿°&#x27;</span>,  <span class="comment">// æ’ä»¶åŠŸèƒ½æè¿°</span></span><br><span class="line">  <span class="attr">command</span>: <span class="string">&#x27;/å‘½ä»¤&#x27;</span>,         <span class="comment">// è§¦å‘å‘½ä»¤,å¿…é¡»ä»¥/å¼€å¤´</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åŸºæœ¬ä¿¡æ¯(å¯é€‰)</span></span><br><span class="line">  <span class="attr">version</span>: <span class="string">&#x27;1.0.0&#x27;</span>,        <span class="comment">// æ’ä»¶ç‰ˆæœ¬å·</span></span><br><span class="line">  <span class="attr">author</span>: <span class="string">&#x27;ä½œè€…åç§°&#x27;</span>,      <span class="comment">// æ’ä»¶ä½œè€…</span></span><br><span class="line">  <span class="attr">enabled</span>: <span class="literal">true</span>,           <span class="comment">// æ’ä»¶æ˜¯å¦å¯ç”¨</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é…ç½®é¡¹(å¯é€‰)</span></span><br><span class="line">  <span class="attr">config</span>: &#123;</span><br><span class="line">    <span class="comment">// æ’ä»¶çš„é…ç½®é¡¹</span></span><br><span class="line">    <span class="attr">minPoints</span>: <span class="number">10</span>,         <span class="comment">// ç¤ºä¾‹:æœ€å°ç§¯åˆ†</span></span><br><span class="line">    <span class="attr">maxPoints</span>: <span class="number">100</span>,        <span class="comment">// ç¤ºä¾‹:æœ€å¤§ç§¯åˆ†</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ•°æ®å­˜å‚¨(å¯é€‰)</span></span><br><span class="line">  <span class="attr">storage</span>: &#123;</span><br><span class="line">    <span class="comment">// æ’ä»¶çš„æ•°æ®å­˜å‚¨</span></span><br><span class="line">    <span class="attr">records</span>: <span class="keyword">new</span> <span class="title class_">Map</span>()     <span class="comment">// ç¤ºä¾‹:è®°å½•å­˜å‚¨</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ¶ˆæ¯å¤„ç†å‡½æ•°(å¿…éœ€)</span></span><br><span class="line">  <span class="attr">handler</span>: <span class="title function_">async</span> (message, channel, context) =&gt; &#123;</span><br><span class="line">    <span class="comment">// è¿”å›å€¼:</span></span><br><span class="line">    <span class="comment">// - å­—ç¬¦ä¸²: è¦å‘é€çš„å›å¤æ¶ˆæ¯</span></span><br><span class="line">    <span class="comment">// - null/undefined: ä¸å‘é€å›å¤</span></span><br><span class="line">    <span class="comment">// - Promise&lt;string&gt;: å¼‚æ­¥è¿”å›å›å¤æ¶ˆæ¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;å›å¤æ¶ˆæ¯&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å‡ºæ’ä»¶</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = plugin</span><br></pre></td></tr></table></figure>

<h2 id="API-è¯´æ˜"><a href="#API-è¯´æ˜" class="headerlink" title="API è¯´æ˜"></a>API è¯´æ˜</h2><h3 id="1-æ¶ˆæ¯å¯¹è±¡-message"><a href="#1-æ¶ˆæ¯å¯¹è±¡-message" class="headerlink" title="1. æ¶ˆæ¯å¯¹è±¡(message)"></a>1. æ¶ˆæ¯å¯¹è±¡(message)</h3>  <span id="more"></span>

<p>æ¶ˆæ¯å¯¹è±¡åŒ…å«äº†æ¶ˆæ¯çš„å®Œæ•´ä¿¡æ¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&quot;æ¶ˆæ¯ID&quot;</span>,</span><br><span class="line">  <span class="attr">channel_id</span>: <span class="string">&quot;é¢‘é“ID&quot;</span>, </span><br><span class="line">  <span class="attr">guild_id</span>: <span class="string">&quot;æœåŠ¡å™¨ID&quot;</span>,</span><br><span class="line">  <span class="attr">content</span>: <span class="string">&quot;æ¶ˆæ¯å†…å®¹&quot;</span>,</span><br><span class="line">  <span class="attr">cleanContent</span>: <span class="string">&quot;å»é™¤å‘½ä»¤å‰ç¼€çš„æ¶ˆæ¯å†…å®¹&quot;</span>, <span class="comment">// æ–°å¢:æ¸…ç†åçš„å†…å®¹</span></span><br><span class="line">  <span class="attr">timestamp</span>: <span class="string">&quot;2023-01-01T00:00:00.000Z&quot;</span>,</span><br><span class="line">  <span class="attr">status</span>: <span class="string">&quot;normal&quot;</span>, <span class="comment">// æ¶ˆæ¯çŠ¶æ€: normal-æ­£å¸¸, auditing-å®¡æ ¸ä¸­, rejected-å®¡æ ¸æ‹’ç»</span></span><br><span class="line">  <span class="attr">author</span>: &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&quot;ç”¨æˆ·ID&quot;</span>,</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&quot;ç”¨æˆ·å&quot;</span>,</span><br><span class="line">    <span class="attr">bot</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">avatar</span>: <span class="string">&quot;å¤´åƒURL&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">member</span>: &#123;</span><br><span class="line">    <span class="attr">roles</span>: [<span class="string">&quot;è§’è‰²ID1&quot;</span>, <span class="string">&quot;è§’è‰²ID2&quot;</span>],</span><br><span class="line">    <span class="attr">joined_at</span>: <span class="string">&quot;åŠ å…¥æ—¶é—´&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mentions</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">id</span>: <span class="string">&quot;è¢«@ç”¨æˆ·ID&quot;</span>,</span><br><span class="line">      <span class="attr">username</span>: <span class="string">&quot;è¢«@ç”¨æˆ·å&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">mention_everyone</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-é¢‘é“å¯¹è±¡-channel"><a href="#2-é¢‘é“å¯¹è±¡-channel" class="headerlink" title="2. é¢‘é“å¯¹è±¡(channel)"></a>2. é¢‘é“å¯¹è±¡(channel)</h3><p>é¢‘é“å¯¹è±¡åŒ…å«äº†é¢‘é“çš„åŸºæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">id</span>: <span class="string">&quot;é¢‘é“ID&quot;</span>,</span><br><span class="line">  <span class="attr">guild_id</span>: <span class="string">&quot;æœåŠ¡å™¨ID&quot;</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;é¢‘é“åç§°&quot;</span>,</span><br><span class="line">  <span class="attr">type</span>: <span class="number">0</span>, <span class="comment">// é¢‘é“ç±»å‹</span></span><br><span class="line">  <span class="attr">position</span>: <span class="number">1</span>, <span class="comment">// æ˜¾ç¤ºä½ç½®</span></span><br><span class="line">  <span class="attr">parent_id</span>: <span class="string">&quot;çˆ¶é¢‘é“ID&quot;</span>,</span><br><span class="line">  <span class="attr">owner_id</span>: <span class="string">&quot;åˆ›å»ºè€…ID&quot;</span>,</span><br><span class="line">  <span class="attr">permissions</span>: <span class="string">&quot;æƒé™å€¼&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-ä¸Šä¸‹æ–‡å¯¹è±¡-context"><a href="#3-ä¸Šä¸‹æ–‡å¯¹è±¡-context" class="headerlink" title="3. ä¸Šä¸‹æ–‡å¯¹è±¡(context)"></a>3. ä¸Šä¸‹æ–‡å¯¹è±¡(context)</h3><p>ä¸Šä¸‹æ–‡å¯¹è±¡æä¾›äº†æ’ä»¶è¿è¡Œæ—¶çš„ç¯å¢ƒå’Œå·¥å…·ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// å­˜å‚¨API - æŒä¹…åŒ–å­˜å‚¨æ’ä»¶æ•°æ®</span></span><br><span class="line">  <span class="attr">storage</span>: &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function">(<span class="params">key</span>) =&gt;</span> value, <span class="comment">// è·å–å­˜å‚¨çš„å€¼</span></span><br><span class="line">    <span class="attr">set</span>: <span class="function">(<span class="params">key, value</span>) =&gt;</span> <span class="keyword">void</span>, <span class="comment">// è®¾ç½®å­˜å‚¨çš„å€¼</span></span><br><span class="line">    <span class="attr">delete</span>: <span class="function">(<span class="params">key</span>) =&gt;</span> <span class="keyword">void</span>, <span class="comment">// åˆ é™¤å­˜å‚¨çš„å€¼</span></span><br><span class="line">    <span class="attr">clear</span>: <span class="function">() =&gt;</span> <span class="keyword">void</span>, <span class="comment">// æ¸…ç©ºå­˜å‚¨</span></span><br><span class="line">    <span class="attr">has</span>: <span class="function">(<span class="params">key</span>) =&gt;</span> boolean <span class="comment">// æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é…ç½®API - ç®¡ç†æ’ä»¶é…ç½®</span></span><br><span class="line">  <span class="attr">config</span>: &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="function">(<span class="params">key</span>) =&gt;</span> value, <span class="comment">// è·å–é…ç½®é¡¹</span></span><br><span class="line">    <span class="attr">set</span>: <span class="function">(<span class="params">key, value</span>) =&gt;</span> <span class="keyword">void</span>, <span class="comment">// è®¾ç½®é…ç½®é¡¹</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ—¥å¿—API - è®°å½•æ’ä»¶è¿è¡Œæ—¥å¿—</span></span><br><span class="line">  <span class="attr">log</span>: &#123;</span><br><span class="line">    <span class="attr">info</span>: <span class="function">(<span class="params">message, details</span>) =&gt;</span> <span class="keyword">void</span>, <span class="comment">// è®°å½•ä¿¡æ¯æ—¥å¿—</span></span><br><span class="line">    <span class="attr">success</span>: <span class="function">(<span class="params">message, details</span>) =&gt;</span> <span class="keyword">void</span>, <span class="comment">// è®°å½•æˆåŠŸæ—¥å¿—</span></span><br><span class="line">    <span class="attr">warning</span>: <span class="function">(<span class="params">message, details</span>) =&gt;</span> <span class="keyword">void</span>, <span class="comment">// è®°å½•è­¦å‘Šæ—¥å¿—</span></span><br><span class="line">    <span class="attr">error</span>: <span class="function">(<span class="params">message, details</span>) =&gt;</span> <span class="keyword">void</span> <span class="comment">// è®°å½•é”™è¯¯æ—¥å¿—</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å·¥å…·API</span></span><br><span class="line">  <span class="attr">api</span>: &#123;</span><br><span class="line">    <span class="comment">// å‘é€æ¶ˆæ¯</span></span><br><span class="line">    <span class="attr">sendMessage</span>: <span class="title function_">async</span> (channelId, content, options) =&gt; &#123;</span><br><span class="line">      <span class="comment">// channelId: é¢‘é“ID</span></span><br><span class="line">      <span class="comment">// content: æ¶ˆæ¯å†…å®¹</span></span><br><span class="line">      <span class="comment">// options: å¯é€‰å‚æ•°</span></span><br><span class="line">      <span class="comment">//   - msg_id: å›å¤çš„æ¶ˆæ¯ID</span></span><br><span class="line">      <span class="comment">//   - event_id: äº‹ä»¶ID</span></span><br><span class="line">      <span class="comment">// è¿”å›:</span></span><br><span class="line">      <span class="comment">// - æˆåŠŸ: messageObject</span></span><br><span class="line">      <span class="comment">// - å®¡æ ¸: &#123; code: 304023, data: &#123; message_audit: &#123; audit_id: &quot;xxx&quot; &#125; &#125; &#125;</span></span><br><span class="line">      <span class="keyword">return</span> response</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ é™¤æ¶ˆæ¯</span></span><br><span class="line">    <span class="attr">deleteMessage</span>: <span class="title function_">async</span> (channelId, messageId) =&gt; &#123;</span><br><span class="line">      <span class="comment">// channelId: é¢‘é“ID</span></span><br><span class="line">      <span class="comment">// messageId: æ¶ˆæ¯ID</span></span><br><span class="line">      <span class="keyword">return</span> boolean</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–æˆå‘˜ä¿¡æ¯</span></span><br><span class="line">    <span class="attr">getMember</span>: <span class="title function_">async</span> (guildId, userId) =&gt; &#123;</span><br><span class="line">      <span class="comment">// guildId: æœåŠ¡å™¨ID</span></span><br><span class="line">      <span class="comment">// userId: ç”¨æˆ·ID</span></span><br><span class="line">      <span class="keyword">return</span> memberObject</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–æœåŠ¡å™¨è§’è‰²åˆ—è¡¨</span></span><br><span class="line">    <span class="attr">getGuildRoles</span>: <span class="title function_">async</span> (guildId) =&gt; &#123;</span><br><span class="line">      <span class="comment">// guildId: æœåŠ¡å™¨ID</span></span><br><span class="line">      <span class="keyword">return</span> rolesArray</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥æƒé™</span></span><br><span class="line">    <span class="attr">hasPermission</span>: <span class="function">(<span class="params">permissions, permission</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// permissions: æƒé™å€¼</span></span><br><span class="line">      <span class="comment">// permission: è¦æ£€æŸ¥çš„æƒé™</span></span><br><span class="line">      <span class="keyword">return</span> boolean</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="æ’ä»¶åŠŸèƒ½ç•Œé¢é¢„è§ˆ"><a href="#æ’ä»¶åŠŸèƒ½ç•Œé¢é¢„è§ˆ" class="headerlink" title="æ’ä»¶åŠŸèƒ½ç•Œé¢é¢„è§ˆ"></a>æ’ä»¶åŠŸèƒ½ç•Œé¢é¢„è§ˆ</h2><p><img src="/img/qqBot/log.jpg" alt="æ’ä»¶åŠŸèƒ½ç•Œé¢"></p>
<h2 id="æ¶ˆæ¯å¤„ç†æµç¨‹"><a href="#æ¶ˆæ¯å¤„ç†æµç¨‹" class="headerlink" title="æ¶ˆæ¯å¤„ç†æµç¨‹"></a>æ¶ˆæ¯å¤„ç†æµç¨‹</h2><ol>
<li><p>æ¶ˆæ¯æ¥æ”¶</p>
<ul>
<li>ç³»ç»Ÿæ¥æ”¶åˆ°æ–°æ¶ˆæ¯æ—¶ï¼Œä¼šæ£€æŸ¥æ¶ˆæ¯å†…å®¹æ˜¯å¦ä»¥é…ç½®çš„å‘½ä»¤å‰ç¼€å¼€å§‹</li>
<li>è§£æå‡ºå‘½ä»¤å’Œå‚æ•°</li>
<li>æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„å·²å¯ç”¨æ’ä»¶</li>
</ul>
</li>
<li><p>æ’ä»¶æ‰§è¡Œ</p>
<ul>
<li>å¯¹æ¯ä¸ªåŒ¹é…çš„æ’ä»¶ï¼š<ul>
<li>åˆ›å»ºç‹¬ç«‹çš„æ’ä»¶ä¸Šä¸‹æ–‡å¯¹è±¡</li>
<li>è°ƒç”¨æ’ä»¶çš„handlerå‡½æ•°</li>
<li>ç­‰å¾…å¤„ç†ç»“æœ</li>
</ul>
</li>
<li>å¤šä¸ªæ’ä»¶å¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‘½ä»¤</li>
<li>æ’ä»¶æŒ‰ç…§åŠ è½½é¡ºåºä¾æ¬¡æ‰§è¡Œ</li>
<li>æŸä¸ªæ’ä»¶æ‰§è¡Œå¤±è´¥ä¸ä¼šå½±å“å…¶ä»–æ’ä»¶</li>
</ul>
</li>
<li><p>å“åº”å¤„ç†</p>
<ul>
<li>æ¯ä¸ªæ’ä»¶çš„handlerå¦‚æœè¿”å›å­—ç¬¦ä¸²ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å‘é€å“åº”æ¶ˆæ¯</li>
<li>æ¯ä¸ªå“åº”éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä¼šåˆ†åˆ«å‘é€åˆ°é¢‘é“</li>
<li>å‘é€çš„æ¶ˆæ¯å¯èƒ½è¿›å…¥å®¡æ ¸çŠ¶æ€(code: 304023)</li>
<li>å®¡æ ¸é€šè¿‡æˆ–æ‹’ç»ä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶</li>
</ul>
</li>
</ol>
<h2 id="æƒé™å¤„ç†"><a href="#æƒé™å¤„ç†" class="headerlink" title="æƒé™å¤„ç†"></a>æƒé™å¤„ç†</h2><p>ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—æœºå™¨äººçš„æƒé™ï¼š</p>
<ol>
<li><p>ç®¡ç†å‘˜æƒé™</p>
<ul>
<li>é¢‘é“ä¸»</li>
<li>ç®¡ç†å‘˜</li>
<li>è¶…çº§ç®¡ç†å‘˜</li>
<li>å­é¢‘é“ç®¡ç†å‘˜<br>æ‹¥æœ‰ä»¥ä¸Šè§’è‰²æ—¶è‡ªåŠ¨è·å¾—æ‰€æœ‰æƒé™(1099511627775)</li>
</ul>
</li>
<li><p>æ™®é€šæƒé™</p>
<ul>
<li>æ ¹æ®è§’è‰²çš„permissionså€¼æŒ‰ä½è®¡ç®—</li>
<li>å¤šä¸ªè§’è‰²çš„æƒé™å€¼è¿›è¡ŒæŒ‰ä½æˆ–è¿ç®—</li>
<li>å¯ä»¥ä½¿ç”¨api.hasPermissionæ£€æŸ¥ç‰¹å®šæƒé™</li>
</ul>
</li>
</ol>
<h2 id="æœ€ä½³å®è·µ"><a href="#æœ€ä½³å®è·µ" class="headerlink" title="æœ€ä½³å®è·µ"></a>æœ€ä½³å®è·µ</h2><ol>
<li><p>é”™è¯¯å¤„ç†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="attr">handler</span>: <span class="title function_">async</span> (message, channel, context) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">    context.<span class="property">log</span>.<span class="title function_">info</span>(<span class="string">&#x27;å¤„ç†æˆåŠŸ&#x27;</span>, &#123; <span class="attr">messageId</span>: message.<span class="property">id</span> &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;æˆåŠŸæ¶ˆæ¯&#x27;</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    context.<span class="property">log</span>.<span class="title function_">error</span>(<span class="string">&#x27;å¤„ç†å¤±è´¥&#x27;</span>, &#123; error, <span class="attr">messageId</span>: message.<span class="property">id</span> &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;å¤„ç†å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®æŒä¹…åŒ–</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨storage APIä¿å­˜æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> records = context.<span class="property">storage</span>.<span class="title function_">get</span>(<span class="string">&#x27;records&#x27;</span>) || &#123;&#125;</span><br><span class="line">records[userId] = &#123; <span class="comment">/* æ•°æ® */</span> &#125;</span><br><span class="line">context.<span class="property">storage</span>.<span class="title function_">set</span>(<span class="string">&#x27;records&#x27;</span>, records)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¶ˆæ¯å®¡æ ¸å¤„ç†</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> response = <span class="keyword">await</span> context.<span class="property">api</span>.<span class="title function_">sendMessage</span>(channelId, content)</span><br><span class="line"><span class="keyword">if</span> (response.<span class="property">code</span> === <span class="number">304023</span>) &#123;</span><br><span class="line">  context.<span class="property">log</span>.<span class="title function_">info</span>(<span class="string">&#x27;æ¶ˆæ¯è¿›å…¥å®¡æ ¸&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">auditId</span>: response.<span class="property">data</span>.<span class="property">message_audit</span>.<span class="property">audit_id</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æƒé™æ£€æŸ¥</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (!context.<span class="property">api</span>.<span class="title function_">hasPermission</span>(channel.<span class="property">permissions</span>, <span class="string">&#x27;MANAGE_MESSAGES&#x27;</span>)) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;æƒé™ä¸è¶³ï¼Œéœ€è¦ç®¡ç†æ¶ˆæ¯çš„æƒé™&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>ä¹ˆä¹ˆæ‰~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>QQ</tag>
        <tag>QQé¢‘é“</tag>
        <tag>QQæœºå™¨äºº</tag>
        <tag>å¼€å‘æ–‡æ¡£</tag>
      </tags>
  </entry>
  <entry>
    <title>2024å¹´AIç¼–ç¨‹åŠ©æ‰‹æ·±åº¦è¯„æµ‹ï¼šå“ªæ¬¾æœ€é€‚åˆä½ ï¼Ÿ</title>
    <url>/2024/10/15/ai-coding-assistants/</url>
    <content><![CDATA[<blockquote>
<p>éšç€AIæŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œå„ç§AIç¼–ç¨‹åŠ©æ‰‹å±‚å‡ºä¸ç©·ã€‚æœ¬æ–‡å°†æ·±å…¥å¯¹æ¯”ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹çš„ä¼˜ç¼ºç‚¹ï¼Œå¸®åŠ©ä½ æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„AIç¼–ç¨‹ä¼™ä¼´ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-Cursor-ä¸“æ³¨é«˜æ•ˆçš„AIç¼–ç¨‹åŠ©æ‰‹"><a href="#1-Cursor-ä¸“æ³¨é«˜æ•ˆçš„AIç¼–ç¨‹åŠ©æ‰‹" class="headerlink" title="1. Cursor - ä¸“æ³¨é«˜æ•ˆçš„AIç¼–ç¨‹åŠ©æ‰‹"></a>1. Cursor - ä¸“æ³¨é«˜æ•ˆçš„AIç¼–ç¨‹åŠ©æ‰‹</h2><h3 id="1-1-ä¸»è¦ç‰¹ç‚¹"><a href="#1-1-ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="1.1 ä¸»è¦ç‰¹ç‚¹"></a>1.1 ä¸»è¦ç‰¹ç‚¹</h3><ul>
<li>åŸºäºå…ˆè¿›çš„AIæ¨¡å‹</li>
<li>å®Œæ•´çš„IDEåŠŸèƒ½</li>
<li>å¼ºå¤§çš„ä»£ç è¡¥å…¨å’Œç”Ÿæˆèƒ½åŠ›</li>
<li>æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€</li>
<li>å®æ—¶ä»£ç åˆ†æå’Œå»ºè®®</li>
</ul>
<h3 id="1-2-ä¼˜ç‚¹"><a href="#1-2-ä¼˜ç‚¹" class="headerlink" title="1.2 ä¼˜ç‚¹"></a>1.2 ä¼˜ç‚¹</h3><ol>
<li><p><strong>ä»£ç ç†è§£èƒ½åŠ›å¼º</strong></p>
<ul>
<li>èƒ½å‡†ç¡®ç†è§£é¡¹ç›®ä¸Šä¸‹æ–‡</li>
<li>æä¾›ç²¾å‡†çš„ä»£ç å»ºè®®</li>
<li>æ”¯æŒå¤æ‚ä»£ç é‡æ„</li>
</ul>
</li>
<li><p><strong>äº¤äº’ä½“éªŒä¼˜ç§€</strong></p>
<ul>
<li>ç•Œé¢ç®€æ´ç›´è§‚</li>
<li>å“åº”é€Ÿåº¦å¿«</li>
<li>æ”¯æŒè‡ªç„¶è¯­è¨€äº¤äº’</li>
</ul>
</li>
<li><p><strong>åŠŸèƒ½å®Œæ•´æ€§</strong></p>
<ul>
<li>é›†æˆGitç‰ˆæœ¬æ§åˆ¶</li>
<li>æ”¯æŒä»£ç è°ƒè¯•</li>
<li>å†…ç½®ç»ˆç«¯åŠŸèƒ½</li>
</ul>
</li>
</ol>
<h3 id="1-3-ç¼ºç‚¹"><a href="#1-3-ç¼ºç‚¹" class="headerlink" title="1.3 ç¼ºç‚¹"></a>1.3 ç¼ºç‚¹</h3><ol>
<li><p><strong>èµ„æºå ç”¨è¾ƒé«˜</strong></p>
<ul>
<li>è¿è¡Œéœ€è¦è¾ƒå¥½çš„ç¡¬ä»¶é…ç½®</li>
<li>å¯åŠ¨é€Ÿåº¦è¾ƒæ…¢</li>
</ul>
</li>
<li><p><strong>æ”¶è´¹è¾ƒé«˜</strong></p>
<ul>
<li>å®Œæ•´åŠŸèƒ½éœ€è¦ä»˜è´¹è®¢é˜…</li>
<li>ä»·æ ¼å¯¹ä¸ªäººå¼€å‘è€…ç•¥é«˜</li>
</ul>
</li>
</ol>
<h2 id="2-CodeGeeX-å›½äº§ä¼˜ç§€AIç¼–ç¨‹åŠ©æ‰‹"><a href="#2-CodeGeeX-å›½äº§ä¼˜ç§€AIç¼–ç¨‹åŠ©æ‰‹" class="headerlink" title="2. CodeGeeX - å›½äº§ä¼˜ç§€AIç¼–ç¨‹åŠ©æ‰‹"></a>2. CodeGeeX - å›½äº§ä¼˜ç§€AIç¼–ç¨‹åŠ©æ‰‹</h2><h3 id="2-1-ä¸»è¦ç‰¹ç‚¹"><a href="#2-1-ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="2.1 ä¸»è¦ç‰¹ç‚¹"></a>2.1 ä¸»è¦ç‰¹ç‚¹</h3><ul>
<li>æ”¯æŒä¸­æ–‡äº¤äº’</li>
<li>ç¦»çº¿è¿è¡Œèƒ½åŠ›</li>
<li>è·¨å¹³å°æ”¯æŒ</li>
<li>å¤šç§ç¼–è¾‘å™¨æ’ä»¶</li>
</ul>
<h3 id="2-2-ä¼˜ç‚¹"><a href="#2-2-ä¼˜ç‚¹" class="headerlink" title="2.2 ä¼˜ç‚¹"></a>2.2 ä¼˜ç‚¹</h3><ol>
<li><p><strong>æœ¬åœ°åŒ–ä¼˜åŠ¿</strong></p>
<ul>
<li>å®Œå–„çš„ä¸­æ–‡æ”¯æŒ</li>
<li>ç¬¦åˆå›½å†…å¼€å‘ä¹ æƒ¯</li>
<li>å“åº”é€Ÿåº¦å¿«</li>
</ul>
</li>
<li><p><strong>æ€§ä»·æ¯”é«˜</strong></p>
<ul>
<li>åŸºç¡€åŠŸèƒ½å…è´¹</li>
<li>ä¼ä¸šç‰ˆä»·æ ¼åˆç†</li>
<li>æ•™è‚²ä¼˜æƒ æ”¿ç­–</li>
</ul>
</li>
<li><p><strong>å®‰å…¨æ€§å¥½</strong></p>
<ul>
<li>æ”¯æŒç§æœ‰éƒ¨ç½²</li>
<li>ä»£ç ä¸å‡ºå¢ƒ</li>
<li>æ•°æ®å®‰å…¨æœ‰ä¿éšœ</li>
</ul>
</li>
</ol>
<h3 id="2-3-ç¼ºç‚¹"><a href="#2-3-ç¼ºç‚¹" class="headerlink" title="2.3 ç¼ºç‚¹"></a>2.3 ç¼ºç‚¹</h3><ol>
<li><p><strong>åŠŸèƒ½å®Œæ•´åº¦</strong></p>
<ul>
<li>éƒ¨åˆ†é«˜çº§åŠŸèƒ½ä¸å¦‚å›½å¤–äº§å“</li>
<li>IDEé›†æˆåº¦æœ‰å¾…æé«˜</li>
</ul>
</li>
<li><p><strong>æ¨¡å‹èƒ½åŠ›</strong></p>
<ul>
<li>åœ¨æŸäº›ä¸“ä¸šé¢†åŸŸç†è§£ä¸å¤Ÿæ·±å…¥</li>
<li>ä»£ç ç”Ÿæˆè´¨é‡ç•¥ä½äºé¡¶çº§äº§å“</li>
</ul>
</li>
</ol>
<h2 id="3-GitHub-Copilot-æœ€å—æ¬¢è¿çš„AIåŠ©æ‰‹"><a href="#3-GitHub-Copilot-æœ€å—æ¬¢è¿çš„AIåŠ©æ‰‹" class="headerlink" title="3. GitHub Copilot - æœ€å—æ¬¢è¿çš„AIåŠ©æ‰‹"></a>3. GitHub Copilot - æœ€å—æ¬¢è¿çš„AIåŠ©æ‰‹</h2><h3 id="3-1-ä¸»è¦ç‰¹ç‚¹"><a href="#3-1-ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="3.1 ä¸»è¦ç‰¹ç‚¹"></a>3.1 ä¸»è¦ç‰¹ç‚¹</h3><ul>
<li>å¾®è½¯å’ŒGitHubè”åˆå¼€å‘</li>
<li>åŸºäºOpenAIæŠ€æœ¯</li>
<li>æ”¯æŒä¸»æµç¼–è¾‘å™¨</li>
<li>å¼ºå¤§çš„ä»£ç ç”Ÿæˆèƒ½åŠ›</li>
</ul>
<h3 id="3-2-ä¼˜ç‚¹"><a href="#3-2-ä¼˜ç‚¹" class="headerlink" title="3.2 ä¼˜ç‚¹"></a>3.2 ä¼˜ç‚¹</h3><ol>
<li><p><strong>ä»£ç è´¨é‡é«˜</strong></p>
<ul>
<li>åŸºäºæµ·é‡GitHubä»£ç è®­ç»ƒ</li>
<li>ç”Ÿæˆä»£ç å¯è¯»æ€§å¥½</li>
<li>æ³¨é‡Šè¯¦ç»†å‡†ç¡®</li>
</ul>
</li>
<li><p><strong>é›†æˆåº¦é«˜</strong></p>
<ul>
<li>æ”¯æŒVS Codeç­‰ä¸»æµIDE</li>
<li>æ“ä½œä¾¿æ·</li>
<li>å­¦ä¹ æˆæœ¬ä½</li>
</ul>
</li>
<li><p><strong>æ›´æ–°é¢‘ç¹</strong></p>
<ul>
<li>æŒç»­æ”¹è¿›å’Œä¼˜åŒ–</li>
<li>Bugä¿®å¤åŠæ—¶</li>
<li>æ–°åŠŸèƒ½ä¸æ–­</li>
</ul>
</li>
</ol>
<h3 id="3-3-ç¼ºç‚¹"><a href="#3-3-ç¼ºç‚¹" class="headerlink" title="3.3 ç¼ºç‚¹"></a>3.3 ç¼ºç‚¹</h3><ol>
<li><p><strong>ä»·æ ¼è¾ƒè´µ</strong></p>
<ul>
<li>æœˆä»˜è´¹ç”¨è¾ƒé«˜</li>
<li>æ²¡æœ‰æ°¸ä¹…æˆæƒé€‰é¡¹</li>
</ul>
</li>
<li><p><strong>ç½‘ç»œä¾èµ–</strong></p>
<ul>
<li>éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥</li>
<li>æ— æ³•ç¦»çº¿ä½¿ç”¨</li>
</ul>
</li>
</ol>
<h2 id="4-å›½å†…å…¶ä»–AIç¼–ç¨‹åŠ©æ‰‹"><a href="#4-å›½å†…å…¶ä»–AIç¼–ç¨‹åŠ©æ‰‹" class="headerlink" title="4. å›½å†…å…¶ä»–AIç¼–ç¨‹åŠ©æ‰‹"></a>4. å›½å†…å…¶ä»–AIç¼–ç¨‹åŠ©æ‰‹</h2><h3 id="4-1-MarsCode-æŠ–éŸ³å®˜æ–¹AIç¼–ç¨‹åŠ©æ‰‹"><a href="#4-1-MarsCode-æŠ–éŸ³å®˜æ–¹AIç¼–ç¨‹åŠ©æ‰‹" class="headerlink" title="4.1 MarsCode - æŠ–éŸ³å®˜æ–¹AIç¼–ç¨‹åŠ©æ‰‹"></a>4.1 MarsCode - æŠ–éŸ³å®˜æ–¹AIç¼–ç¨‹åŠ©æ‰‹</h3><p><strong>ä¸»è¦ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>å­—èŠ‚è·³åŠ¨å®˜æ–¹å‡ºå“</li>
<li>åŸºäºå…ˆè¿›çš„CodeFuseå¤§æ¨¡å‹</li>
<li>æ”¯æŒVSCodeã€JetBrainsç­‰ä¸»æµIDE</li>
<li>æä¾›Webç‰ˆåœ¨çº¿ä½¿ç”¨</li>
<li>å®Œå…¨å…è´¹ä½¿ç”¨</li>
</ul>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ol>
<li><p><strong>å¼ºå¤§çš„ä»£ç ç”Ÿæˆèƒ½åŠ›</strong></p>
<ul>
<li>åŸºäºæµ·é‡å­—èŠ‚è·³åŠ¨å†…éƒ¨ä»£ç è®­ç»ƒ</li>
<li>æ”¯æŒ40+ç§ä¸»æµç¼–ç¨‹è¯­è¨€</li>
<li>ä»£ç è´¨é‡å’Œå¯ç”¨æ€§è¾ƒé«˜</li>
<li>æ”¯æŒå®Œæ•´å‡½æ•°å’Œç±»çš„ç”Ÿæˆ</li>
</ul>
</li>
<li><p><strong>æ™ºèƒ½äº¤äº’ä½“éªŒ</strong></p>
<ul>
<li>æ”¯æŒè‡ªç„¶è¯­è¨€å¯¹è¯</li>
<li>æä¾›ä»£ç è§£é‡Šå’Œä¼˜åŒ–å»ºè®®</li>
<li>å®æ—¶ä»£ç è¡¥å…¨</li>
<li>å¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡ç†è§£</li>
</ul>
</li>
<li><p><strong>ä¾¿æ·çš„ä½¿ç”¨æ–¹å¼</strong></p>
<ul>
<li>å®Œå…¨å…è´¹ï¼Œæ— éœ€ä»˜è´¹</li>
<li>æ”¯æŒWebç«¯ç›´æ¥ä½¿ç”¨</li>
<li>IDEæ’ä»¶é›†æˆä¾¿æ·</li>
<li>å¿«é€Ÿçš„å“åº”é€Ÿåº¦</li>
</ul>
</li>
<li><p><strong>ä¸­æ–‡æ”¯æŒä¼˜ç§€</strong></p>
<ul>
<li>å®Œå–„çš„ä¸­æ–‡äº¤äº’</li>
<li>å‡†ç¡®çš„ä¸­æ–‡éœ€æ±‚ç†è§£</li>
<li>è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šç”Ÿæˆ</li>
<li>ç¬¦åˆå›½å†…å¼€å‘ä¹ æƒ¯</li>
</ul>
</li>
</ol>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ol>
<li><p><strong>åŠŸèƒ½é™åˆ¶</strong></p>
<ul>
<li>éƒ¨åˆ†é«˜çº§åŠŸèƒ½å°šæœªå¼€æ”¾</li>
<li>ä»£ç åˆ†ææ·±åº¦æœ‰é™</li>
<li>é‡æ„åŠŸèƒ½ç›¸å¯¹åŸºç¡€</li>
</ul>
</li>
<li><p><strong>ç”Ÿæ€ä½“ç³»</strong></p>
<ul>
<li>æ’ä»¶æ•°é‡è¾ƒå°‘</li>
<li>ç¤¾åŒºèµ„æºä¸å¤Ÿä¸°å¯Œ</li>
<li>æ–‡æ¡£å’Œæ•™ç¨‹è¾ƒå°‘</li>
</ul>
</li>
<li><p><strong>ä½¿ç”¨é™åˆ¶</strong></p>
<ul>
<li>éœ€è¦æŠ–éŸ³è´¦å·ç™»å½•</li>
<li>å¯èƒ½æœ‰APIè°ƒç”¨é™åˆ¶</li>
<li>æš‚ä¸æ”¯æŒç§æœ‰éƒ¨ç½²</li>
</ul>
</li>
<li><p><strong>ç¨³å®šæ€§å¾…æå‡</strong></p>
<ul>
<li>æœåŠ¡å¶æœ‰æ³¢åŠ¨</li>
<li>ä»£ç ç”Ÿæˆè´¨é‡ä¸å¤Ÿç¨³å®š</li>
<li>å¤æ‚åœºæ™¯æ”¯æŒæœ‰é™</li>
</ul>
</li>
</ol>
<h3 id="4-2-ç™¾åº¦æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹"><a href="#4-2-ç™¾åº¦æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹" class="headerlink" title="4.2 ç™¾åº¦æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹"></a>4.2 ç™¾åº¦æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹</h3><p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ä¸­æ–‡æ”¯æŒå¥½</li>
<li>ä¸ç™¾åº¦ç”Ÿæ€é›†æˆ</li>
<li>å…è´¹é¢åº¦å¤§</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>åŠŸèƒ½ç›¸å¯¹ç®€å•</li>
<li>ä»…æ”¯æŒéƒ¨åˆ†è¯­è¨€</li>
<li>ç¤¾åŒºæ´»è·ƒåº¦ä½</li>
</ul>
<h3 id="4-3-é˜¿é‡Œäº‘ä»£ç æ™ºèƒ½åŠ©æ‰‹"><a href="#4-3-é˜¿é‡Œäº‘ä»£ç æ™ºèƒ½åŠ©æ‰‹" class="headerlink" title="4.3 é˜¿é‡Œäº‘ä»£ç æ™ºèƒ½åŠ©æ‰‹"></a>4.3 é˜¿é‡Œäº‘ä»£ç æ™ºèƒ½åŠ©æ‰‹</h3><p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>é˜¿é‡Œäº‘ç”Ÿæ€é›†æˆ</li>
<li>ä¼ä¸šçº§æ”¯æŒ</li>
<li>å®‰å…¨æ€§é«˜</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>éœ€è¦é˜¿é‡Œäº‘è´¦å·</li>
<li>æ”¶è´¹è¾ƒé«˜</li>
<li>é€šç”¨æ€§ä¸è¶³</li>
</ul>
<h2 id="5-é€‰æ‹©å»ºè®®"><a href="#5-é€‰æ‹©å»ºè®®" class="headerlink" title="5. é€‰æ‹©å»ºè®®"></a>5. é€‰æ‹©å»ºè®®</h2><h3 id="5-1-ä¸åŒåœºæ™¯çš„é€‰æ‹©å»ºè®®"><a href="#5-1-ä¸åŒåœºæ™¯çš„é€‰æ‹©å»ºè®®" class="headerlink" title="5.1 ä¸åŒåœºæ™¯çš„é€‰æ‹©å»ºè®®"></a>5.1 ä¸åŒåœºæ™¯çš„é€‰æ‹©å»ºè®®</h3><ol>
<li><p><strong>ä¸ªäººå¼€å‘è€…</strong></p>
<ul>
<li>é¢„ç®—å……è¶³ï¼šCursoræˆ–GitHub Copilot</li>
<li>é¢„ç®—æœ‰é™ï¼šCodeGeeX</li>
<li>ä¸­æ–‡ç¯å¢ƒï¼šCodeGeeXæˆ–ç™¾åº¦æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹</li>
</ul>
</li>
<li><p><strong>ä¼ä¸šç”¨æˆ·</strong></p>
<ul>
<li>æ³¨é‡å®‰å…¨ï¼šCodeGeeXä¼ä¸šç‰ˆ</li>
<li>å›¢é˜Ÿåä½œï¼šGitHub Copilotå•†ä¸šç‰ˆ</li>
<li>äº‘ç”Ÿæ€ï¼šé˜¿é‡Œäº‘ä»£ç æ™ºèƒ½åŠ©æ‰‹</li>
</ul>
</li>
<li><p><strong>å­¦ç”Ÿç”¨æˆ·</strong></p>
<ul>
<li>GitHub Copilotï¼ˆæœ‰æ•™è‚²ä¼˜æƒ ï¼‰</li>
<li>CodeGeeXï¼ˆå…è´¹ç‰ˆå¤Ÿç”¨ï¼‰</li>
</ul>
</li>
</ol>
<h3 id="5-2-é€‰æ‹©è€ƒè™‘å› ç´ "><a href="#5-2-é€‰æ‹©è€ƒè™‘å› ç´ " class="headerlink" title="5.2 é€‰æ‹©è€ƒè™‘å› ç´ "></a>5.2 é€‰æ‹©è€ƒè™‘å› ç´ </h3><ol>
<li><p><strong>é¢„ç®—</strong></p>
<ul>
<li>å…è´¹ä½¿ç”¨éœ€æ±‚</li>
<li>æ€§ä»·æ¯”è€ƒè™‘</li>
<li>é•¿æœŸè®¢é˜…æˆæœ¬</li>
</ul>
</li>
<li><p><strong>ä½¿ç”¨åœºæ™¯</strong></p>
<ul>
<li>ä¸ªäºº/å›¢é˜Ÿä½¿ç”¨</li>
<li>é¡¹ç›®è§„æ¨¡</li>
<li>ç¼–ç¨‹è¯­è¨€æ”¯æŒ</li>
</ul>
</li>
<li><p><strong>ç‰¹æ®Šéœ€æ±‚</strong></p>
<ul>
<li>ä¸­æ–‡æ”¯æŒ</li>
<li>ç¦»çº¿ä½¿ç”¨</li>
<li>å®‰å…¨åˆè§„</li>
</ul>
</li>
</ol>
<h2 id="6-ä½¿ç”¨æŠ€å·§åˆ†äº«"><a href="#6-ä½¿ç”¨æŠ€å·§åˆ†äº«" class="headerlink" title="6. ä½¿ç”¨æŠ€å·§åˆ†äº«"></a>6. ä½¿ç”¨æŠ€å·§åˆ†äº«</h2><h3 id="6-1-æé«˜AIåŠ©æ‰‹æ•ˆç‡çš„æŠ€å·§"><a href="#6-1-æé«˜AIåŠ©æ‰‹æ•ˆç‡çš„æŠ€å·§" class="headerlink" title="6.1 æé«˜AIåŠ©æ‰‹æ•ˆç‡çš„æŠ€å·§"></a>6.1 æé«˜AIåŠ©æ‰‹æ•ˆç‡çš„æŠ€å·§</h3><ol>
<li><p><strong>ç¼–å†™æ¸…æ™°çš„æç¤º</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¥½çš„æç¤ºç¤ºä¾‹</span></span><br><span class="line"><span class="comment">// å®ç°ä¸€ä¸ªåŸºäºPromiseçš„å»¶è¿Ÿå‡½æ•°ï¼Œæ”¯æŒå–æ¶ˆæ“ä½œ</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å–„ç”¨ä¸Šä¸‹æ–‡</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å…ˆè¯´æ˜éœ€æ±‚èƒŒæ™¯</span></span><br><span class="line"><span class="comment">// å†æè¿°å…·ä½“åŠŸèƒ½</span></span><br><span class="line"><span class="comment">// æœ€åæŒ‡å‡ºå…³é”®ç‚¹</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ç»“åˆæ–‡æ¡£ä½¿ç”¨</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£</span></span><br><span class="line"><span class="comment">// å‚è€ƒç¤ºä¾‹ä»£ç </span></span><br><span class="line"><span class="comment">// ç†è§£å®ç°åŸç†</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="6-2-é¿å…å¸¸è§è¯¯åŒº"><a href="#6-2-é¿å…å¸¸è§è¯¯åŒº" class="headerlink" title="6.2 é¿å…å¸¸è§è¯¯åŒº"></a>6.2 é¿å…å¸¸è§è¯¯åŒº</h3><ol>
<li><p><strong>è¿‡åº¦ä¾èµ–</strong></p>
<ul>
<li>ä¸è¦å®Œå…¨ä¾èµ–AIç”Ÿæˆä»£ç </li>
<li>ä¿æŒä»£ç å®¡æŸ¥ä¹ æƒ¯</li>
<li>ç†è§£ä»£ç é€»è¾‘</li>
</ul>
</li>
<li><p><strong>å¿½è§†æ€§èƒ½</strong></p>
<ul>
<li>æ³¨æ„ä»£ç è´¨é‡</li>
<li>è€ƒè™‘æ€§èƒ½å½±å“</li>
<li>æµ‹è¯•ç”Ÿæˆä»£ç </li>
</ul>
</li>
</ol>
<h2 id="7-æœªæ¥å±•æœ›"><a href="#7-æœªæ¥å±•æœ›" class="headerlink" title="7. æœªæ¥å±•æœ›"></a>7. æœªæ¥å±•æœ›</h2><ol>
<li><p><strong>æŠ€æœ¯è¶‹åŠ¿</strong></p>
<ul>
<li>æ¨¡å‹èƒ½åŠ›æŒç»­æå‡</li>
<li>å¤šæ¨¡æ€äº¤äº’å¢å¼º</li>
<li>ä¸ªæ€§åŒ–æ¨èåŠ å¼º</li>
</ul>
</li>
<li><p><strong>è¡Œä¸šå½±å“</strong></p>
<ul>
<li>æé«˜å¼€å‘æ•ˆç‡</li>
<li>é™ä½å…¥é—¨é—¨æ§›</li>
<li>æ”¹å˜å¼€å‘æ¨¡å¼</li>
</ul>
</li>
<li><p><strong>æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>ä¿æŒå­¦ä¹ èƒ½åŠ›</li>
<li>æé«˜ä»£ç ç´ å…»</li>
<li>å…³æ³¨å®‰å…¨åˆè§„</li>
</ul>
</li>
</ol>
<h2 id="8-æ€»ç»“"><a href="#8-æ€»ç»“" class="headerlink" title="8. æ€»ç»“"></a>8. æ€»ç»“</h2><ol>
<li>é€‰æ‹©åˆé€‚çš„AIç¼–ç¨‹åŠ©æ‰‹å¾ˆé‡è¦</li>
<li>æ ¹æ®å®é™…éœ€æ±‚å’Œåœºæ™¯é€‰æ‹©</li>
<li>åˆç†ä½¿ç”¨æé«˜å¼€å‘æ•ˆç‡</li>
<li>é¿å…è¿‡åº¦ä¾èµ–</li>
<li>æŒç»­å…³æ³¨æ–°æŠ€æœ¯å‘å±•</li>
</ol>
<h2 id="5-äº§å“å¯¹æ¯”åˆ†æ"><a href="#5-äº§å“å¯¹æ¯”åˆ†æ" class="headerlink" title="5. äº§å“å¯¹æ¯”åˆ†æ"></a>5. äº§å“å¯¹æ¯”åˆ†æ</h2><h3 id="5-1-åŠŸèƒ½å¯¹æ¯”"><a href="#5-1-åŠŸèƒ½å¯¹æ¯”" class="headerlink" title="5.1 åŠŸèƒ½å¯¹æ¯”"></a>5.1 åŠŸèƒ½å¯¹æ¯”</h3><table>
<thead>
<tr>
<th>åŠŸèƒ½ç‰¹æ€§</th>
<th>Cursor</th>
<th>GitHub Copilot</th>
<th>CodeGeeX</th>
<th>MarsCode</th>
</tr>
</thead>
<tbody><tr>
<td>ä»£ç è¡¥å…¨</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­</td>
<td>â­â­â­â­</td>
</tr>
<tr>
<td>ä»£ç ç”Ÿæˆ</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­</td>
<td>â­â­â­â­</td>
</tr>
<tr>
<td>ä¸­æ–‡æ”¯æŒ</td>
<td>â­â­â­</td>
<td>â­â­</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­â­</td>
</tr>
<tr>
<td>IDEé›†æˆ</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­</td>
<td>â­â­â­</td>
</tr>
<tr>
<td>å“åº”é€Ÿåº¦</td>
<td>â­â­â­â­</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­</td>
<td>â­â­â­â­</td>
</tr>
<tr>
<td>ä»£ç è´¨é‡</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­â­</td>
<td>â­â­â­â­</td>
<td>â­â­â­â­</td>
</tr>
</tbody></table>
<h3 id="5-2-ä»·æ ¼å¯¹æ¯”"><a href="#5-2-ä»·æ ¼å¯¹æ¯”" class="headerlink" title="5.2 ä»·æ ¼å¯¹æ¯”"></a>5.2 ä»·æ ¼å¯¹æ¯”</h3><table>
<thead>
<tr>
<th>äº§å“</th>
<th>å…è´¹ç‰ˆ</th>
<th>ä¸ªäººç‰ˆ</th>
<th>å›¢é˜Ÿç‰ˆ</th>
<th>ä¼ä¸šç‰ˆ</th>
</tr>
</thead>
<tbody><tr>
<td>Cursor</td>
<td>åŸºç¡€åŠŸèƒ½</td>
<td>$20/æœˆ</td>
<td>$40/äºº/æœˆ</td>
<td>è”ç³»å•†åŠ¡</td>
</tr>
<tr>
<td>GitHub Copilot</td>
<td>æ— </td>
<td>$10/æœˆ</td>
<td>$19/äºº/æœˆ</td>
<td>è”ç³»å•†åŠ¡</td>
</tr>
<tr>
<td>CodeGeeX</td>
<td>å®Œæ•´åŠŸèƒ½</td>
<td>å…è´¹</td>
<td>Â¥299/äºº/å¹´</td>
<td>è”ç³»å•†åŠ¡</td>
</tr>
<tr>
<td>MarsCode</td>
<td>å®Œæ•´åŠŸèƒ½</td>
<td>å…è´¹</td>
<td>å…è´¹</td>
<td>å…è´¹</td>
</tr>
</tbody></table>
<h3 id="5-3-é€‚ç”¨åœºæ™¯å¯¹æ¯”"><a href="#5-3-é€‚ç”¨åœºæ™¯å¯¹æ¯”" class="headerlink" title="5.3 é€‚ç”¨åœºæ™¯å¯¹æ¯”"></a>5.3 é€‚ç”¨åœºæ™¯å¯¹æ¯”</h3><ol>
<li><p><strong>ä¸ªäººå¼€å‘è€…</strong></p>
<ul>
<li>é¢„ç®—å……è¶³ï¼šGitHub Copilot &gt; Cursor</li>
<li>é¢„ç®—æœ‰é™ï¼šMarsCode &gt; CodeGeeX</li>
<li>ä¸­æ–‡ç¯å¢ƒï¼šMarsCode = CodeGeeX &gt; å…¶ä»–</li>
</ul>
</li>
<li><p><strong>å›¢é˜Ÿä½¿ç”¨</strong></p>
<ul>
<li>å¤§å‹ä¼ä¸šï¼šGitHub Copilot &gt; Cursor &gt; CodeGeeX</li>
<li>ä¸­å°ä¼ä¸šï¼šCodeGeeX &gt; MarsCode &gt; å…¶ä»–</li>
<li>åˆ›ä¸šå›¢é˜Ÿï¼šMarsCode &gt; CodeGeeX &gt; å…¶ä»–</li>
</ul>
</li>
<li><p><strong>ç‰¹å®šéœ€æ±‚</strong></p>
<ul>
<li>ç¦»çº¿ä½¿ç”¨ï¼šCodeGeeX &gt; å…¶ä»–</li>
<li>ç§æœ‰éƒ¨ç½²ï¼šCodeGeeX &gt; GitHub Copilot</li>
<li>ä¸­æ–‡æ”¯æŒï¼šMarsCode = CodeGeeX &gt; å…¶ä»–</li>
</ul>
</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>æŠ€æœ¯è¯„æµ‹</category>
        <category>AIå·¥å…·</category>
      </categories>
      <tags>
        <tag>AIç¼–ç¨‹</tag>
        <tag>å¼€å‘å·¥å…·</tag>
        <tag>Cursor</tag>
        <tag>CodeGeeX</tag>
        <tag>ç¼–ç¨‹åŠ©æ‰‹</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appåœ°å›¾å®šä½è¸©å‘è®°ï¼šåœ°å›¾åŠŸèƒ½å’Œå®šä½çš„é‚£äº›å‘</title>
    <url>/2024/06/25/uniapp-map-location/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨uni-appå¼€å‘ä¸­ï¼Œåœ°å›¾å’Œå®šä½åŠŸèƒ½ç»å¸¸ä¼šé‡åˆ°å„ç§é—®é¢˜ã€‚æœ¬æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§çš„å‘å’Œè§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©å¤§å®¶æ›´å¥½åœ°å®ç°åœ°å›¾ç›¸å…³åŠŸèƒ½ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-å®šä½æƒé™é—®é¢˜"><a href="#1-å®šä½æƒé™é—®é¢˜" class="headerlink" title="1. å®šä½æƒé™é—®é¢˜"></a>1. å®šä½æƒé™é—®é¢˜</h2><h3 id="1-1-è·å–å®šä½æƒé™"><a href="#1-1-è·å–å®šä½æƒé™" class="headerlink" title="1.1 è·å–å®šä½æƒé™"></a>1.1 è·å–å®šä½æƒé™</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç”¨æˆ·æ‹’ç»å®šä½æƒé™åï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨å®šä½åŠŸèƒ½ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥å®šä½æƒé™</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">checkLocationAuth</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> uni.<span class="title function_">getSetting</span>()</span><br><span class="line">    <span class="keyword">if</span> (!res.<span class="property">authSetting</span>[<span class="string">&#x27;scope.userLocation&#x27;</span>]) &#123;</span><br><span class="line">      <span class="comment">// æœªæˆæƒï¼Œå¼•å¯¼ç”¨æˆ·å¼€å¯</span></span><br><span class="line">      <span class="keyword">await</span> uni.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æç¤º&#x27;</span>,</span><br><span class="line">        <span class="attr">content</span>: <span class="string">&#x27;éœ€è¦è·å–æ‚¨çš„ä½ç½®ä¿¡æ¯ï¼Œæ˜¯å¦æˆæƒï¼Ÿ&#x27;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="title function_">async</span> (res) =&gt; &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">            <span class="keyword">await</span> uni.<span class="title function_">openSetting</span>()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="property">authSetting</span>[<span class="string">&#x27;scope.userLocation&#x27;</span>]</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è·å–æƒé™å¤±è´¥ï¼š&#x27;</span>, e)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-å®šä½å¤±è´¥å¤„ç†"><a href="#1-2-å®šä½å¤±è´¥å¤„ç†" class="headerlink" title="1.2 å®šä½å¤±è´¥å¤„ç†"></a>1.2 å®šä½å¤±è´¥å¤„ç†</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å®šä½å¤±è´¥æ—¶æ²¡æœ‰åˆé€‚çš„æç¤ºå’Œå¤„ç†ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–ä½ç½®ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">getLocation</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> auth = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">checkLocationAuth</span>()</span><br><span class="line">    <span class="keyword">if</span> (!auth) &#123;</span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;è¯·å…ˆå¼€å¯å®šä½æƒé™&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> location = <span class="keyword">await</span> uni.<span class="title function_">getLocation</span>(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;gcj02&#x27;</span>, <span class="comment">// gcj02ç«æ˜Ÿåæ ‡ç³»</span></span><br><span class="line">      <span class="attr">isHighAccuracy</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯é«˜ç²¾åº¦å®šä½</span></span><br><span class="line">      <span class="attr">highAccuracyExpireTime</span>: <span class="number">3000</span> <span class="comment">// è¶…æ—¶æ—¶é—´</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> location</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">let</span> message = <span class="string">&#x27;å®šä½å¤±è´¥&#x27;</span></span><br><span class="line">    <span class="keyword">switch</span> (e.<span class="property">errMsg</span>) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;getLocation:fail system permission denied&#x27;</span>:</span><br><span class="line">        message = <span class="string">&#x27;ç³»ç»Ÿå®šä½æƒé™å·²å…³é—­&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      <span class="keyword">case</span> <span class="string">&#x27;getLocation:fail timeout&#x27;</span>:</span><br><span class="line">        message = <span class="string">&#x27;å®šä½è¶…æ—¶ï¼Œè¯·é‡è¯•&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      <span class="attr">default</span>:</span><br><span class="line">        message = <span class="string">&#x27;å®šä½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: message,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-åœ°å›¾æ˜¾ç¤ºé—®é¢˜"><a href="#2-åœ°å›¾æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="2. åœ°å›¾æ˜¾ç¤ºé—®é¢˜"></a>2. åœ°å›¾æ˜¾ç¤ºé—®é¢˜</h2><h3 id="2-1-åœ°å›¾åŠ è½½å¤±è´¥"><a href="#2-1-åœ°å›¾åŠ è½½å¤±è´¥" class="headerlink" title="2.1 åœ°å›¾åŠ è½½å¤±è´¥"></a>2.1 åœ°å›¾åŠ è½½å¤±è´¥</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>åœ°å›¾ç»„ä»¶åŠ è½½å¤±è´¥æˆ–æ˜¾ç¤ºç©ºç™½ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- åœ°å›¾ç»„ä»¶ä½¿ç”¨ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;map-container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span></span></span><br><span class="line"><span class="tag">      <span class="attr">id</span>=<span class="string">&quot;map&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:style</span>=<span class="string">&quot;mapStyle&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:latitude</span>=<span class="string">&quot;latitude&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:longitude</span>=<span class="string">&quot;longitude&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:markers</span>=<span class="string">&quot;markers&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:scale</span>=<span class="string">&quot;scale&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">regionchange</span>=<span class="string">&quot;onRegionChange&quot;</span></span></span><br><span class="line"><span class="tag">      @<span class="attr">markertap</span>=<span class="string">&quot;onMarkerTap&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">:show-location</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span><span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">mapStyle</span>: <span class="string">&#x27;width: 100%; height: 300px;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">latitude</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">longitude</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">markers</span>: [],</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">scale</span>: <span class="number">16</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">async</span> <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// ç­‰å¾…åœ°å›¾ç»„ä»¶åˆ›å»ºå®Œæˆ</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">this</span>.<span class="property">mapContext</span> = uni.<span class="title function_">createMapContext</span>(<span class="string">&#x27;map&#x27;</span>, <span class="variable language_">this</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">initMap</span>()</span></span><br><span class="line"><span class="language-javascript">  &#125;,</span></span><br><span class="line"><span class="language-javascript">  <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">async</span> <span class="title function_">initMap</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> location = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">getLocation</span>()</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (location) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">latitude</span> = location.<span class="property">latitude</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">longitude</span> = location.<span class="property">longitude</span></span></span><br><span class="line"><span class="language-javascript">          <span class="comment">// æ·»åŠ å½“å‰ä½ç½®æ ‡è®°</span></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="title function_">addMarker</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">id</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">latitude</span>: location.<span class="property">latitude</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">longitude</span>: location.<span class="property">longitude</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: <span class="string">&#x27;å½“å‰ä½ç½®&#x27;</span></span></span><br><span class="line"><span class="language-javascript">          &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;åˆå§‹åŒ–åœ°å›¾å¤±è´¥ï¼š&#x27;</span>, e)</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-æ ‡è®°ç‚¹æ˜¾ç¤ºé—®é¢˜"><a href="#2-2-æ ‡è®°ç‚¹æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="2.2 æ ‡è®°ç‚¹æ˜¾ç¤ºé—®é¢˜"></a>2.2 æ ‡è®°ç‚¹æ˜¾ç¤ºé—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>è‡ªå®šä¹‰æ ‡è®°ç‚¹æ ·å¼ä¸ç”Ÿæ•ˆæˆ–æ˜¾ç¤ºå¼‚å¸¸ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ è‡ªå®šä¹‰æ ‡è®°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addMarker</span>(<span class="params">point</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> marker = &#123;</span><br><span class="line">    <span class="attr">id</span>: point.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">latitude</span>: point.<span class="property">latitude</span>,</span><br><span class="line">    <span class="attr">longitude</span>: point.<span class="property">longitude</span>,</span><br><span class="line">    <span class="attr">title</span>: point.<span class="property">title</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">32</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">32</span>,</span><br><span class="line">    <span class="attr">callout</span>: &#123;</span><br><span class="line">      <span class="attr">content</span>: point.<span class="property">title</span>,</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&#x27;#ffffff&#x27;</span>,</span><br><span class="line">      <span class="attr">fontSize</span>: <span class="number">14</span>,</span><br><span class="line">      <span class="attr">borderRadius</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">bgColor</span>: <span class="string">&#x27;#1989fa&#x27;</span>,</span><br><span class="line">      <span class="attr">padding</span>: <span class="number">8</span>,</span><br><span class="line">      <span class="attr">display</span>: <span class="string">&#x27;ALWAYS&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰å›¾æ ‡</span></span><br><span class="line">    <span class="attr">iconPath</span>: point.<span class="property">iconPath</span> || <span class="string">&#x27;/static/images/marker.png&#x27;</span>,</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰æ°”æ³¡</span></span><br><span class="line">    <span class="attr">customCallout</span>: &#123;</span><br><span class="line">      <span class="attr">display</span>: <span class="string">&#x27;ALWAYS&#x27;</span>,</span><br><span class="line">      <span class="attr">anchorY</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">anchorX</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">markers</span>.<span class="title function_">push</span>(marker)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-è·¯çº¿è§„åˆ’é—®é¢˜"><a href="#3-è·¯çº¿è§„åˆ’é—®é¢˜" class="headerlink" title="3. è·¯çº¿è§„åˆ’é—®é¢˜"></a>3. è·¯çº¿è§„åˆ’é—®é¢˜</h2><h3 id="3-1-è·¯çº¿ç»˜åˆ¶é”™è¯¯"><a href="#3-1-è·¯çº¿ç»˜åˆ¶é”™è¯¯" class="headerlink" title="3.1 è·¯çº¿ç»˜åˆ¶é”™è¯¯"></a>3.1 è·¯çº¿ç»˜åˆ¶é”™è¯¯</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>è·¯çº¿è§„åˆ’æ—¶ç»˜åˆ¶çš„è·¯çº¿ä¸å‡†ç¡®æˆ–æ— æ³•æ˜¾ç¤ºã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è§„åˆ’è·¯çº¿</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">planRoute</span>(<span class="params">start, end</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// æ¸…é™¤æ—§è·¯çº¿</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">polyline</span> = []</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–è·¯çº¿è§„åˆ’</span></span><br><span class="line">    <span class="keyword">const</span> route = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">getRoutePoints</span>(start, end)</span><br><span class="line">    <span class="keyword">if</span> (!route) <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç»˜åˆ¶è·¯çº¿</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">polyline</span> = [&#123;</span><br><span class="line">      <span class="attr">points</span>: route,</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&#x27;#1989fa&#x27;</span>,</span><br><span class="line">      <span class="attr">width</span>: <span class="number">4</span>,</span><br><span class="line">      <span class="attr">arrowLine</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">borderColor</span>: <span class="string">&#x27;#ffffff&#x27;</span>,</span><br><span class="line">      <span class="attr">borderWidth</span>: <span class="number">2</span></span><br><span class="line">    &#125;]</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è°ƒæ•´è§†é‡ä»¥æ˜¾ç¤ºæ•´æ¡è·¯çº¿</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">mapContext</span>.<span class="title function_">includePoints</span>(&#123;</span><br><span class="line">      <span class="attr">points</span>: [start, end],</span><br><span class="line">      <span class="attr">padding</span>: [<span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>, <span class="number">50</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è§„åˆ’è·¯çº¿å¤±è´¥ï¼š&#x27;</span>, e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-å¯¼èˆªé—®é¢˜"><a href="#3-2-å¯¼èˆªé—®é¢˜" class="headerlink" title="3.2 å¯¼èˆªé—®é¢˜"></a>3.2 å¯¼èˆªé—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>è°ƒç”¨å¯¼èˆªåŠŸèƒ½æ—¶å‡ºç°å…¼å®¹æ€§é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰“å¼€å¯¼èˆª</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">openNavigation</span>(<span class="params">destination</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// æ£€æŸ¥å¹³å°</span></span><br><span class="line">    <span class="comment">// #ifdef APP-PLUS</span></span><br><span class="line">    <span class="comment">// APPç«¯ä½¿ç”¨ç³»ç»Ÿå¯¼èˆª</span></span><br><span class="line">    plus.<span class="property">runtime</span>.<span class="title function_">openURL</span>(</span><br><span class="line">      <span class="string">`androidamap://navi?sourceApplication=appname&amp;lat=<span class="subst">$&#123;destination.latitude&#125;</span>&amp;lon=<span class="subst">$&#123;destination.longitude&#125;</span>&amp;dev=0&amp;style=2`</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// #ifdef H5</span></span><br><span class="line">    <span class="comment">// H5ç«¯ä½¿ç”¨Webå¯¼èˆª</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span> = <span class="string">`https://uri.amap.com/navigation?to=<span class="subst">$&#123;destination.longitude&#125;</span>,<span class="subst">$&#123;destination.latitude&#125;</span>&amp;mode=car&amp;policy=1`</span></span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// #ifdef MP-WEIXIN</span></span><br><span class="line">    <span class="comment">// å°ç¨‹åºç«¯ä½¿ç”¨å¾®ä¿¡å¯¼èˆª</span></span><br><span class="line">    uni.<span class="title function_">openLocation</span>(&#123;</span><br><span class="line">      <span class="attr">latitude</span>: destination.<span class="property">latitude</span>,</span><br><span class="line">      <span class="attr">longitude</span>: destination.<span class="property">longitude</span>,</span><br><span class="line">      <span class="attr">name</span>: destination.<span class="property">name</span>,</span><br><span class="line">      <span class="attr">address</span>: destination.<span class="property">address</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;æ‰“å¼€å¯¼èˆªå¤±è´¥&#x27;</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-æ€§èƒ½ä¼˜åŒ–é—®é¢˜"><a href="#4-æ€§èƒ½ä¼˜åŒ–é—®é¢˜" class="headerlink" title="4. æ€§èƒ½ä¼˜åŒ–é—®é¢˜"></a>4. æ€§èƒ½ä¼˜åŒ–é—®é¢˜</h2><h3 id="4-1-æ ‡è®°ç‚¹è¿‡å¤š"><a href="#4-1-æ ‡è®°ç‚¹è¿‡å¤š" class="headerlink" title="4.1 æ ‡è®°ç‚¹è¿‡å¤š"></a>4.1 æ ‡è®°ç‚¹è¿‡å¤š</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>åœ°å›¾ä¸Šæ ‡è®°ç‚¹å¤ªå¤šå¯¼è‡´å¡é¡¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// èšåˆæ ‡è®°ç‚¹</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clusterMarkers</span>(<span class="params">markers, distance = <span class="number">20</span></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> clusters = []</span><br><span class="line">  <span class="keyword">const</span> used = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">  </span><br><span class="line">  markers.<span class="title function_">forEach</span>(<span class="function">(<span class="params">marker, index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (used.<span class="title function_">has</span>(index)) <span class="keyword">return</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> cluster = &#123;</span><br><span class="line">      <span class="attr">center</span>: &#123;</span><br><span class="line">        <span class="attr">latitude</span>: marker.<span class="property">latitude</span>,</span><br><span class="line">        <span class="attr">longitude</span>: marker.<span class="property">longitude</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">points</span>: [marker]</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾é™„è¿‘çš„ç‚¹</span></span><br><span class="line">    markers.<span class="title function_">forEach</span>(<span class="function">(<span class="params">m, i</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (i === index || used.<span class="title function_">has</span>(i)) <span class="keyword">return</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">const</span> d = <span class="variable language_">this</span>.<span class="title function_">calculateDistance</span>(</span><br><span class="line">        marker.<span class="property">latitude</span>,</span><br><span class="line">        marker.<span class="property">longitude</span>,</span><br><span class="line">        m.<span class="property">latitude</span>,</span><br><span class="line">        m.<span class="property">longitude</span></span><br><span class="line">      )</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (d &lt;= distance) &#123;</span><br><span class="line">        cluster.<span class="property">points</span>.<span class="title function_">push</span>(m)</span><br><span class="line">        used.<span class="title function_">add</span>(i)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    clusters.<span class="title function_">push</span>(cluster)</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> clusters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-é¢‘ç¹æ›´æ–°"><a href="#4-2-é¢‘ç¹æ›´æ–°" class="headerlink" title="4.2 é¢‘ç¹æ›´æ–°"></a>4.2 é¢‘ç¹æ›´æ–°</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>é¢‘ç¹æ›´æ–°æ ‡è®°ç‚¹ä½ç½®å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨èŠ‚æµæ›´æ–°ä½ç½®</span></span><br><span class="line"><span class="keyword">const</span> throttleUpdate = <span class="title function_">throttle</span>(<span class="keyword">function</span>(<span class="params">markers</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">markers</span> = markers</span><br><span class="line">&#125;, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°æ ‡è®°ä½ç½®</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateMarkers</span>(<span class="params">newMarkers</span>) &#123;</span><br><span class="line">  <span class="title function_">throttleUpdate</span>(newMarkers)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èŠ‚æµå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) <span class="keyword">return</span></span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">      timer = <span class="literal">null</span></span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-å®ç”¨åŠŸèƒ½åˆ†äº«"><a href="#5-å®ç”¨åŠŸèƒ½åˆ†äº«" class="headerlink" title="5. å®ç”¨åŠŸèƒ½åˆ†äº«"></a>5. å®ç”¨åŠŸèƒ½åˆ†äº«</h2><h3 id="5-1-è®¡ç®—è·ç¦»"><a href="#5-1-è®¡ç®—è·ç¦»" class="headerlink" title="5.1 è®¡ç®—è·ç¦»"></a>5.1 è®¡ç®—è·ç¦»</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¡ç®—ä¸¤ç‚¹è·ç¦»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">calculateDistance</span>(<span class="params">lat1, lng1, lat2, lng2</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> R = <span class="number">6371</span> <span class="comment">// åœ°çƒåŠå¾„ï¼Œå•ä½km</span></span><br><span class="line">  <span class="keyword">const</span> dLat = (lat2 - lat1) * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span></span><br><span class="line">  <span class="keyword">const</span> dLng = (lng2 - lng1) * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> a = <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLat/<span class="number">2</span>) * <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLat/<span class="number">2</span>) +</span><br><span class="line">    <span class="title class_">Math</span>.<span class="title function_">cos</span>(lat1 * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>) * <span class="title class_">Math</span>.<span class="title function_">cos</span>(lat2 * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>) *</span><br><span class="line">    <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLng/<span class="number">2</span>) * <span class="title class_">Math</span>.<span class="title function_">sin</span>(dLng/<span class="number">2</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> c = <span class="number">2</span> * <span class="title class_">Math</span>.<span class="title function_">atan2</span>(<span class="title class_">Math</span>.<span class="title function_">sqrt</span>(a), <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(<span class="number">1</span>-a))</span><br><span class="line">  <span class="keyword">return</span> R * c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-åœ°å€è§£æ"><a href="#5-2-åœ°å€è§£æ" class="headerlink" title="5.2 åœ°å€è§£æ"></a>5.2 åœ°å€è§£æ</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ°å€è½¬åæ ‡</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">geocode</span>(<span class="params">address</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;geocode-api-url&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">address</span>: address,</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&#x27;your-api-key&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (res.<span class="property">data</span>.<span class="property">status</span> === <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">latitude</span>: res.<span class="property">data</span>.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lat</span>,</span><br><span class="line">        <span class="attr">longitude</span>: res.<span class="property">data</span>.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lng</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;åœ°å€è§£æå¤±è´¥ï¼š&#x27;</span>, e)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æœ€ä½³å®è·µå»ºè®®"><a href="#6-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="6. æœ€ä½³å®è·µå»ºè®®"></a>6. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>æ³¨æ„æƒé™å¤„ç†</li>
<li>åšå¥½é”™è¯¯æç¤º</li>
<li>ä¼˜åŒ–æ€§èƒ½è¡¨ç°</li>
<li>å¤„ç†å…¼å®¹é—®é¢˜</li>
<li>æ³¨æ„ç”¨æˆ·ä½“éªŒ</li>
</ol>
<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>æƒé™é—®é¢˜è¦æå‰å¤„ç†</li>
<li>åœ°å›¾æ˜¾ç¤ºè¦åšå¥½å…¼å®¹</li>
<li>è·¯çº¿è§„åˆ’è¦è€ƒè™‘æ€§èƒ½</li>
<li>å¯¼èˆªåŠŸèƒ½è¦é€‚é…å¹³å°</li>
<li>æ³¨æ„ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>åœ°å›¾åŠŸèƒ½</tag>
        <tag>å®šä½æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appæ–‡ä»¶ä¸Šä¼ è¸©å‘è®°ï¼šå›¾ç‰‡å¤„ç†å’Œä¸Šä¼ å…¨æ”»ç•¥</title>
    <url>/2024/06/01/uniapp-file-upload/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨uni-appå¼€å‘ä¸­ï¼Œæ–‡ä»¶ä¸Šä¼ å’Œå›¾ç‰‡å¤„ç†æ˜¯å¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œä½†ä¹Ÿç»å¸¸ä¼šé‡åˆ°å„ç§é—®é¢˜ã€‚æœ¬æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½å¸®åŠ©å¤§å®¶æ›´å¥½åœ°å¤„ç†æ–‡ä»¶ä¸Šä¼ ç›¸å…³çš„éœ€æ±‚ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-å›¾ç‰‡é€‰æ‹©é—®é¢˜"><a href="#1-å›¾ç‰‡é€‰æ‹©é—®é¢˜" class="headerlink" title="1. å›¾ç‰‡é€‰æ‹©é—®é¢˜"></a>1. å›¾ç‰‡é€‰æ‹©é—®é¢˜</h2><h3 id="1-1-å›¾ç‰‡é€‰æ‹©æ•°é‡é™åˆ¶"><a href="#1-1-å›¾ç‰‡é€‰æ‹©æ•°é‡é™åˆ¶" class="headerlink" title="1.1 å›¾ç‰‡é€‰æ‹©æ•°é‡é™åˆ¶"></a>1.1 å›¾ç‰‡é€‰æ‹©æ•°é‡é™åˆ¶</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>é€‰æ‹©å›¾ç‰‡æ—¶æ²¡æœ‰é™åˆ¶æ•°é‡ï¼Œå¯¼è‡´ç”¨æˆ·å¯èƒ½é€‰æ‹©å¤ªå¤šå›¾ç‰‡ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é™åˆ¶é€‰æ‹©æ•°é‡å’Œå¤§å°</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">chooseImages</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">9</span>, <span class="comment">// æœ€å¤šé€‰æ‹©9å¼ </span></span><br><span class="line">      <span class="attr">sizeType</span>: [<span class="string">&#x27;original&#x27;</span>, <span class="string">&#x27;compressed&#x27;</span>], <span class="comment">// åŸå›¾å’Œå‹ç¼©å›¾éƒ½å¯ä»¥</span></span><br><span class="line">      <span class="attr">sourceType</span>: [<span class="string">&#x27;album&#x27;</span>, <span class="string">&#x27;camera&#x27;</span>] <span class="comment">// ç›¸å†Œå’Œç›¸æœºéƒ½å¯ä»¥</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ–‡ä»¶å¤§å°</span></span><br><span class="line">    <span class="keyword">const</span> maxSize = <span class="number">5</span> * <span class="number">1024</span> * <span class="number">1024</span> <span class="comment">// 5MB</span></span><br><span class="line">    <span class="keyword">const</span> overSizeFiles = res.<span class="property">tempFiles</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">file</span> =&gt;</span> file.<span class="property">size</span> &gt; maxSize)</span><br><span class="line">    <span class="keyword">if</span> (overSizeFiles.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MB&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">handleUpload</span>(res.<span class="property">tempFilePaths</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;é€‰æ‹©å›¾ç‰‡å¤±è´¥ï¼š&#x27;</span>, e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-å›¾ç‰‡æ ¼å¼é™åˆ¶"><a href="#1-2-å›¾ç‰‡æ ¼å¼é™åˆ¶" class="headerlink" title="1.2 å›¾ç‰‡æ ¼å¼é™åˆ¶"></a>1.2 å›¾ç‰‡æ ¼å¼é™åˆ¶</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç”¨æˆ·ä¸Šä¼ äº†ä¸æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥å›¾ç‰‡æ ¼å¼</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkImageType</span>(<span class="params">filePath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> allowTypes = [<span class="string">&#x27;jpg&#x27;</span>, <span class="string">&#x27;jpeg&#x27;</span>, <span class="string">&#x27;png&#x27;</span>, <span class="string">&#x27;gif&#x27;</span>]</span><br><span class="line">  <span class="keyword">const</span> extension = filePath.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>).<span class="title function_">pop</span>().<span class="title function_">toLowerCase</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (!allowTypes.<span class="title function_">includes</span>(extension)) &#123;</span><br><span class="line">    uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;åªæ”¯æŒjpgã€pngã€gifæ ¼å¼&#x27;</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-å›¾ç‰‡å‹ç¼©é—®é¢˜"><a href="#2-å›¾ç‰‡å‹ç¼©é—®é¢˜" class="headerlink" title="2. å›¾ç‰‡å‹ç¼©é—®é¢˜"></a>2. å›¾ç‰‡å‹ç¼©é—®é¢˜</h2><h3 id="2-1-ä¸Šä¼ å‰å‹ç¼©"><a href="#2-1-ä¸Šä¼ å‰å‹ç¼©" class="headerlink" title="2.1 ä¸Šä¼ å‰å‹ç¼©"></a>2.1 ä¸Šä¼ å‰å‹ç¼©</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å›¾ç‰‡å¤ªå¤§å¯¼è‡´ä¸Šä¼ æ…¢ï¼Œæµªè´¹æµé‡ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‹ç¼©å›¾ç‰‡</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">compressImage</span>(<span class="params">tempFilePath</span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> uni.<span class="title function_">compressImage</span>(&#123;</span><br><span class="line">      <span class="attr">src</span>: tempFilePath,</span><br><span class="line">      <span class="attr">quality</span>: <span class="number">80</span> <span class="comment">// å‹ç¼©è´¨é‡0-100</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> res.<span class="property">tempFilePath</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;å‹ç¼©å¤±è´¥ï¼š&#x27;</span>, e)</span><br><span class="line">    <span class="keyword">return</span> tempFilePath <span class="comment">// å‹ç¼©å¤±è´¥è¿”å›åŸå›¾</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">handleUpload</span>(<span class="params">tempFilePaths</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> compressedPaths = []</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> path <span class="keyword">of</span> tempFilePaths) &#123;</span><br><span class="line">    <span class="keyword">const</span> compressed = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">compressImage</span>(path)</span><br><span class="line">    compressedPaths.<span class="title function_">push</span>(compressed)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">uploadFiles</span>(compressedPaths)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-å¤§å›¾é¢„è§ˆä¼˜åŒ–"><a href="#2-2-å¤§å›¾é¢„è§ˆä¼˜åŒ–" class="headerlink" title="2.2 å¤§å›¾é¢„è§ˆä¼˜åŒ–"></a>2.2 å¤§å›¾é¢„è§ˆä¼˜åŒ–</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç›´æ¥é¢„è§ˆåŸå›¾å ç”¨å†…å­˜å¤§ï¼Œå¯èƒ½å¯¼è‡´å¡é¡¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¢„è§ˆæ—¶ä½¿ç”¨ç¼©ç•¥å›¾ï¼Œç‚¹å‡»æŸ¥çœ‹åŸå›¾</span></span><br><span class="line"><span class="keyword">const</span> imageList = &#123;</span><br><span class="line">  <span class="attr">original</span>: [], <span class="comment">// åŸå›¾</span></span><br><span class="line">  <span class="attr">thumbnail</span>: [] <span class="comment">// ç¼©ç•¥å›¾</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„è§ˆå›¾ç‰‡</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">previewImage</span>(<span class="params">index</span>) &#123;</span><br><span class="line">  uni.<span class="title function_">previewImage</span>(&#123;</span><br><span class="line">    <span class="attr">urls</span>: imageList.<span class="property">original</span>,</span><br><span class="line">    <span class="attr">current</span>: index,</span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºåŠ è½½æç¤º</span></span><br><span class="line">    <span class="attr">showmenu</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é¢„è§ˆæˆåŠŸ&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;é¢„è§ˆå¤±è´¥&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-ä¸Šä¼ è¿›åº¦é—®é¢˜"><a href="#3-ä¸Šä¼ è¿›åº¦é—®é¢˜" class="headerlink" title="3. ä¸Šä¼ è¿›åº¦é—®é¢˜"></a>3. ä¸Šä¼ è¿›åº¦é—®é¢˜</h2><h3 id="3-1-è¿›åº¦æ˜¾ç¤ºä¸å‡†"><a href="#3-1-è¿›åº¦æ˜¾ç¤ºä¸å‡†" class="headerlink" title="3.1 è¿›åº¦æ˜¾ç¤ºä¸å‡†"></a>3.1 è¿›åº¦æ˜¾ç¤ºä¸å‡†</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ä¸Šä¼ è¿›åº¦æ˜¾ç¤ºä¸å‡†ç¡®ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ›´ç²¾ç¡®çš„è¿›åº¦æ˜¾ç¤º</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">uploadFile</span>(<span class="params">filePath</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> uploadTask = uni.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;your-upload-url&#x27;</span>,</span><br><span class="line">      <span class="attr">filePath</span>: filePath,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;file&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> <span class="title function_">resolve</span>(res),</span><br><span class="line">      <span class="attr">fail</span>: <span class="function"><span class="params">err</span> =&gt;</span> <span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç›‘å¬ä¸Šä¼ è¿›åº¦</span></span><br><span class="line">    uploadTask.<span class="title function_">onProgressUpdate</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> progress = res.<span class="property">progress</span></span><br><span class="line">      <span class="keyword">const</span> speed = (res.<span class="property">totalBytesSent</span> / <span class="number">1024</span> / <span class="number">1024</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">uploadInfo</span> = &#123;</span><br><span class="line">        <span class="attr">progress</span>: progress,</span><br><span class="line">        <span class="attr">speed</span>: speed + <span class="string">&#x27;MB/s&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// æ›´æ–°UIæ˜¾ç¤º</span></span><br><span class="line">      <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">uploadProgress</span>, filePath, progress)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ‰¹é‡ä¸Šä¼ è¿›åº¦"><a href="#3-2-æ‰¹é‡ä¸Šä¼ è¿›åº¦" class="headerlink" title="3.2 æ‰¹é‡ä¸Šä¼ è¿›åº¦"></a>3.2 æ‰¹é‡ä¸Šä¼ è¿›åº¦</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å¤šæ–‡ä»¶ä¸Šä¼ æ—¶æ— æ³•æ˜¾ç¤ºæ€»ä½“è¿›åº¦ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰¹é‡ä¸Šä¼ è¿›åº¦ç®¡ç†</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">uploadFiles</span>(<span class="params">files</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> total = files.<span class="property">length</span></span><br><span class="line">  <span class="keyword">let</span> completed = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">totalProgress</span> = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> uploads = files.<span class="title function_">map</span>(<span class="title function_">async</span> (file, index) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">uploadFile</span>(file)</span><br><span class="line">      completed++</span><br><span class="line">      <span class="comment">// æ›´æ–°æ€»è¿›åº¦</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">totalProgress</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>((completed / total) * <span class="number">100</span>)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`æ–‡ä»¶<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>ä¸Šä¼ å¤±è´¥ï¼š`</span>, e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(uploads)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-ä¸Šä¼ é”™è¯¯å¤„ç†"><a href="#4-ä¸Šä¼ é”™è¯¯å¤„ç†" class="headerlink" title="4. ä¸Šä¼ é”™è¯¯å¤„ç†"></a>4. ä¸Šä¼ é”™è¯¯å¤„ç†</h2><h3 id="4-1-æ–­ç½‘é‡ä¼ "><a href="#4-1-æ–­ç½‘é‡ä¼ " class="headerlink" title="4.1 æ–­ç½‘é‡ä¼ "></a>4.1 æ–­ç½‘é‡ä¼ </h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ä¸Šä¼ è¿‡ç¨‹ä¸­æ–­ç½‘å¯¼è‡´ä¸Šä¼ å¤±è´¥ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ é‡è¯•æœºåˆ¶</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">uploadWithRetry</span>(<span class="params">file, maxRetries = <span class="number">3</span></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> retries = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">while</span> (retries &lt; maxRetries) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">uploadFile</span>(file)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      retries++</span><br><span class="line">      <span class="keyword">if</span> (retries === maxRetries) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;ä¸Šä¼ å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œåé‡è¯•&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// ç­‰å¾…åé‡è¯•</span></span><br><span class="line">      <span class="keyword">await</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">1000</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-é”™è¯¯æç¤ºä¼˜åŒ–"><a href="#4-2-é”™è¯¯æç¤ºä¼˜åŒ–" class="headerlink" title="4.2 é”™è¯¯æç¤ºä¼˜åŒ–"></a>4.2 é”™è¯¯æç¤ºä¼˜åŒ–</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ä¸Šä¼ å¤±è´¥æ—¶æç¤ºä¸å¤Ÿå‹å¥½ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–é”™è¯¯æç¤º</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleUploadError</span>(<span class="params">error</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> message = <span class="string">&#x27;ä¸Šä¼ å¤±è´¥&#x27;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ ¹æ®é”™è¯¯ç±»å‹æ˜¾ç¤ºä¸åŒæç¤º</span></span><br><span class="line">  <span class="keyword">switch</span> (error.<span class="property">code</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;NETWORK_ERROR&#x27;</span>:</span><br><span class="line">      message = <span class="string">&#x27;ç½‘ç»œå¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®&#x27;</span></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;SIZE_EXCEED&#x27;</span>:</span><br><span class="line">      message = <span class="string">&#x27;æ–‡ä»¶å¤§å°è¶…å‡ºé™åˆ¶&#x27;</span></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;TYPE_ERROR&#x27;</span>:</span><br><span class="line">      message = <span class="string">&#x27;ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹&#x27;</span></span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      message = error.<span class="property">message</span> || <span class="string">&#x27;ä¸Šä¼ å¤±è´¥ï¼Œè¯·é‡è¯•&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: message,</span><br><span class="line">    <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">    <span class="attr">duration</span>: <span class="number">2000</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-å®ç”¨æŠ€å·§åˆ†äº«"><a href="#5-å®ç”¨æŠ€å·§åˆ†äº«" class="headerlink" title="5. å®ç”¨æŠ€å·§åˆ†äº«"></a>5. å®ç”¨æŠ€å·§åˆ†äº«</h2><h3 id="5-1-è‡ªåŠ¨é‡å‘½å"><a href="#5-1-è‡ªåŠ¨é‡å‘½å" class="headerlink" title="5.1 è‡ªåŠ¨é‡å‘½å"></a>5.1 è‡ªåŠ¨é‡å‘½å</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆæ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateFileName</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">  <span class="keyword">const</span> random = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">10000</span>)</span><br><span class="line">  <span class="keyword">const</span> extension = file.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>).<span class="title function_">pop</span>()</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;date.getTime()&#125;</span>_<span class="subst">$&#123;random&#125;</span>.<span class="subst">$&#123;extension&#125;</span>`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-ç§’ä¼ ä¼˜åŒ–"><a href="#5-2-ç§’ä¼ ä¼˜åŒ–" class="headerlink" title="5.2 ç§’ä¼ ä¼˜åŒ–"></a>5.2 ç§’ä¼ ä¼˜åŒ–</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²ä¸Šä¼ </span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">checkFileExists</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> md5 = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">calculateMD5</span>(file)</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">checkMD5</span>(md5)</span><br><span class="line">    <span class="keyword">if</span> (res.<span class="property">exists</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> res.<span class="property">url</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æœ€ä½³å®è·µå»ºè®®"><a href="#6-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="6. æœ€ä½³å®è·µå»ºè®®"></a>6. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>ä¸Šä¼ å‰åšå¥½æ ¡éªŒ</li>
<li>åˆç†ä½¿ç”¨å‹ç¼©</li>
<li>æ·»åŠ é‡è¯•æœºåˆ¶</li>
<li>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</li>
<li>åšå¥½é”™è¯¯å¤„ç†</li>
</ol>
<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>æ³¨æ„æ–‡ä»¶å¤§å°é™åˆ¶</li>
<li>å¤„ç†å¥½è¿›åº¦æ˜¾ç¤º</li>
<li>ä¼˜åŒ–ä¸Šä¼ ä½“éªŒ</li>
<li>åšå¥½å®¹é”™å¤„ç†</li>
<li>ä¿æŒä»£ç å¯ç»´æŠ¤</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>æ–‡ä»¶ä¸Šä¼ </tag>
        <tag>å›¾ç‰‡å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appè¡¨å•éªŒè¯è¸©å‘è®°ï¼šè¿™äº›å‘æˆ‘æ›¿ä½ è¸©è¿‡äº†</title>
    <url>/2024/05/10/uniapp-form-validation/</url>
    <content><![CDATA[<blockquote>
<p>åšè¿‡è¡¨å•çš„åŒå­¦éƒ½çŸ¥é“ï¼Œè¡¨å•éªŒè¯çœ‹ä¼¼ç®€å•ï¼Œä½†æ€»æœ‰ä¸€äº›æ„æƒ³ä¸åˆ°çš„é—®é¢˜ã€‚æœ¬æ–‡æ•´ç†äº†ä¸€äº›å®ç”¨çš„è¡¨å•éªŒè¯ç»éªŒï¼Œå¸Œæœ›èƒ½å¸®ä½ å°‘èµ°å¼¯è·¯ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-å¸¸è§éªŒè¯è¸©å‘"><a href="#1-å¸¸è§éªŒè¯è¸©å‘" class="headerlink" title="1. å¸¸è§éªŒè¯è¸©å‘"></a>1. å¸¸è§éªŒè¯è¸©å‘</h2><h3 id="1-1-æ‰‹æœºå·éªŒè¯ä¸å…¨é¢"><a href="#1-1-æ‰‹æœºå·éªŒè¯ä¸å…¨é¢" class="headerlink" title="1.1 æ‰‹æœºå·éªŒè¯ä¸å…¨é¢"></a>1.1 æ‰‹æœºå·éªŒè¯ä¸å…¨é¢</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å¾ˆå¤šäººåªç”¨ä¸€ä¸ªç®€å•çš„11ä½æ•°å­—æ­£åˆ™æ¥éªŒè¯æ‰‹æœºå·ï¼Œä½†å®é™…ä¸Šè¿™æ ·å¹¶ä¸ä¸¥è°¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>æ›´ä¸¥è°¨çš„æ‰‹æœºå·éªŒè¯ï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ›´å®Œæ•´çš„æ‰‹æœºå·éªŒè¯è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> phoneReg = <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">validatePhone</span>(<span class="params">phone</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!phoneReg.<span class="title function_">test</span>(phone)) &#123;</span><br><span class="line">    uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·&#x27;</span>,</span><br><span class="line">      <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="1-2-å¯†ç å¼ºåº¦éªŒè¯ä¸å¤Ÿ"><a href="#1-2-å¯†ç å¼ºåº¦éªŒè¯ä¸å¤Ÿ" class="headerlink" title="1.2 å¯†ç å¼ºåº¦éªŒè¯ä¸å¤Ÿ"></a>1.2 å¯†ç å¼ºåº¦éªŒè¯ä¸å¤Ÿ</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç®€å•çš„å¯†ç éªŒè¯å®¹æ˜“å¯¼è‡´ç”¨æˆ·è®¾ç½®è¿‡äºç®€å•çš„å¯†ç ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>æ·»åŠ å¯†ç å¼ºåº¦æ£€æŸ¥ï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯†ç å¿…é¡»åŒ…å«æ•°å­—ã€å­—æ¯ã€ç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkPasswordStrength</span>(<span class="params">password</span>) &#123;</span><br><span class="line">  <span class="comment">// è‡³å°‘8ä½ï¼ŒåŒ…å«æ•°å­—å’Œå­—æ¯</span></span><br><span class="line">  <span class="keyword">const</span> baseReg = <span class="regexp">/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]&#123;8,&#125;$/</span></span><br><span class="line">  <span class="comment">// å¢åŠ ç‰¹æ®Šå­—ç¬¦è¦æ±‚</span></span><br><span class="line">  <span class="keyword">const</span> strongReg = <span class="regexp">/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&amp;])[A-Za-z\d@$!%*#?&amp;]&#123;8,&#125;$/</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (!baseReg.<span class="title function_">test</span>(password)) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">valid</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;å¯†ç è‡³å°‘8ä½ï¼Œå¿…é¡»åŒ…å«æ•°å­—å’Œå­—æ¯&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (!strongReg.<span class="title function_">test</span>(password)) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">valid</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">level</span>: <span class="string">&#x27;normal&#x27;</span>,</span><br><span class="line">      <span class="attr">message</span>: <span class="string">&#x27;å»ºè®®å¢åŠ ç‰¹æ®Šå­—ç¬¦æé«˜å®‰å…¨æ€§&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">valid</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">level</span>: <span class="string">&#x27;strong&#x27;</span>,</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;å¯†ç å¼ºåº¦å¾ˆå¥½&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="2-å®æ—¶éªŒè¯é—®é¢˜"><a href="#2-å®æ—¶éªŒè¯é—®é¢˜" class="headerlink" title="2. å®æ—¶éªŒè¯é—®é¢˜"></a>2. å®æ—¶éªŒè¯é—®é¢˜</h2><h3 id="2-1-éªŒè¯é¢‘ç‡è¿‡é«˜"><a href="#2-1-éªŒè¯é¢‘ç‡è¿‡é«˜" class="headerlink" title="2.1 éªŒè¯é¢‘ç‡è¿‡é«˜"></a>2.1 éªŒè¯é¢‘ç‡è¿‡é«˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>è¾“å…¥æ—¶å®æ—¶éªŒè¯ï¼Œå¯¼è‡´é¢‘ç¹æç¤ºï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ä½¿ç”¨é˜²æŠ–å¤„ç†ï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounceValidate</span>(<span class="params">value, rule</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">  timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ‰§è¡ŒéªŒè¯</span></span><br><span class="line">    <span class="keyword">const</span> result = rule.<span class="title function_">test</span>(value)</span><br><span class="line">    <span class="keyword">if</span> (!result) &#123;</span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æ ¼å¼ä¸æ­£ç¡®&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">500</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="2-2-å¤±ç„¦éªŒè¯æ—¶æœº"><a href="#2-2-å¤±ç„¦éªŒè¯æ—¶æœº" class="headerlink" title="2.2 å¤±ç„¦éªŒè¯æ—¶æœº"></a>2.2 å¤±ç„¦éªŒè¯æ—¶æœº</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>åœ¨è¾“å…¥æ¡†å¤±ç„¦æ—¶æ‰éªŒè¯ï¼Œä½†æœ‰æ—¶ç”¨æˆ·ç›´æ¥æäº¤è¡¨å•ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ç»“åˆå¤šä¸ªéªŒè¯æ—¶æœºï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">v-model</span>=<span class="string">&quot;form.phone&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">input</span>=<span class="string">&quot;onPhoneInput&quot;</span></span></span><br><span class="line"><span class="tag">  @<span class="attr">blur</span>=<span class="string">&quot;validatePhone&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥æ‰‹æœºå·&quot;</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">// è¾“å…¥æ—¶ç®€å•éªŒè¯</span></span><br><span class="line">    <span class="title function_">onPhoneInput</span>(<span class="params">e</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> value = e.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">      <span class="comment">// åªå…è®¸è¾“å…¥æ•°å­—</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">phone</span> = value.<span class="title function_">replace</span>(<span class="regexp">/\D/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤±ç„¦æ—¶å®Œæ•´éªŒè¯</span></span><br><span class="line">    <span class="title function_">validatePhone</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">phone</span>) <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">checkPhone</span>(<span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">phone</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æäº¤æ—¶å†æ¬¡éªŒè¯</span></span><br><span class="line">    <span class="title function_">submitForm</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">validatePhone</span>()) <span class="keyword">return</span></span><br><span class="line">      <span class="comment">// ç»§ç»­æäº¤æµç¨‹</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-ç‰¹æ®Šåœºæ™¯éªŒè¯"><a href="#3-ç‰¹æ®Šåœºæ™¯éªŒè¯" class="headerlink" title="3. ç‰¹æ®Šåœºæ™¯éªŒè¯"></a>3. ç‰¹æ®Šåœºæ™¯éªŒè¯</h2><h3 id="3-1-èº«ä»½è¯å·éªŒè¯"><a href="#3-1-èº«ä»½è¯å·éªŒè¯" class="headerlink" title="3.1 èº«ä»½è¯å·éªŒè¯"></a>3.1 èº«ä»½è¯å·éªŒè¯</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç®€å•çš„18ä½éªŒè¯æ— æ³•è¯†åˆ«å‡èº«ä»½è¯å·ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>å®Œæ•´çš„èº«ä»½è¯éªŒè¯ï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">validateIdCard</span>(<span class="params">idCard</span>) &#123;</span><br><span class="line">  <span class="comment">// åŸºæœ¬æ ¼å¼éªŒè¯</span></span><br><span class="line">  <span class="keyword">const</span> reg = <span class="regexp">/(^\d&#123;15&#125;$)|(^\d&#123;18&#125;$)|(^\d&#123;17&#125;(\d|X|x)$)/</span></span><br><span class="line">  <span class="keyword">if</span> (!reg.<span class="title function_">test</span>(idCard)) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// éªŒè¯å‡ºç”Ÿæ—¥æœŸ</span></span><br><span class="line">  <span class="keyword">const</span> year = idCard.<span class="title function_">substr</span>(<span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line">  <span class="keyword">const</span> month = idCard.<span class="title function_">substr</span>(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line">  <span class="keyword">const</span> day = idCard.<span class="title function_">substr</span>(<span class="number">12</span>, <span class="number">2</span>)</span><br><span class="line">  <span class="keyword">const</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>(year + <span class="string">&#x27;-&#x27;</span> + month + <span class="string">&#x27;-&#x27;</span> + day)</span><br><span class="line">  <span class="keyword">if</span> (date &gt; <span class="keyword">new</span> <span class="title class_">Date</span>()) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// éªŒè¯æ ¡éªŒç ï¼ˆç•¥ï¼‰</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="3-2-é‡‘é¢è¾“å…¥éªŒè¯"><a href="#3-2-é‡‘é¢è¾“å…¥éªŒè¯" class="headerlink" title="3.2 é‡‘é¢è¾“å…¥éªŒè¯"></a>3.2 é‡‘é¢è¾“å…¥éªŒè¯</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>é‡‘é¢è¾“å…¥éœ€è¦é™åˆ¶å°æ•°ä½æ•°å’Œè¾“å…¥æ ¼å¼ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>é‡‘é¢è¾“å…¥å¤„ç†ï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é™åˆ¶åªèƒ½è¾“å…¥æ•°å­—å’Œå°æ•°ç‚¹ï¼Œæœ€å¤šä¸¤ä½å°æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">validateAmount</span>(<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="comment">// å…ˆå»é™¤éæ•°å­—å’Œå°æ•°ç‚¹</span></span><br><span class="line">  value = value.<span class="title function_">replace</span>(<span class="regexp">/[^\d.]/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  <span class="comment">// åªä¿ç•™ç¬¬ä¸€ä¸ªå°æ•°ç‚¹</span></span><br><span class="line">  value = value.<span class="title function_">replace</span>(<span class="regexp">/\.&#123;2,&#125;/g</span>, <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">  <span class="comment">// ä¿ç•™ä¸¤ä½å°æ•°</span></span><br><span class="line">  value = value.<span class="title function_">replace</span>(<span class="regexp">/^(\d+)\.(\d\d).*$/</span>, <span class="string">&#x27;$1.$2&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> value</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="title function_">onAmountInput</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">form</span>.<span class="property">amount</span> = <span class="title function_">validateAmount</span>(e.<span class="property">target</span>.<span class="property">value</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="4-è¡¨å•æäº¤éªŒè¯"><a href="#4-è¡¨å•æäº¤éªŒè¯" class="headerlink" title="4. è¡¨å•æäº¤éªŒè¯"></a>4. è¡¨å•æäº¤éªŒè¯</h2><h3 id="4-1-é‡å¤æäº¤é—®é¢˜"><a href="#4-1-é‡å¤æäº¤é—®é¢˜" class="headerlink" title="4.1 é‡å¤æäº¤é—®é¢˜"></a>4.1 é‡å¤æäº¤é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç”¨æˆ·å¿«é€Ÿç‚¹å‡»æäº¤æŒ‰é’®ï¼Œå¯¼è‡´è¡¨å•é‡å¤æäº¤ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>æ·»åŠ æäº¤é”ï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">submitting</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">submitForm</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">submitting</span>) <span class="keyword">return</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">submitting</span> = <span class="literal">true</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">submit</span>()</span><br><span class="line">        uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;æäº¤æˆåŠŸ&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;æäº¤å¤±è´¥&#x27;</span>,</span><br><span class="line">          <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">submitting</span> = <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="4-2-å¿…å¡«é¡¹æ£€æŸ¥"><a href="#4-2-å¿…å¡«é¡¹æ£€æŸ¥" class="headerlink" title="4.2 å¿…å¡«é¡¹æ£€æŸ¥"></a>4.2 å¿…å¡«é¡¹æ£€æŸ¥</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>æäº¤æ—¶æ‰å‘ç°æœ‰å¿…å¡«é¡¹æœªå¡«å†™ï¼Œä½“éªŒä¸å¥½ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>å®æ—¶æ˜¾ç¤ºå¿…å¡«çŠ¶æ€ï¼š<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;form-item&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;label&quot;</span>&gt;</span></span><br><span class="line">    æ‰‹æœºå·</span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;required&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">v-model</span>=<span class="string">&quot;form.phone&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:class</span>=<span class="string">&quot;&#123;&#x27;is-error&#x27;: showError &amp;&amp; !form.phone&#125;&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">placeholder</span>=<span class="string">&quot;è¯·è¾“å…¥æ‰‹æœºå·&quot;</span></span></span><br><span class="line"><span class="tag">  /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span> <span class="attr">v-if</span>=<span class="string">&quot;showError &amp;&amp; !form.phone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;error-tip&quot;</span>&gt;</span></span><br><span class="line">    æ‰‹æœºå·ä¸èƒ½ä¸ºç©º</span><br><span class="line">  <span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="5-å¸¸ç”¨éªŒè¯è§„åˆ™"><a href="#5-å¸¸ç”¨éªŒè¯è§„åˆ™" class="headerlink" title="5. å¸¸ç”¨éªŒè¯è§„åˆ™"></a>5. å¸¸ç”¨éªŒè¯è§„åˆ™</h2><h3 id="5-1-å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"><a href="#5-1-å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="5.1 å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼"></a>5.1 å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> rules = &#123;</span><br><span class="line">  <span class="comment">// æ‰‹æœºå·</span></span><br><span class="line">  <span class="attr">phone</span>: <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é‚®ç®±</span></span><br><span class="line">  <span class="attr">email</span>: <span class="regexp">/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]&#123;2,&#125;$/</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è½¦ç‰Œå·</span></span><br><span class="line">  <span class="attr">carNo</span>: <span class="regexp">/^[äº¬æ´¥æ²ªæ¸å†€è±«äº‘è¾½é»‘æ¹˜çš–é²æ–°è‹æµ™èµ£é„‚æ¡‚ç”˜æ™‹è’™é™•å‰é—½è´µç²¤é’è—å·å®ç¼ä½¿é¢†A-Z]&#123;1&#125;[A-Z]&#123;1&#125;[A-Z0-9]&#123;4&#125;[A-Z0-9æŒ‚å­¦è­¦æ¸¯æ¾³]&#123;1&#125;$/</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é“¶è¡Œå¡å·</span></span><br><span class="line">  <span class="attr">bankCard</span>: <span class="regexp">/^([1-9]&#123;1&#125;)(\d&#123;15&#125;|\d&#123;18&#125;)$/</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å¯†ç å¼ºåº¦</span></span><br><span class="line">  <span class="attr">password</span>: <span class="regexp">/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&amp;])[A-Za-z\d@$!%*#?&amp;]&#123;8,&#125;$/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-è‡ªå®šä¹‰éªŒè¯å‡½æ•°"><a href="#5-2-è‡ªå®šä¹‰éªŒè¯å‡½æ•°" class="headerlink" title="5.2 è‡ªå®šä¹‰éªŒè¯å‡½æ•°"></a>5.2 è‡ªå®šä¹‰éªŒè¯å‡½æ•°</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> validators = &#123;</span><br><span class="line">  <span class="comment">// å¹´é¾„éªŒè¯</span></span><br><span class="line">  <span class="title function_">age</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> age = <span class="built_in">parseInt</span>(value)</span><br><span class="line">    <span class="keyword">return</span> age &gt;= <span class="number">0</span> &amp;&amp; age &lt;= <span class="number">120</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ—¥æœŸéªŒè¯</span></span><br><span class="line">  <span class="title function_">date</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> !<span class="built_in">isNaN</span>(<span class="keyword">new</span> <span class="title class_">Date</span>(value).<span class="title function_">getTime</span>())</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é‡‘é¢éªŒè¯</span></span><br><span class="line">  <span class="title function_">amount</span>(<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/^\d+(\.\d&#123;1,2&#125;)?$/</span>.<span class="title function_">test</span>(value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æœ€ä½³å®è·µå»ºè®®"><a href="#6-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="6. æœ€ä½³å®è·µå»ºè®®"></a>6. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>åˆç†ä½¿ç”¨éªŒè¯æ—¶æœº</li>
<li>æ³¨æ„éªŒè¯æç¤ºçš„å‹å¥½æ€§</li>
<li>è€ƒè™‘ç‰¹æ®Šæƒ…å†µå¤„ç†</li>
<li>åšå¥½é˜²é‡å¤æäº¤</li>
<li>ä¿æŒä»£ç å¯ç»´æŠ¤æ€§</li>
</ol>
<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>éªŒè¯è§„åˆ™è¦ä¸¥è°¨ä½†ä¸è¿‡åº¦</li>
<li>æ³¨æ„ç”¨æˆ·ä½“éªŒ</li>
<li>è€ƒè™‘å„ç§å¼‚å¸¸æƒ…å†µ</li>
<li>åšå¥½æ€§èƒ½ä¼˜åŒ–</li>
<li>ä¿æŒä»£ç æ•´æ´</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>è¡¨å•éªŒè¯</tag>
        <tag>å®æˆ˜ç»éªŒ</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appå¼€å‘è¸©å‘è®°å½•ï¼šæ–°æ‰‹å¿…çœ‹çš„å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</title>
    <url>/2024/04/20/uniapp-common-issues/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨uni-appå¼€å‘ä¸­ï¼Œæ€»ä¼šé‡åˆ°ä¸€äº›è®©äººå¤´ç–¼çš„é—®é¢˜ã€‚æœ¬æ–‡æ•´ç†äº†ä¸€äº›å¸¸è§çš„å‘å’Œè§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½å¸®åŠ©å¤§å®¶å°‘èµ°å¼¯è·¯ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-é¡µé¢ç›¸å…³é—®é¢˜"><a href="#1-é¡µé¢ç›¸å…³é—®é¢˜" class="headerlink" title="1. é¡µé¢ç›¸å…³é—®é¢˜"></a>1. é¡µé¢ç›¸å…³é—®é¢˜</h2><h3 id="1-1-é¡µé¢è¿”å›æ•°æ®åˆ·æ–°é—®é¢˜"><a href="#1-1-é¡µé¢è¿”å›æ•°æ®åˆ·æ–°é—®é¢˜" class="headerlink" title="1.1 é¡µé¢è¿”å›æ•°æ®åˆ·æ–°é—®é¢˜"></a>1.1 é¡µé¢è¿”å›æ•°æ®åˆ·æ–°é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ä»Aé¡µé¢è·³è½¬åˆ°Bé¡µé¢ï¼Œåœ¨Bé¡µé¢ä¿®æ”¹äº†æ•°æ®åè¿”å›Aé¡µé¢ï¼Œå‘ç°Aé¡µé¢çš„æ•°æ®æ²¡æœ‰æ›´æ–°ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><p>ä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨Bé¡µé¢ä¿®æ”¹æ•°æ®åå‘é€äº‹ä»¶</span></span><br><span class="line">uni.$emit(<span class="string">&#x27;updateData&#x27;</span>, &#123; <span class="attr">data</span>: <span class="string">&#x27;æ–°æ•°æ®&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨Aé¡µé¢ç›‘å¬äº‹ä»¶</span></span><br><span class="line"><span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  uni.$on(<span class="string">&#x27;updateData&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleUpdate</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">onHide</span>(<span class="params"></span>) &#123;</span><br><span class="line">  uni.$off(<span class="string">&#x27;updateData&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleUpdate</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨é¡µé¢ç”Ÿå‘½å‘¨æœŸï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨Aé¡µé¢çš„onShowä¸­åˆ·æ–°æ•°æ®</span></span><br><span class="line"><span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">loadData</span>() <span class="comment">// é‡æ–°åŠ è½½æ•°æ®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="1-2-é¡µé¢è¿”å›å¡é¡¿é—®é¢˜"><a href="#1-2-é¡µé¢è¿”å›å¡é¡¿é—®é¢˜" class="headerlink" title="1.2 é¡µé¢è¿”å›å¡é¡¿é—®é¢˜"></a>1.2 é¡µé¢è¿”å›å¡é¡¿é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ä½¿ç”¨uni.navigateBackè¿”å›ä¸Šä¸€é¡µæ—¶å‡ºç°æ˜æ˜¾å¡é¡¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>æ£€æŸ¥é¡µé¢æ˜¯å¦æœ‰å¤§é‡æ•°æ®æˆ–å¤æ‚è®¡ç®—</li>
<li>ä½¿ç”¨åˆ†é¡µåŠ è½½ä»£æ›¿ä¸€æ¬¡æ€§åŠ è½½</li>
<li>åœ¨è¿”å›å‰æ¸…ç†ä¸å¿…è¦çš„å®šæ—¶å™¨å’Œç›‘å¬å™¨</li>
<li>é¿å…åœ¨onShowä¸­è¿›è¡Œè€—æ—¶æ“ä½œ</li>
</ol>
<h2 id="2-æ ·å¼å…¼å®¹é—®é¢˜"><a href="#2-æ ·å¼å…¼å®¹é—®é¢˜" class="headerlink" title="2. æ ·å¼å…¼å®¹é—®é¢˜"></a>2. æ ·å¼å…¼å®¹é—®é¢˜</h2><h3 id="2-1-ä¸åŒå¹³å°æ ·å¼å·®å¼‚"><a href="#2-1-ä¸åŒå¹³å°æ ·å¼å·®å¼‚" class="headerlink" title="2.1 ä¸åŒå¹³å°æ ·å¼å·®å¼‚"></a>2.1 ä¸åŒå¹³å°æ ·å¼å·®å¼‚</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>åŒæ ·çš„æ ·å¼åœ¨ä¸åŒå¹³å°ï¼ˆiOSã€Androidã€H5ï¼‰æ˜¾ç¤ºæ•ˆæœä¸ä¸€è‡´ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ä½¿ç”¨flexå¸ƒå±€ä»£æ›¿å›ºå®šå®½é«˜</li>
<li>é¿å…ä½¿ç”¨å¤æ‚çš„CSS3ç‰¹æ€§</li>
<li>ä½¿ç”¨æ¡ä»¶ç¼–è¯‘å¤„ç†å¹³å°å·®å¼‚ï¼š<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* #ifdef H5 */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123; <span class="attribute">height</span>: <span class="number">100vh</span>; &#125;</span><br><span class="line"><span class="comment">/* #endif */</span></span><br><span class="line"><span class="comment">/* #ifdef MP */</span></span><br><span class="line"><span class="selector-class">.box</span> &#123; <span class="attribute">height</span>: <span class="number">100%</span>; &#125;</span><br><span class="line"><span class="comment">/* #endif */</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="2-2-æ»šåŠ¨ç©¿é€é—®é¢˜"><a href="#2-2-æ»šåŠ¨ç©¿é€é—®é¢˜" class="headerlink" title="2.2 æ»šåŠ¨ç©¿é€é—®é¢˜"></a>2.2 æ»šåŠ¨ç©¿é€é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å¼¹çª—æ‰“å¼€æ—¶ï¼ŒèƒŒæ™¯é¡µé¢ä»å¯æ»šåŠ¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><p>å¼¹çª—æ‰“å¼€æ—¶ç»™bodyæ·»åŠ ç±»ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰“å¼€å¼¹çª—æ—¶</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;hidden&#x27;</span></span><br><span class="line"><span class="comment">// å…³é—­å¼¹çª—æ—¶</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;auto&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨@touchmove.preventé˜»æ­¢æ»šåŠ¨ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;mask&quot;</span> @<span class="attr">touchmove.prevent</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="3-ç½‘ç»œè¯·æ±‚é—®é¢˜"><a href="#3-ç½‘ç»œè¯·æ±‚é—®é¢˜" class="headerlink" title="3. ç½‘ç»œè¯·æ±‚é—®é¢˜"></a>3. ç½‘ç»œè¯·æ±‚é—®é¢˜</h2><h3 id="3-1-è¯·æ±‚è¶…æ—¶å¤„ç†"><a href="#3-1-è¯·æ±‚è¶…æ—¶å¤„ç†" class="headerlink" title="3.1 è¯·æ±‚è¶…æ—¶å¤„ç†"></a>3.1 è¯·æ±‚è¶…æ—¶å¤„ç†</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>ç½‘ç»œè¯·æ±‚å¶å°”è¶…æ—¶ï¼Œå¯¼è‡´é¡µé¢å¡æ­»ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´</li>
<li>æ·»åŠ é‡è¯•æœºåˆ¶</li>
<li>æ˜¾ç¤ºåŠ è½½æç¤ºå’Œé”™è¯¯æç¤ºï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">uni.<span class="title function_">showLoading</span>(&#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;åŠ è½½ä¸­...&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">loadData</span>()</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•&#x27;</span>,</span><br><span class="line">    <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">  uni.<span class="title function_">hideLoading</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="3-2-ç™»å½•å¤±æ•ˆå¤„ç†"><a href="#3-2-ç™»å½•å¤±æ•ˆå¤„ç†" class="headerlink" title="3.2 ç™»å½•å¤±æ•ˆå¤„ç†"></a>3.2 ç™»å½•å¤±æ•ˆå¤„ç†</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>tokenè¿‡æœŸåç»§ç»­è¯·æ±‚æ¥å£å¯¼è‡´æŠ¥é”™ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ç»Ÿä¸€å¤„ç†tokenè¿‡æœŸï¼š<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚æ‹¦æˆªå™¨ä¸­å¤„ç†</span></span><br><span class="line"><span class="keyword">if</span> (response.<span class="property">code</span> === <span class="number">401</span>) &#123;</span><br><span class="line">  <span class="comment">// æ¸…é™¤ç™»å½•ä¿¡æ¯</span></span><br><span class="line">  uni.<span class="title function_">clearStorageSync</span>()</span><br><span class="line">  <span class="comment">// è·³è½¬ç™»å½•é¡µ</span></span><br><span class="line">  uni.<span class="title function_">reLaunch</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/pages/login/index&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="4-æ€§èƒ½ä¼˜åŒ–é—®é¢˜"><a href="#4-æ€§èƒ½ä¼˜åŒ–é—®é¢˜" class="headerlink" title="4. æ€§èƒ½ä¼˜åŒ–é—®é¢˜"></a>4. æ€§èƒ½ä¼˜åŒ–é—®é¢˜</h2><h3 id="4-1-å›¾ç‰‡åŠ è½½ä¼˜åŒ–"><a href="#4-1-å›¾ç‰‡åŠ è½½ä¼˜åŒ–" class="headerlink" title="4.1 å›¾ç‰‡åŠ è½½ä¼˜åŒ–"></a>4.1 å›¾ç‰‡åŠ è½½ä¼˜åŒ–</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>é¡µé¢ä¸­å›¾ç‰‡è¾ƒå¤šï¼ŒåŠ è½½æ…¢ä¸”å ç”¨å†…å­˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><p>ä½¿ç”¨æ‡’åŠ è½½ï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">image</span> <span class="attr">:src</span>=<span class="string">&quot;url&quot;</span> <span class="attr">lazy-load</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‹ç¼©å›¾ç‰‡</p>
</li>
<li><p>ä½¿ç”¨CDNåŠ é€Ÿ</p>
</li>
<li><p>é¢„åŠ è½½é‡è¦å›¾ç‰‡</p>
</li>
</ol>
<h3 id="4-2-åˆ—è¡¨å¡é¡¿é—®é¢˜"><a href="#4-2-åˆ—è¡¨å¡é¡¿é—®é¢˜" class="headerlink" title="4.2 åˆ—è¡¨å¡é¡¿é—®é¢˜"></a>4.2 åˆ—è¡¨å¡é¡¿é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>é•¿åˆ—è¡¨æ»šåŠ¨æ—¶å‡ºç°å¡é¡¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ä½¿ç”¨åˆ†é¡µåŠ è½½</li>
<li>é¿å…åœ¨æ»šåŠ¨æ—¶è¿›è¡Œå¤æ‚è®¡ç®—</li>
<li>ä½¿ç”¨éª¨æ¶å±ä¼˜åŒ–ä½“éªŒ</li>
<li>å‡å°‘ä¸å¿…è¦çš„æ•°æ®ç»‘å®š</li>
</ol>
<h2 id="5-å°ç¨‹åºç›¸å…³é—®é¢˜"><a href="#5-å°ç¨‹åºç›¸å…³é—®é¢˜" class="headerlink" title="5. å°ç¨‹åºç›¸å…³é—®é¢˜"></a>5. å°ç¨‹åºç›¸å…³é—®é¢˜</h2><h3 id="5-1-åŒ…ä½“ç§¯è¶…é™"><a href="#5-1-åŒ…ä½“ç§¯è¶…é™" class="headerlink" title="5.1 åŒ…ä½“ç§¯è¶…é™"></a>5.1 åŒ…ä½“ç§¯è¶…é™</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>å°ç¨‹åºæ‰“åŒ…åæç¤ºè¶…å‡ºå¤§å°é™åˆ¶ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>ä½¿ç”¨åˆ†åŒ…åŠ è½½</li>
<li>å‹ç¼©å›¾ç‰‡å’Œèµ„æºæ–‡ä»¶</li>
<li>åˆ é™¤æœªä½¿ç”¨çš„ç»„ä»¶å’Œæ–‡ä»¶</li>
<li>ä½¿ç”¨CDNåŠ è½½å¤§æ–‡ä»¶</li>
</ol>
<h3 id="5-2-å¾®ä¿¡æˆæƒé—®é¢˜"><a href="#5-2-å¾®ä¿¡æˆæƒé—®é¢˜" class="headerlink" title="5.2 å¾®ä¿¡æˆæƒé—®é¢˜"></a>5.2 å¾®ä¿¡æˆæƒé—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>è·å–ç”¨æˆ·ä¿¡æ¯æ—¶æˆæƒå¼¹çª—æ˜¾ç¤ºä¸å‡ºæ¥ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li><p>ä½¿ç”¨buttonè§¦å‘æˆæƒï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">&quot;getUserInfo&quot;</span> @<span class="attr">getuserinfo</span>=<span class="string">&quot;handleGetUserInfo&quot;</span>&gt;</span></span><br><span class="line">  è·å–ç”¨æˆ·ä¿¡æ¯</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ£€æŸ¥æ˜¯å¦å·²æˆæƒï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">uni.<span class="title function_">getSetting</span>(&#123;</span><br><span class="line">  <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!res.<span class="property">authSetting</span>[<span class="string">&#x27;scope.userInfo&#x27;</span>]) &#123;</span><br><span class="line">      <span class="comment">// æœªæˆæƒï¼Œæ˜¾ç¤ºæˆæƒæŒ‰é’®</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="6-å¼€å‘å·¥å…·é—®é¢˜"><a href="#6-å¼€å‘å·¥å…·é—®é¢˜" class="headerlink" title="6. å¼€å‘å·¥å…·é—®é¢˜"></a>6. å¼€å‘å·¥å…·é—®é¢˜</h2><h3 id="6-1-HBuilderXå¡é¡¿"><a href="#6-1-HBuilderXå¡é¡¿" class="headerlink" title="6.1 HBuilderXå¡é¡¿"></a>6.1 HBuilderXå¡é¡¿</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>HBuilderXè¿è¡Œç¼“æ…¢ï¼Œç»å¸¸å¡æ­»ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>å…³é—­ä¸éœ€è¦çš„é¡¹ç›®</li>
<li>å®šæœŸæ¸…ç†ç¼“å­˜</li>
<li>æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</li>
<li>å¢åŠ å†…å­˜åˆ†é…</li>
</ol>
<h3 id="6-2-çœŸæœºè°ƒè¯•é—®é¢˜"><a href="#6-2-çœŸæœºè°ƒè¯•é—®é¢˜" class="headerlink" title="6.2 çœŸæœºè°ƒè¯•é—®é¢˜"></a>6.2 çœŸæœºè°ƒè¯•é—®é¢˜</h3><p><strong>é—®é¢˜æè¿°ï¼š</strong><br>çœŸæœºè°ƒè¯•æ—¶è¿æ¥ä¸ä¸Šè®¾å¤‡ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>æ£€æŸ¥USBè°ƒè¯•æ˜¯å¦å¼€å¯</li>
<li>æ›´æ–°æ‰‹æœºé©±åŠ¨</li>
<li>æ›´æ¢æ•°æ®çº¿</li>
<li>é‡å¯å¼€å‘å·¥å…·å’Œæ‰‹æœº</li>
</ol>
<h2 id="7-æ€»ç»“å»ºè®®"><a href="#7-æ€»ç»“å»ºè®®" class="headerlink" title="7. æ€»ç»“å»ºè®®"></a>7. æ€»ç»“å»ºè®®</h2><ol>
<li>å¤šçœ‹å®˜æ–¹æ–‡æ¡£å’Œæ›´æ–°æ—¥å¿—</li>
<li>ä¿æŒè‰¯å¥½çš„ä»£ç ä¹ æƒ¯</li>
<li>åšå¥½ç‰ˆæœ¬ç®¡ç†</li>
<li>å¸¸è§é—®é¢˜è®°å½•æ€»ç»“</li>
<li>å®šæœŸæ›´æ–°å¼€å‘å·¥å…·</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>è¸©å‘è®°å½•</tag>
        <tag>é—®é¢˜è§£å†³</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appå®‰å…¨é˜²æŠ¤æŒ‡å—ï¼šæ„å»ºå¯é çš„è·¨ç«¯åº”ç”¨</title>
    <url>/2024/04/15/uniapp-security/</url>
    <content><![CDATA[<blockquote>
<p>å®‰å…¨é˜²æŠ¤æ˜¯åº”ç”¨å¼€å‘ä¸­ä¸å¯å¿½è§†çš„ç¯èŠ‚,æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨uni-appä¸­å®ç°å…¨æ–¹ä½çš„å®‰å…¨é˜²æŠ¤,åŠ©ä½ æ‰“é€ å®‰å…¨å¯é çš„åº”ç”¨ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-æ•°æ®åŠ å¯†"><a href="#1-æ•°æ®åŠ å¯†" class="headerlink" title="1. æ•°æ®åŠ å¯†"></a>1. æ•°æ®åŠ å¯†</h2><h3 id="1-1-åŠ å¯†å·¥å…·ç±»"><a href="#1-1-åŠ å¯†å·¥å…·ç±»" class="headerlink" title="1.1 åŠ å¯†å·¥å…·ç±»"></a>1.1 åŠ å¯†å·¥å…·ç±»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/crypto.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CryptoJS</span> <span class="keyword">from</span> <span class="string">&#x27;crypto-js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Crypto</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">key</span> = options.<span class="property">key</span> || <span class="string">&#x27;default_key&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">iv</span> = options.<span class="property">iv</span> || <span class="string">&#x27;default_iv&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// AESåŠ å¯†</span></span><br><span class="line">  <span class="title function_">encrypt</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">key</span>)</span><br><span class="line">    <span class="keyword">const</span> iv = <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">iv</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> encrypted = <span class="title class_">CryptoJS</span>.<span class="property">AES</span>.<span class="title function_">encrypt</span>(</span><br><span class="line">      <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data),</span><br><span class="line">      key,</span><br><span class="line">      &#123;</span><br><span class="line">        iv,</span><br><span class="line">        <span class="attr">mode</span>: <span class="title class_">CryptoJS</span>.<span class="property">mode</span>.<span class="property">CBC</span>,</span><br><span class="line">        <span class="attr">padding</span>: <span class="title class_">CryptoJS</span>.<span class="property">pad</span>.<span class="property">Pkcs7</span></span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> encrypted.<span class="title function_">toString</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// AESè§£å¯†</span></span><br><span class="line">  <span class="title function_">decrypt</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">key</span>)</span><br><span class="line">    <span class="keyword">const</span> iv = <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">iv</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> decrypted = <span class="title class_">CryptoJS</span>.<span class="property">AES</span>.<span class="title function_">decrypt</span>(</span><br><span class="line">      data,</span><br><span class="line">      key,</span><br><span class="line">      &#123;</span><br><span class="line">        iv,</span><br><span class="line">        <span class="attr">mode</span>: <span class="title class_">CryptoJS</span>.<span class="property">mode</span>.<span class="property">CBC</span>,</span><br><span class="line">        <span class="attr">padding</span>: <span class="title class_">CryptoJS</span>.<span class="property">pad</span>.<span class="property">Pkcs7</span></span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(decrypted.<span class="title function_">toString</span>(<span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>))</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// RSAåŠ å¯†</span></span><br><span class="line">  <span class="title function_">rsaEncrypt</span>(<span class="params">data, publicKey</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> jsencrypt = <span class="keyword">new</span> <span class="title class_">JSEncrypt</span>()</span><br><span class="line">    jsencrypt.<span class="title function_">setPublicKey</span>(publicKey)</span><br><span class="line">    <span class="keyword">return</span> jsencrypt.<span class="title function_">encrypt</span>(data)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// RSAè§£å¯†</span></span><br><span class="line">  <span class="title function_">rsaDecrypt</span>(<span class="params">data, privateKey</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> jsencrypt = <span class="keyword">new</span> <span class="title class_">JSEncrypt</span>()</span><br><span class="line">    jsencrypt.<span class="title function_">setPrivateKey</span>(privateKey)</span><br><span class="line">    <span class="keyword">return</span> jsencrypt.<span class="title function_">decrypt</span>(data)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MD5åŠ å¯†</span></span><br><span class="line">  <span class="title function_">md5</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">CryptoJS</span>.<span class="title class_">MD5</span>(data).<span class="title function_">toString</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Base64ç¼–ç </span></span><br><span class="line">  <span class="title function_">base64Encode</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Base64</span>.<span class="title function_">stringify</span>(</span><br><span class="line">      <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Base64è§£ç </span></span><br><span class="line">  <span class="title function_">base64Decode</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Base64</span>.<span class="title function_">parse</span>(data).<span class="title function_">toString</span>(</span><br><span class="line">      <span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Crypto</span>(&#123;</span><br><span class="line">  <span class="attr">key</span>: process.<span class="property">env</span>.<span class="property">VUE_APP_CRYPTO_KEY</span>,</span><br><span class="line">  <span class="attr">iv</span>: process.<span class="property">env</span>.<span class="property">VUE_APP_CRYPTO_IV</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-æ•æ„Ÿæ•°æ®å­˜å‚¨"><a href="#1-2-æ•æ„Ÿæ•°æ®å­˜å‚¨" class="headerlink" title="1.2 æ•æ„Ÿæ•°æ®å­˜å‚¨"></a>1.2 æ•æ„Ÿæ•°æ®å­˜å‚¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/secure-storage.js</span></span><br><span class="line"><span class="keyword">import</span> crypto <span class="keyword">from</span> <span class="string">&#x27;./crypto&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SecureStorage</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prefix</span> = options.<span class="property">prefix</span> || <span class="string">&#x27;secure_&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">expire</span> = options.<span class="property">expire</span> || <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åŠ å¯†å­˜å‚¨</span></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">key, value, expire = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line">      value,</span><br><span class="line">      <span class="attr">time</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">      <span class="attr">expire</span>: expire || <span class="variable language_">this</span>.<span class="property">expire</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> encrypted = crypto.<span class="title function_">encrypt</span>(data)</span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">prefix</span> + key,</span><br><span class="line">      encrypted</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è§£å¯†è¯»å–</span></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> encrypted = uni.<span class="title function_">getStorageSync</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key)</span><br><span class="line">    <span class="keyword">if</span> (!encrypted) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; value, time, expire &#125; = crypto.<span class="title function_">decrypt</span>(encrypted)</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">      <span class="keyword">if</span> (expire &amp;&amp; <span class="title class_">Date</span>.<span class="title function_">now</span>() - time &gt; expire * <span class="number">1000</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">remove</span>(key)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç§»é™¤æ•°æ®</span></span><br><span class="line">  <span class="title function_">remove</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    uni.<span class="title function_">removeStorageSync</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ¸…ç©ºæ•°æ®</span></span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> keys = uni.<span class="title function_">getStorageInfoSync</span>().<span class="property">keys</span></span><br><span class="line">    keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (key.<span class="title function_">startsWith</span>(<span class="variable language_">this</span>.<span class="property">prefix</span>)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">remove</span>(key.<span class="title function_">slice</span>(<span class="variable language_">this</span>.<span class="property">prefix</span>.<span class="property">length</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">SecureStorage</span>()</span><br></pre></td></tr></table></figure>

<h2 id="2-ç½‘ç»œå®‰å…¨"><a href="#2-ç½‘ç»œå®‰å…¨" class="headerlink" title="2. ç½‘ç»œå®‰å…¨"></a>2. ç½‘ç»œå®‰å…¨</h2><h3 id="2-1-è¯·æ±‚åŠ å¯†"><a href="#2-1-è¯·æ±‚åŠ å¯†" class="headerlink" title="2.1 è¯·æ±‚åŠ å¯†"></a>2.1 è¯·æ±‚åŠ å¯†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/secure-request.js</span></span><br><span class="line"><span class="keyword">import</span> crypto <span class="keyword">from</span> <span class="string">&#x27;./crypto&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SecureRequest</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">publicKey</span> = <span class="string">&#x27;&#x27;</span> <span class="comment">// RSAå…¬é’¥</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–æœåŠ¡å™¨å…¬é’¥</span></span><br><span class="line">    <span class="keyword">const</span> &#123; publicKey &#125; = <span class="keyword">await</span> uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/api/public-key&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">publicKey</span> = publicKey</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åŠ å¯†è¯·æ±‚</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">request</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// ç”Ÿæˆéšæœºå¯†é’¥</span></span><br><span class="line">    <span class="keyword">const</span> randomKey = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">slice</span>(-<span class="number">8</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½¿ç”¨RSAåŠ å¯†éšæœºå¯†é’¥</span></span><br><span class="line">    <span class="keyword">const</span> encryptedKey = crypto.<span class="title function_">rsaEncrypt</span>(</span><br><span class="line">      randomKey,</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">publicKey</span></span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½¿ç”¨éšæœºå¯†é’¥åŠ å¯†æ•°æ®</span></span><br><span class="line">    <span class="keyword">const</span> encryptedData = crypto.<span class="title function_">encrypt</span>(</span><br><span class="line">      options.<span class="property">data</span>,</span><br><span class="line">      randomKey</span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">return</span> uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">      ...options,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">key</span>: encryptedKey,</span><br><span class="line">        <span class="attr">data</span>: encryptedData</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">SecureRequest</span>()</span><br></pre></td></tr></table></figure>

<h3 id="2-2-é˜²é‡æ”¾æ”»å‡»"><a href="#2-2-é˜²é‡æ”¾æ”»å‡»" class="headerlink" title="2.2 é˜²é‡æ”¾æ”»å‡»"></a>2.2 é˜²é‡æ”¾æ”»å‡»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/anti-replay.js</span></span><br><span class="line"><span class="keyword">import</span> crypto <span class="keyword">from</span> <span class="string">&#x27;./crypto&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AntiReplay</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cache</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç”Ÿæˆè¯·æ±‚ç­¾å</span></span><br><span class="line">  <span class="title function_">sign</span>(<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> timestamp = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">const</span> nonce = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">slice</span>(-<span class="number">8</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line">      ...params,</span><br><span class="line">      timestamp,</span><br><span class="line">      nonce</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŒ‰é”®åæ’åº</span></span><br><span class="line">    <span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(data).<span class="title function_">sort</span>()</span><br><span class="line">    <span class="keyword">const</span> signStr = keys.<span class="title function_">map</span>(<span class="function"><span class="params">key</span> =&gt;</span> <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;data[key]&#125;</span>`</span>).<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ...data,</span><br><span class="line">      <span class="attr">sign</span>: crypto.<span class="title function_">md5</span>(signStr)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// éªŒè¯ç­¾å</span></span><br><span class="line">  <span class="title function_">verify</span>(<span class="params">params</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; timestamp, nonce, sign, ...rest &#125; = params</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ—¶é—´æˆ³æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Date</span>.<span class="title function_">now</span>() - timestamp &gt; <span class="number">5</span> * <span class="number">60</span> * <span class="number">1000</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦é‡æ”¾</span></span><br><span class="line">    <span class="keyword">const</span> cacheKey = <span class="string">`<span class="subst">$&#123;timestamp&#125;</span>:<span class="subst">$&#123;nonce&#125;</span>`</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">has</span>(cacheKey)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// éªŒè¯ç­¾å</span></span><br><span class="line">    <span class="keyword">const</span> keys = <span class="title class_">Object</span>.<span class="title function_">keys</span>(rest).<span class="title function_">sort</span>()</span><br><span class="line">    <span class="keyword">const</span> signStr = keys.<span class="title function_">map</span>(<span class="function"><span class="params">key</span> =&gt;</span> <span class="string">`<span class="subst">$&#123;key&#125;</span>=<span class="subst">$&#123;rest[key]&#125;</span>`</span>).<span class="title function_">join</span>(<span class="string">&#x27;&amp;&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (crypto.<span class="title function_">md5</span>(signStr) !== sign) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç¼“å­˜è¯·æ±‚æ ‡è¯†</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">set</span>(cacheKey, <span class="literal">true</span>)</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">delete</span>(cacheKey)</span><br><span class="line">    &#125;, <span class="number">5</span> * <span class="number">60</span> * <span class="number">1000</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">AntiReplay</span>()</span><br></pre></td></tr></table></figure>

<h2 id="3-ä»£ç ä¿æŠ¤"><a href="#3-ä»£ç ä¿æŠ¤" class="headerlink" title="3. ä»£ç ä¿æŠ¤"></a>3. ä»£ç ä¿æŠ¤</h2><h3 id="3-1-ä»£ç æ··æ·†"><a href="#3-1-ä»£ç æ··æ·†" class="headerlink" title="3.1 ä»£ç æ··æ·†"></a>3.1 ä»£ç æ··æ·†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;terser-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">configureWebpack</span>: &#123;</span><br><span class="line">    <span class="attr">optimization</span>: &#123;</span><br><span class="line">      <span class="attr">minimizer</span>: [</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;</span><br><span class="line">          <span class="attr">terserOptions</span>: &#123;</span><br><span class="line">            <span class="attr">compress</span>: &#123;</span><br><span class="line">              <span class="attr">drop_console</span>: <span class="literal">true</span>, <span class="comment">// ç§»é™¤console</span></span><br><span class="line">              <span class="attr">pure_funcs</span>: [<span class="string">&#x27;console.log&#x27;</span>] <span class="comment">// ç§»é™¤æŒ‡å®šå‡½æ•°</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">mangle</span>: &#123;</span><br><span class="line">              <span class="attr">safari10</span>: <span class="literal">true</span> <span class="comment">// å…¼å®¹safari10</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">output</span>: &#123;</span><br><span class="line">              <span class="attr">ascii_only</span>: <span class="literal">true</span>, <span class="comment">// è¾“å‡ºASCIIå­—ç¬¦</span></span><br><span class="line">              <span class="attr">comments</span>: <span class="literal">false</span> <span class="comment">// ç§»é™¤æ³¨é‡Š</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æºç åŠ å¯†"><a href="#3-2-æºç åŠ å¯†" class="headerlink" title="3.2 æºç åŠ å¯†"></a>3.2 æºç åŠ å¯†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/code-protection.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CodeProtection</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isDebug</span> = <span class="literal">false</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ£€æµ‹è°ƒè¯•æ¨¡å¼</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">checkDebugger</span>()</span><br><span class="line">    <span class="comment">// ç¦ç”¨æ§åˆ¶å°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">disableConsole</span>()</span><br><span class="line">    <span class="comment">// ç¦ç”¨å³é”®èœå•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">disableContextMenu</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ£€æµ‹è°ƒè¯•æ¨¡å¼</span></span><br><span class="line">  <span class="title function_">checkDebugger</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">      <span class="keyword">debugger</span></span><br><span class="line">      <span class="keyword">const</span> endTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (endTime - startTime &gt; <span class="number">100</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">isDebug</span> = <span class="literal">true</span></span><br><span class="line">        <span class="comment">// æ£€æµ‹åˆ°è°ƒè¯•è¡Œä¸º</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">handleDebug</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç¦ç”¨æ§åˆ¶å°</span></span><br><span class="line">  <span class="title function_">disableConsole</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// #ifdef H5</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">noop</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br><span class="line">      <span class="keyword">const</span> methods = [</span><br><span class="line">        <span class="string">&#x27;log&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;debug&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;info&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;warn&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;error&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;assert&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;dir&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;dirxml&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;trace&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;group&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;groupEnd&#x27;</span></span><br><span class="line">      ]</span><br><span class="line">      </span><br><span class="line">      methods.<span class="title function_">forEach</span>(<span class="function"><span class="params">method</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>[method] = noop</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç¦ç”¨å³é”®èœå•</span></span><br><span class="line">  <span class="title function_">disableContextMenu</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// #ifdef H5</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">oncontextmenu</span> = <span class="function">() =&gt;</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å¤„ç†è°ƒè¯•è¡Œä¸º</span></span><br><span class="line">  <span class="title function_">handleDebug</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">isDebug</span>) &#123;</span><br><span class="line">      <span class="comment">// é€€å‡ºåº”ç”¨</span></span><br><span class="line">      <span class="comment">// #ifdef APP-PLUS</span></span><br><span class="line">      plus.<span class="property">runtime</span>.<span class="title function_">quit</span>()</span><br><span class="line">      <span class="comment">// #endif</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è¿”å›é¦–é¡µ</span></span><br><span class="line">      <span class="comment">// #ifdef H5 || MP</span></span><br><span class="line">      uni.<span class="title function_">reLaunch</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="comment">// #endif</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">CodeProtection</span>()</span><br></pre></td></tr></table></figure>

<h2 id="4-æ•°æ®é˜²æŠ¤"><a href="#4-æ•°æ®é˜²æŠ¤" class="headerlink" title="4. æ•°æ®é˜²æŠ¤"></a>4. æ•°æ®é˜²æŠ¤</h2><h3 id="4-1-é˜²æ­¢SQLæ³¨å…¥"><a href="#4-1-é˜²æ­¢SQLæ³¨å…¥" class="headerlink" title="4.1 é˜²æ­¢SQLæ³¨å…¥"></a>4.1 é˜²æ­¢SQLæ³¨å…¥</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/sql-escape.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SqlEscape</span> &#123;</span><br><span class="line">  <span class="comment">// è½¬ä¹‰SQLç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line">  <span class="title function_">escape</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> str !== <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> str</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/[\0\n\r\b\t\\&#x27;&quot;\x1a]/g</span>, <span class="function"><span class="params">s</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">switch</span> (s) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\0&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\0&#x27;</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\n&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\n&#x27;</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\r&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\r&#x27;</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\b&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\b&#x27;</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\t&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\t&#x27;</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;\x1a&#x27;</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\Z&#x27;</span></span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">          <span class="keyword">return</span> <span class="string">&#x27;\\&#x27;</span> + s</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// éªŒè¯SQLæ³¨å…¥</span></span><br><span class="line">  <span class="title function_">validate</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> pattern = <span class="regexp">/select|update|delete|exec|count|&#x27;|&quot;|=|;|&gt;|&lt;|%/i</span></span><br><span class="line">    <span class="keyword">return</span> !pattern.<span class="title function_">test</span>(str)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">SqlEscape</span>()</span><br></pre></td></tr></table></figure>

<h3 id="4-2-é˜²æ­¢XSSæ”»å‡»"><a href="#4-2-é˜²æ­¢XSSæ”»å‡»" class="headerlink" title="4.2 é˜²æ­¢XSSæ”»å‡»"></a>4.2 é˜²æ­¢XSSæ”»å‡»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/xss-filter.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">XssFilter</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">rules</span> = &#123;</span><br><span class="line">      <span class="attr">whiteList</span>: &#123;</span><br><span class="line">        <span class="attr">a</span>: [<span class="string">&#x27;href&#x27;</span>, <span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;target&#x27;</span>],</span><br><span class="line">        <span class="attr">img</span>: [<span class="string">&#x27;src&#x27;</span>, <span class="string">&#x27;alt&#x27;</span>],</span><br><span class="line">        <span class="attr">p</span>: [],</span><br><span class="line">        <span class="attr">div</span>: [],</span><br><span class="line">        <span class="attr">span</span>: [],</span><br><span class="line">        <span class="attr">br</span>: [],</span><br><span class="line">        <span class="attr">strong</span>: [],</span><br><span class="line">        <span class="attr">em</span>: []</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">stripIgnoreTag</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">stripIgnoreTagBody</span>: [<span class="string">&#x27;script&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è¿‡æ»¤HTML</span></span><br><span class="line">  <span class="title function_">filter</span>(<span class="params">html</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> html !== <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> html</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> html.<span class="title function_">replace</span>(<span class="regexp">/&lt;\/?[^&gt;]*&gt;/g</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/&amp;[^;]+;/g</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è½¬ä¹‰HTML</span></span><br><span class="line">  <span class="title function_">escape</span>(<span class="params">html</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> html.<span class="title function_">replace</span>(<span class="regexp">/[&amp;&lt;&gt;&quot;&#x27;]/g</span>, <span class="function"><span class="params">match</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="built_in">escape</span> = &#123;</span><br><span class="line">        <span class="string">&#x27;&amp;&#x27;</span>: <span class="string">&#x27;&amp;amp;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;&lt;&#x27;</span>: <span class="string">&#x27;&amp;lt;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;&gt;&#x27;</span>: <span class="string">&#x27;&amp;gt;&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;&quot;&#x27;</span>: <span class="string">&#x27;&amp;quot;&#x27;</span>,</span><br><span class="line">        <span class="string">&quot;&#x27;&quot;</span>: <span class="string">&#x27;&amp;#39;&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">escape</span>[match]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// éªŒè¯XSS</span></span><br><span class="line">  <span class="title function_">validate</span>(<span class="params">str</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> pattern = <span class="regexp">/&lt;script|javascript:|on\w+\s*=|style\s*=|href\s*=|alert\s*\(|confirm\s*\(|prompt\s*\(/i</span></span><br><span class="line">    <span class="keyword">return</span> !pattern.<span class="title function_">test</span>(str)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">XssFilter</span>()</span><br></pre></td></tr></table></figure>

<h2 id="5-æœ€ä½³å®è·µå»ºè®®"><a href="#5-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="5. æœ€ä½³å®è·µå»ºè®®"></a>5. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>ä½¿ç”¨HTTPSé€šä¿¡</li>
<li>å®ç°è¯·æ±‚ç­¾å</li>
<li>åŠ å¯†æ•æ„Ÿæ•°æ®</li>
<li>é˜²æ­¢ä»£ç æ³„éœ²</li>
<li>åšå¥½æ•°æ®æ ¡éªŒ</li>
<li>å®šæœŸå®‰å…¨å®¡è®¡</li>
<li>åŠæ—¶æ›´æ–°ä¾èµ–</li>
<li>è®°å½•å®‰å…¨æ—¥å¿—</li>
</ol>
<h2 id="6-å®‰å…¨ç›‘æ§"><a href="#6-å®‰å…¨ç›‘æ§" class="headerlink" title="6. å®‰å…¨ç›‘æ§"></a>6. å®‰å…¨ç›‘æ§</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/security-monitor.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SecurityMonitor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">logs</span> = []</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxLogs</span> = <span class="number">1000</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è®°å½•å®‰å…¨æ—¥å¿—</span></span><br><span class="line">  <span class="title function_">log</span>(<span class="params">type, data</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> log = &#123;</span><br><span class="line">      type,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">time</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">      <span class="attr">page</span>: <span class="variable language_">this</span>.<span class="title function_">getCurrentPage</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">logs</span>.<span class="title function_">push</span>(log)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¶…å‡ºé™åˆ¶æ¸…ç†æ—§æ—¥å¿—</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">logs</span>.<span class="property">length</span> &gt; <span class="variable language_">this</span>.<span class="property">maxLogs</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">logs</span> = <span class="variable language_">this</span>.<span class="property">logs</span>.<span class="title function_">slice</span>(-<span class="variable language_">this</span>.<span class="property">maxLogs</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¸ŠæŠ¥æ—¥å¿—</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">report</span>(log)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–å½“å‰é¡µé¢</span></span><br><span class="line">  <span class="title function_">getCurrentPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> pages = <span class="title function_">getCurrentPages</span>()</span><br><span class="line">    <span class="keyword">const</span> page = pages[pages.<span class="property">length</span> - <span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> page ? page.<span class="property">route</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä¸ŠæŠ¥æ—¥å¿—</span></span><br><span class="line">  <span class="title function_">report</span>(<span class="params">log</span>) &#123;</span><br><span class="line">    uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/api/security/log&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: log</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–æ—¥å¿—</span></span><br><span class="line">  <span class="title function_">getLogs</span>(<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (type) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">logs</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">log</span> =&gt;</span> log.<span class="property">type</span> === type)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">logs</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ¸…ç†æ—¥å¿—</span></span><br><span class="line">  <span class="title function_">clearLogs</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">logs</span> = []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">SecurityMonitor</span>()</span><br></pre></td></tr></table></figure>

<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>å®ç°æ•°æ®åŠ å¯†</li>
<li>ä¿æŠ¤ç½‘ç»œå®‰å…¨</li>
<li>é˜²æŠ¤ä»£ç æ³„éœ²</li>
<li>è¿‡æ»¤å±é™©æ•°æ®</li>
<li>ç›‘æ§å®‰å…¨é£é™©</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>uni-app</tag>
        <tag>å®‰å…¨é˜²æŠ¤</tag>
        <tag>å‰ç«¯å®‰å…¨</tag>
        <tag>æ•°æ®åŠ å¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appæ€§èƒ½ä¼˜åŒ–æŒ‡å—ï¼šä»åŠ è½½åˆ°æ¸²æŸ“çš„å…¨æ–¹ä½æå‡</title>
    <url>/2024/04/10/uniapp-optimization/</url>
    <content><![CDATA[<blockquote>
<p>æ€§èƒ½ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®å› ç´ ,æœ¬æ–‡å°†ä»å¤šä¸ªç»´åº¦è¯¦ç»†ä»‹ç»uni-appåº”ç”¨çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥,å¸®åŠ©ä½ æ„å»ºæµç•…çš„è·¨ç«¯åº”ç”¨ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-é¦–å±åŠ è½½ä¼˜åŒ–"><a href="#1-é¦–å±åŠ è½½ä¼˜åŒ–" class="headerlink" title="1. é¦–å±åŠ è½½ä¼˜åŒ–"></a>1. é¦–å±åŠ è½½ä¼˜åŒ–</h2><h3 id="1-1-åˆ†åŒ…åŠ è½½"><a href="#1-1-åˆ†åŒ…åŠ è½½" class="headerlink" title="1.1 åˆ†åŒ…åŠ è½½"></a>1.1 åˆ†åŒ…åŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pages.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [&#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;style&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;é¦–é¡µ&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="string">&quot;subPackages&quot;</span>: [&#123;</span><br><span class="line">    <span class="string">&quot;root&quot;</span>: <span class="string">&quot;pagesA&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages&quot;</span>: [&#123;</span><br><span class="line">      <span class="string">&quot;path&quot;</span>: <span class="string">&quot;list/index&quot;</span>,</span><br><span class="line">      <span class="string">&quot;style&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;åˆ—è¡¨é¡µ&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„åŠ è½½åˆ†åŒ…</span></span><br><span class="line"><span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// è¿›å…¥é¦–é¡µæ—¶é¢„åŠ è½½åˆ†åŒ…</span></span><br><span class="line">  uni.<span class="title function_">preloadSubPackage</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;pagesA&#x27;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ†åŒ…é¢„åŠ è½½æˆåŠŸ&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ†åŒ…é¢„åŠ è½½å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-å›¾ç‰‡ä¼˜åŒ–"><a href="#1-2-å›¾ç‰‡ä¼˜åŒ–" class="headerlink" title="1.2 å›¾ç‰‡ä¼˜åŒ–"></a>1.2 å›¾ç‰‡ä¼˜åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;!-- ä½¿ç”¨æ‡’åŠ è½½ --&gt;</span><br><span class="line">    &lt;image </span><br><span class="line">      v-for=&quot;(item, index) in images&quot; </span><br><span class="line">      :key=&quot;index&quot;</span><br><span class="line">      :src=&quot;item.url&quot;</span><br><span class="line">      :lazy-load=&quot;true&quot;</span><br><span class="line">      mode=&quot;aspectFill&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- ä½¿ç”¨webpæ ¼å¼ --&gt;</span><br><span class="line">    &lt;image </span><br><span class="line">      :src=&quot;getWebpUrl(image.url)&quot;</span><br><span class="line">      mode=&quot;aspectFill&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // åˆ¤æ–­æ˜¯å¦æ”¯æŒwebp</span><br><span class="line">    checkWebp() &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        return document.createElement(&#x27;canvas&#x27;)</span><br><span class="line">          .toDataURL(&#x27;image/webp&#x27;)</span><br><span class="line">          .indexOf(&#x27;data:image/webp&#x27;) === 0</span><br><span class="line">      &#125; catch (e) &#123;</span><br><span class="line">        return false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // è·å–webpå›¾ç‰‡åœ°å€</span><br><span class="line">    getWebpUrl(url) &#123;</span><br><span class="line">      if (this.checkWebp()) &#123;</span><br><span class="line">        return url.replace(/\.(jpg|png)$/, &#x27;.webp&#x27;)</span><br><span class="line">      &#125;</span><br><span class="line">      return url</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-éª¨æ¶å±"><a href="#1-3-éª¨æ¶å±" class="headerlink" title="1.3 éª¨æ¶å±"></a>1.3 éª¨æ¶å±</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- components/skeleton.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;skeleton&quot; v-if=&quot;loading&quot;&gt;</span><br><span class="line">    &lt;view class=&quot;skeleton-header&quot;&gt;</span><br><span class="line">      &lt;view class=&quot;skeleton-avatar&quot;&gt;&lt;/view&gt;</span><br><span class="line">      &lt;view class=&quot;skeleton-content&quot;&gt;</span><br><span class="line">        &lt;view class=&quot;skeleton-title&quot;&gt;&lt;/view&gt;</span><br><span class="line">        &lt;view class=&quot;skeleton-desc&quot;&gt;&lt;/view&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">    &lt;view class=&quot;skeleton-list&quot;&gt;</span><br><span class="line">      &lt;view </span><br><span class="line">        class=&quot;skeleton-item&quot;</span><br><span class="line">        v-for=&quot;i in 5&quot;</span><br><span class="line">        :key=&quot;i&quot;</span><br><span class="line">      &gt;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.skeleton &#123;</span><br><span class="line">  padding: 20rpx;</span><br><span class="line">  </span><br><span class="line">  &amp;-header &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    margin-bottom: 30rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;-avatar &#123;</span><br><span class="line">    width: 100rpx;</span><br><span class="line">    height: 100rpx;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    background: #f0f0f0;</span><br><span class="line">    margin-right: 20rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;-content &#123;</span><br><span class="line">    flex: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;-title &#123;</span><br><span class="line">    width: 60%;</span><br><span class="line">    height: 40rpx;</span><br><span class="line">    background: #f0f0f0;</span><br><span class="line">    margin-bottom: 20rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;-desc &#123;</span><br><span class="line">    width: 80%;</span><br><span class="line">    height: 32rpx;</span><br><span class="line">    background: #f0f0f0;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;-item &#123;</span><br><span class="line">    height: 160rpx;</span><br><span class="line">    background: #f0f0f0;</span><br><span class="line">    margin-bottom: 20rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;-avatar,</span><br><span class="line">  &amp;-title,</span><br><span class="line">  &amp;-desc,</span><br><span class="line">  &amp;-item &#123;</span><br><span class="line">    animation: skeleton-loading 1.4s ease infinite;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes skeleton-loading &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">  &#125;</span><br><span class="line">  50% &#123;</span><br><span class="line">    opacity: 0.5;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"><a href="#2-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="2. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"></a>2. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–</h2><h3 id="2-1-é•¿åˆ—è¡¨ä¼˜åŒ–"><a href="#2-1-é•¿åˆ—è¡¨ä¼˜åŒ–" class="headerlink" title="2.1 é•¿åˆ—è¡¨ä¼˜åŒ–"></a>2.1 é•¿åˆ—è¡¨ä¼˜åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;list-container&quot;&gt;</span><br><span class="line">    &lt;!-- è™šæ‹Ÿåˆ—è¡¨ --&gt;</span><br><span class="line">    &lt;recycle-list</span><br><span class="line">      :list=&quot;list&quot;</span><br><span class="line">      :height=&quot;listHeight&quot;</span><br><span class="line">      :item-height=&quot;itemHeight&quot;</span><br><span class="line">      :buffer-scale=&quot;1&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;template v-slot=&quot;&#123; item &#125;&quot;&gt;</span><br><span class="line">        &lt;view class=&quot;list-item&quot;&gt;</span><br><span class="line">          &#123;&#123; item.title &#125;&#125;</span><br><span class="line">        &lt;/view&gt;</span><br><span class="line">      &lt;/template&gt;</span><br><span class="line">    &lt;/recycle-list&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import RecycleList from &#x27;@/components/recycle-list&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    RecycleList</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: [],</span><br><span class="line">      listHeight: 600,</span><br><span class="line">      itemHeight: 100</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // åˆ†é¡µåŠ è½½æ•°æ®</span><br><span class="line">    async loadData(page = 1) &#123;</span><br><span class="line">      const &#123; list &#125; = await this.$api.getList(&#123; page &#125;)</span><br><span class="line">      this.list = [...this.list, ...list]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-é¿å…é¢‘ç¹æ›´æ–°"><a href="#2-2-é¿å…é¢‘ç¹æ›´æ–°" class="headerlink" title="2.2 é¿å…é¢‘ç¹æ›´æ–°"></a>2.2 é¿å…é¢‘ç¹æ›´æ–°</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      timer: null,</span><br><span class="line">      count: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // ä½¿ç”¨èŠ‚æµ</span><br><span class="line">    throttleUpdate() &#123;</span><br><span class="line">      if (this.timer) return</span><br><span class="line">      this.timer = setTimeout(() =&gt; &#123;</span><br><span class="line">        this.count++</span><br><span class="line">        this.timer = null</span><br><span class="line">      &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // ä½¿ç”¨requestAnimationFrame</span><br><span class="line">    rafUpdate() &#123;</span><br><span class="line">      requestAnimationFrame(() =&gt; &#123;</span><br><span class="line">        this.count++</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    // æ¸…ç†å®šæ—¶å™¨</span><br><span class="line">    if (this.timer) &#123;</span><br><span class="line">      clearTimeout(this.timer)</span><br><span class="line">      this.timer = null</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-å†…å­˜ä¼˜åŒ–"><a href="#3-å†…å­˜ä¼˜åŒ–" class="headerlink" title="3. å†…å­˜ä¼˜åŒ–"></a>3. å†…å­˜ä¼˜åŒ–</h2><h3 id="3-1-åŠæ—¶æ¸…ç†èµ„æº"><a href="#3-1-åŠæ—¶æ¸…ç†èµ„æº" class="headerlink" title="3.1 åŠæ—¶æ¸…ç†èµ„æº"></a>3.1 åŠæ—¶æ¸…ç†èµ„æº</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">observer</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">listeners</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">initObserver</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">observer</span> = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function"><span class="params">entries</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†é€»è¾‘</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">addListener</span>(<span class="params">element, event, handler</span>) &#123;</span><br><span class="line">      element.<span class="title function_">addEventListener</span>(event, handler)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">listeners</span>.<span class="title function_">push</span>(&#123; element, event, handler &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ¸…ç†è§‚å¯Ÿè€…</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">observer</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">disconnect</span>()</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">observer</span> = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç§»é™¤äº‹ä»¶ç›‘å¬</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">listeners</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">&#123; element, event, handler &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      element.<span class="title function_">removeEventListener</span>(event, handler)</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">listeners</span> = []</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-ç¼“å­˜ç®¡ç†"><a href="#3-2-ç¼“å­˜ç®¡ç†" class="headerlink" title="3.2 ç¼“å­˜ç®¡ç†"></a>3.2 ç¼“å­˜ç®¡ç†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/cache.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cache</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">storage</span> = options.<span class="property">storage</span> || uni.<span class="property">getStorageSync</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prefix</span> = options.<span class="property">prefix</span> || <span class="string">&#x27;cache_&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">expire</span> = options.<span class="property">expire</span> || <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è®¾ç½®ç¼“å­˜</span></span><br><span class="line">  <span class="title function_">set</span>(<span class="params">key, value, expire = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line">      value,</span><br><span class="line">      <span class="attr">expire</span>: expire ? <span class="title class_">Date</span>.<span class="title function_">now</span>() + expire * <span class="number">1000</span> : <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">storage</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–ç¼“å­˜</span></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="variable language_">this</span>.<span class="title function_">storage</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key)</span><br><span class="line">    <span class="keyword">if</span> (!data) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; value, expire &#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">      <span class="keyword">if</span> (expire &amp;&amp; expire &lt; <span class="title class_">Date</span>.<span class="title function_">now</span>()) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">remove</span>(key)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç§»é™¤ç¼“å­˜</span></span><br><span class="line">  <span class="title function_">remove</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">storage</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ¸…ç©ºç¼“å­˜</span></span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> keys = uni.<span class="title function_">getStorageInfoSync</span>().<span class="property">keys</span></span><br><span class="line">    keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (key.<span class="title function_">startsWith</span>(<span class="variable language_">this</span>.<span class="property">prefix</span>)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">remove</span>(key.<span class="title function_">slice</span>(<span class="variable language_">this</span>.<span class="property">prefix</span>.<span class="property">length</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Cache</span>()</span><br></pre></td></tr></table></figure>

<h2 id="4-ç½‘ç»œä¼˜åŒ–"><a href="#4-ç½‘ç»œä¼˜åŒ–" class="headerlink" title="4. ç½‘ç»œä¼˜åŒ–"></a>4. ç½‘ç»œä¼˜åŒ–</h2><h3 id="4-1-è¯·æ±‚ä¼˜åŒ–"><a href="#4-1-è¯·æ±‚ä¼˜åŒ–" class="headerlink" title="4.1 è¯·æ±‚ä¼˜åŒ–"></a>4.1 è¯·æ±‚ä¼˜åŒ–</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/request.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Request</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = <span class="keyword">new</span> <span class="title class_">Map</span>() <span class="comment">// è¯·æ±‚é˜Ÿåˆ—</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cache</span> = <span class="keyword">new</span> <span class="title class_">Map</span>() <span class="comment">// è¯·æ±‚ç¼“å­˜</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">request</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="variable language_">this</span>.<span class="title function_">getRequestKey</span>(options)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒè¯·æ±‚åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">has</span>(key)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">get</span>(key)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰ç¼“å­˜</span></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">useCache</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> cached = <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">get</span>(key)</span><br><span class="line">      <span class="keyword">if</span> (cached &amp;&amp; cached.<span class="property">expire</span> &gt; <span class="title class_">Date</span>.<span class="title function_">now</span>()) &#123;</span><br><span class="line">        <span class="keyword">return</span> cached.<span class="property">data</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å‘é€è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">        ...options,</span><br><span class="line">        <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// ç¼“å­˜å“åº”</span></span><br><span class="line">          <span class="keyword">if</span> (options.<span class="property">useCache</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">set</span>(key, &#123;</span><br><span class="line">              <span class="attr">data</span>: res.<span class="property">data</span>,</span><br><span class="line">              <span class="attr">expire</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>() + (options.<span class="property">cacheTime</span> || <span class="number">60000</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="title function_">resolve</span>(res.<span class="property">data</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>: reject,</span><br><span class="line">        <span class="attr">complete</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// è¯·æ±‚å®Œæˆåä»é˜Ÿåˆ—ç§»é™¤</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ åˆ°é˜Ÿåˆ—</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">set</span>(key, promise)</span><br><span class="line">    <span class="keyword">return</span> promise</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç”Ÿæˆè¯·æ±‚çš„å”¯ä¸€æ ‡è¯†</span></span><br><span class="line">  <span class="title function_">getRequestKey</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;options.url&#125;</span>:<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(options.data)&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Request</span>()</span><br></pre></td></tr></table></figure>

<h3 id="4-2-ç¦»çº¿ç¼“å­˜"><a href="#4-2-ç¦»çº¿ç¼“å­˜" class="headerlink" title="4.2 ç¦»çº¿ç¼“å­˜"></a>4.2 ç¦»çº¿ç¼“å­˜</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/offline.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">OfflineStorage</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">version</span> = <span class="string">&#x27;1.0.0&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">table</span> = <span class="string">&#x27;offline_data&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–æ•°æ®åº“</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      plus.<span class="property">sqlite</span>.<span class="title function_">openDatabase</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;app.db&#x27;</span>,</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;_doc/app.db&#x27;</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">createTable</span>()</span><br><span class="line">          <span class="title function_">resolve</span>()</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>: reject</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆ›å»ºè¡¨</span></span><br><span class="line">  <span class="title function_">createTable</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> sql = <span class="string">`</span></span><br><span class="line"><span class="string">      CREATE TABLE IF NOT EXISTS <span class="subst">$&#123;<span class="variable language_">this</span>.table&#125;</span> (</span></span><br><span class="line"><span class="string">        id TEXT PRIMARY KEY,</span></span><br><span class="line"><span class="string">        data TEXT,</span></span><br><span class="line"><span class="string">        expire INTEGER,</span></span><br><span class="line"><span class="string">        version TEXT</span></span><br><span class="line"><span class="string">      )</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    plus.<span class="property">sqlite</span>.<span class="title function_">executeSql</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;app.db&#x27;</span>,</span><br><span class="line">      sql</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä¿å­˜æ•°æ®</span></span><br><span class="line">  <span class="title function_">save</span>(<span class="params">key, data, expire = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> sql = <span class="string">`</span></span><br><span class="line"><span class="string">      REPLACE INTO <span class="subst">$&#123;<span class="variable language_">this</span>.table&#125;</span> (id, data, expire, version)</span></span><br><span class="line"><span class="string">      VALUES (?, ?, ?, ?)</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    <span class="keyword">const</span> values = [</span><br><span class="line">      key,</span><br><span class="line">      <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data),</span><br><span class="line">      expire ? <span class="title class_">Date</span>.<span class="title function_">now</span>() + expire * <span class="number">1000</span> : <span class="number">0</span>,</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">version</span></span><br><span class="line">    ]</span><br><span class="line">    </span><br><span class="line">    plus.<span class="property">sqlite</span>.<span class="title function_">executeSql</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;app.db&#x27;</span>,</span><br><span class="line">      sql,</span><br><span class="line">      values</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–æ•°æ®</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> sql = <span class="string">`</span></span><br><span class="line"><span class="string">        SELECT * FROM <span class="subst">$&#123;<span class="variable language_">this</span>.table&#125;</span></span></span><br><span class="line"><span class="string">        WHERE id = ? AND version = ?</span></span><br><span class="line"><span class="string">      `</span></span><br><span class="line">      plus.<span class="property">sqlite</span>.<span class="title function_">selectSql</span>(&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;app.db&#x27;</span>,</span><br><span class="line">        sql,</span><br><span class="line">        <span class="attr">values</span>: [key, <span class="variable language_">this</span>.<span class="property">version</span>],</span><br><span class="line">        <span class="attr">success</span>: <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!res.<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">          &#125;</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">const</span> &#123; data, expire &#125; = res[<span class="number">0</span>]</span><br><span class="line">          <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">          <span class="keyword">if</span> (expire &amp;&amp; expire &lt; <span class="title class_">Date</span>.<span class="title function_">now</span>()) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">remove</span>(key)</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">          &#125;</span><br><span class="line">          </span><br><span class="line">          <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(data))</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>: reject</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç§»é™¤æ•°æ®</span></span><br><span class="line">  <span class="title function_">remove</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> sql = <span class="string">`</span></span><br><span class="line"><span class="string">      DELETE FROM <span class="subst">$&#123;<span class="variable language_">this</span>.table&#125;</span></span></span><br><span class="line"><span class="string">      WHERE id = ?</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    plus.<span class="property">sqlite</span>.<span class="title function_">executeSql</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;app.db&#x27;</span>,</span><br><span class="line">      sql,</span><br><span class="line">      <span class="attr">values</span>: [key]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ¸…ç©ºæ•°æ®</span></span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> sql = <span class="string">`</span></span><br><span class="line"><span class="string">      DELETE FROM <span class="subst">$&#123;<span class="variable language_">this</span>.table&#125;</span></span></span><br><span class="line"><span class="string">      WHERE version = ?</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    plus.<span class="property">sqlite</span>.<span class="title function_">executeSql</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;app.db&#x27;</span>,</span><br><span class="line">      sql,</span><br><span class="line">      <span class="attr">values</span>: [<span class="variable language_">this</span>.<span class="property">version</span>]</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">OfflineStorage</span>()</span><br></pre></td></tr></table></figure>

<h2 id="5-æœ€ä½³å®è·µå»ºè®®"><a href="#5-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="5. æœ€ä½³å®è·µå»ºè®®"></a>5. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>åˆç†ä½¿ç”¨åˆ†åŒ…åŠ è½½</li>
<li>ä¼˜åŒ–å›¾ç‰‡åŠ è½½ç­–ç•¥</li>
<li>å®ç°è™šæ‹Ÿåˆ—è¡¨</li>
<li>é¿å…é¢‘ç¹æ›´æ–°</li>
<li>åŠæ—¶æ¸…ç†èµ„æº</li>
<li>åšå¥½ç¼“å­˜ç®¡ç†</li>
<li>ä¼˜åŒ–ç½‘ç»œè¯·æ±‚</li>
<li>å®ç°ç¦»çº¿ç¼“å­˜</li>
</ol>
<h2 id="6-æ€§èƒ½ç›‘æ§"><a href="#6-æ€§èƒ½ç›‘æ§" class="headerlink" title="6. æ€§èƒ½ç›‘æ§"></a>6. æ€§èƒ½ç›‘æ§</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/performance.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Performance</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = &#123;</span><br><span class="line">      <span class="comment">// é¡µé¢æ€§èƒ½</span></span><br><span class="line">      <span class="attr">page</span>: &#123;</span><br><span class="line">        <span class="attr">ready</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">load</span>: <span class="number">0</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// æ¥å£æ€§èƒ½</span></span><br><span class="line">      <span class="attr">api</span>: <span class="keyword">new</span> <span class="title class_">Map</span>(),</span><br><span class="line">      <span class="comment">// èµ„æºæ€§èƒ½</span></span><br><span class="line">      <span class="attr">resource</span>: <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è®°å½•é¡µé¢æ€§èƒ½</span></span><br><span class="line">  <span class="title function_">recordPage</span>(<span class="params">type, time</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">page</span>[type] = time</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è®°å½•æ¥å£æ€§èƒ½</span></span><br><span class="line">  <span class="title function_">recordApi</span>(<span class="params">url, time</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> api = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">api</span>.<span class="title function_">get</span>(url) || &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">total</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">max</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">min</span>: <span class="title class_">Infinity</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    api.<span class="property">count</span>++</span><br><span class="line">    api.<span class="property">total</span> += time</span><br><span class="line">    api.<span class="property">max</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(api.<span class="property">max</span>, time)</span><br><span class="line">    api.<span class="property">min</span> = <span class="title class_">Math</span>.<span class="title function_">min</span>(api.<span class="property">min</span>, time)</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">api</span>.<span class="title function_">set</span>(url, api)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è®°å½•èµ„æºæ€§èƒ½</span></span><br><span class="line">  <span class="title function_">recordResource</span>(<span class="params">url, time</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">resource</span>.<span class="title function_">set</span>(url, time)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–æ€§èƒ½æ•°æ®</span></span><br><span class="line">  <span class="title function_">getData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; page, api, resource &#125; = <span class="variable language_">this</span>.<span class="property">data</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      page,</span><br><span class="line">      <span class="attr">api</span>: <span class="title class_">Array</span>.<span class="title function_">from</span>(api.<span class="title function_">entries</span>()).<span class="title function_">map</span>(<span class="function">(<span class="params">[url, data]</span>) =&gt;</span> (&#123;</span><br><span class="line">        url,</span><br><span class="line">        ...data,</span><br><span class="line">        <span class="attr">avg</span>: data.<span class="property">total</span> / data.<span class="property">count</span></span><br><span class="line">      &#125;)),</span><br><span class="line">      <span class="attr">resource</span>: <span class="title class_">Array</span>.<span class="title function_">from</span>(resource.<span class="title function_">entries</span>()).<span class="title function_">map</span>(<span class="function">(<span class="params">[url, time]</span>) =&gt;</span> (&#123;</span><br><span class="line">        url,</span><br><span class="line">        time</span><br><span class="line">      &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä¸ŠæŠ¥æ€§èƒ½æ•°æ®</span></span><br><span class="line">  <span class="title function_">report</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="variable language_">this</span>.<span class="title function_">getData</span>()</span><br><span class="line">    <span class="comment">// ä¸ŠæŠ¥é€»è¾‘</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ€§èƒ½æ•°æ®:&#x27;</span>, data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Performance</span>()</span><br></pre></td></tr></table></figure>

<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>ä¼˜åŒ–é¦–å±åŠ è½½</li>
<li>æå‡æ¸²æŸ“æ€§èƒ½</li>
<li>ç®¡ç†å†…å­˜èµ„æº</li>
<li>ä¼˜åŒ–ç½‘ç»œè¯·æ±‚</li>
<li>å®ç°æ€§èƒ½ç›‘æ§</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appåŠ¨ç”»æ•ˆæœå®æˆ˜ï¼šä»åŸºç¡€åˆ°é«˜çº§çš„åŠ¨ç”»å®ç°æŒ‡å—</title>
    <url>/2024/04/05/uniapp-animation/</url>
    <content><![CDATA[<blockquote>
<p>ä¼˜ç§€çš„åŠ¨ç”»æ•ˆæœå¯ä»¥å¤§å¤§æå‡åº”ç”¨çš„ç”¨æˆ·ä½“éªŒ,æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨uni-appä¸­å®ç°å„ç§åŠ¨ç”»æ•ˆæœ,åŠ©ä½ æ‰“é€ å‡ºè‰²çš„äº¤äº’ä½“éªŒã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-CSSåŠ¨ç”»åŸºç¡€"><a href="#1-CSSåŠ¨ç”»åŸºç¡€" class="headerlink" title="1. CSSåŠ¨ç”»åŸºç¡€"></a>1. CSSåŠ¨ç”»åŸºç¡€</h2><h3 id="1-1-è¿‡æ¸¡åŠ¨ç”»"><a href="#1-1-è¿‡æ¸¡åŠ¨ç”»" class="headerlink" title="1.1 è¿‡æ¸¡åŠ¨ç”»"></a>1.1 è¿‡æ¸¡åŠ¨ç”»</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;view </span><br><span class="line">      class=&quot;box&quot;</span><br><span class="line">      :class=&quot;&#123; active: isActive &#125;&quot;</span><br><span class="line">      @click=&quot;toggleActive&quot;</span><br><span class="line">    &gt;&lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      isActive: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleActive() &#123;</span><br><span class="line">      this.isActive = !this.isActive</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.box &#123;</span><br><span class="line">  width: 100rpx;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  background: #409eff;</span><br><span class="line">  transition: all 0.3s ease;</span><br><span class="line">  </span><br><span class="line">  &amp;.active &#123;</span><br><span class="line">    transform: scale(1.5) rotate(45deg);</span><br><span class="line">    background: #67c23a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-å…³é”®å¸§åŠ¨ç”»"><a href="#1-2-å…³é”®å¸§åŠ¨ç”»" class="headerlink" title="1.2 å…³é”®å¸§åŠ¨ç”»"></a>1.2 å…³é”®å¸§åŠ¨ç”»</h3><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">4</span>rpx solid <span class="number">#f3f3f3</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">4</span>rpx solid <span class="number">#3498db</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>: spin <span class="number">1s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> spin &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pulse</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#409eff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">animation</span>: pulse <span class="number">2s</span> ease-in-out infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> pulse &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.5</span>);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-JSåŠ¨ç”»å®ç°"><a href="#2-JSåŠ¨ç”»å®ç°" class="headerlink" title="2. JSåŠ¨ç”»å®ç°"></a>2. JSåŠ¨ç”»å®ç°</h2><h3 id="2-1-ä½¿ç”¨animationå¯¹è±¡"><a href="#2-1-ä½¿ç”¨animationå¯¹è±¡" class="headerlink" title="2.1 ä½¿ç”¨animationå¯¹è±¡"></a>2.1 ä½¿ç”¨animationå¯¹è±¡</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/animation.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">createAnimation</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> uni.<span class="title function_">createAnimation</span>(&#123;</span><br><span class="line">    <span class="attr">duration</span>: options.<span class="property">duration</span> || <span class="number">300</span>,</span><br><span class="line">    <span class="attr">timingFunction</span>: options.<span class="property">timingFunction</span> || <span class="string">&#x27;ease&#x27;</span>,</span><br><span class="line">    <span class="attr">delay</span>: options.<span class="property">delay</span> || <span class="number">0</span>,</span><br><span class="line">    <span class="attr">transformOrigin</span>: options.<span class="property">transformOrigin</span> || <span class="string">&#x27;50% 50% 0&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">:animation</span>=<span class="string">&quot;animationData&quot;</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;startAnimation&quot;</span>&gt;</span>å¼€å§‹åŠ¨ç”»<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; createAnimation &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/animation&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">animation</span>: <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">animationData</span>: &#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">startAnimation</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// åˆ›å»ºåŠ¨ç”»å®ä¾‹</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">const</span> animation = <span class="title function_">createAnimation</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// å®šä¹‰åŠ¨ç”»</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      animation</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        .<span class="title function_">scale</span>(<span class="number">1.5</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        .<span class="title function_">rotate</span>(<span class="number">45</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        .<span class="title function_">step</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        .<span class="title function_">scale</span>(<span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        .<span class="title function_">rotate</span>(<span class="number">0</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        .<span class="title function_">step</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// å¯¼å‡ºåŠ¨ç”»æ•°æ®</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">animationData</span> = animation.<span class="title function_">export</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-requestAnimationFrameå®ç°"><a href="#2-2-requestAnimationFrameå®ç°" class="headerlink" title="2.2 requestAnimationFrameå®ç°"></a>2.2 requestAnimationFrameå®ç°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/raf.js</span></span><br><span class="line"><span class="keyword">let</span> lastTime = <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">raf</span> = callback =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> currTime = <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>()</span><br><span class="line">  <span class="keyword">const</span> timeToCall = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, <span class="number">16</span> - (currTime - lastTime))</span><br><span class="line">  <span class="keyword">const</span> id = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">callback</span>(currTime + timeToCall)</span><br><span class="line">  &#125;, timeToCall)</span><br><span class="line">  lastTime = currTime + timeToCall</span><br><span class="line">  <span class="keyword">return</span> id</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">caf</span> = id =&gt; &#123;</span><br><span class="line">  <span class="built_in">clearTimeout</span>(id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> requestAnimationFrame = <span class="keyword">typeof</span> <span class="variable language_">window</span> !== <span class="string">&#x27;undefined&#x27;</span> </span><br><span class="line">  ? <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> || raf</span><br><span class="line">  : raf</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> cancelAnimationFrame = <span class="keyword">typeof</span> <span class="variable language_">window</span> !== <span class="string">&#x27;undefined&#x27;</span></span><br><span class="line">  ? <span class="variable language_">window</span>.<span class="property">cancelAnimationFrame</span> || caf</span><br><span class="line">  : caf</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Animator</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">duration</span> = options.<span class="property">duration</span> || <span class="number">300</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">easing</span> = options.<span class="property">easing</span> || (<span class="function"><span class="params">t</span> =&gt;</span> t)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">running</span> = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">animate</span>(<span class="params"><span class="keyword">from</span>, to, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> startTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">const</span> change = to - <span class="keyword">from</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">update</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">      <span class="keyword">const</span> currentTime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">      <span class="keyword">const</span> elapsed = currentTime - startTime</span><br><span class="line">      <span class="keyword">const</span> progress = <span class="title class_">Math</span>.<span class="title function_">min</span>(elapsed / <span class="variable language_">this</span>.<span class="property">duration</span>, <span class="number">1</span>)</span><br><span class="line">      <span class="keyword">const</span> value = <span class="keyword">from</span> + change * <span class="variable language_">this</span>.<span class="title function_">easing</span>(progress)</span><br><span class="line">      </span><br><span class="line">      <span class="title function_">callback</span>(value)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (progress &lt; <span class="number">1</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">running</span>) &#123;</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(update)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">running</span> = <span class="literal">true</span></span><br><span class="line">    <span class="title function_">requestAnimationFrame</span>(update)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">stop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">running</span> = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> animator = <span class="keyword">new</span> <span class="title class_">Animator</span>(&#123;</span><br><span class="line">  <span class="attr">duration</span>: <span class="number">1000</span>,</span><br><span class="line">  <span class="attr">easing</span>: <span class="function"><span class="params">t</span> =&gt;</span> t * t <span class="comment">// ç¼“åŠ¨å‡½æ•°</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">animator.<span class="title function_">animate</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ›´æ–°å…ƒç´ ä½ç½®</span></span><br><span class="line">  element.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`translateX(<span class="subst">$&#123;value&#125;</span>px)`</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-æ‰‹åŠ¿åŠ¨ç”»"><a href="#3-æ‰‹åŠ¿åŠ¨ç”»" class="headerlink" title="3. æ‰‹åŠ¿åŠ¨ç”»"></a>3. æ‰‹åŠ¿åŠ¨ç”»</h2><h3 id="3-1-æ‹–æ‹½åŠ¨ç”»"><a href="#3-1-æ‹–æ‹½åŠ¨ç”»" class="headerlink" title="3.1 æ‹–æ‹½åŠ¨ç”»"></a>3.1 æ‹–æ‹½åŠ¨ç”»</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;drag-container&quot;&gt;</span><br><span class="line">    &lt;view</span><br><span class="line">      class=&quot;drag-item&quot;</span><br><span class="line">      :style=&quot;itemStyle&quot;</span><br><span class="line">      @touchstart=&quot;handleTouchStart&quot;</span><br><span class="line">      @touchmove=&quot;handleTouchMove&quot;</span><br><span class="line">      @touchend=&quot;handleTouchEnd&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      æ‹–æ‹½æˆ‘</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      startX: 0,</span><br><span class="line">      startY: 0,</span><br><span class="line">      moveX: 0,</span><br><span class="line">      moveY: 0,</span><br><span class="line">      isDragging: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    itemStyle() &#123;</span><br><span class="line">      if (!this.isDragging) &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          transform: `translate3d($&#123;this.moveX&#125;px, $&#123;this.moveY&#125;px, 0)`,</span><br><span class="line">          transition: &#x27;transform 0.3s&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return &#123;</span><br><span class="line">        transform: `translate3d($&#123;this.moveX&#125;px, $&#123;this.moveY&#125;px, 0)`</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleTouchStart(e) &#123;</span><br><span class="line">      const touch = e.touches[0]</span><br><span class="line">      this.startX = touch.clientX - this.moveX</span><br><span class="line">      this.startY = touch.clientY - this.moveY</span><br><span class="line">      this.isDragging = true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchMove(e) &#123;</span><br><span class="line">      const touch = e.touches[0]</span><br><span class="line">      this.moveX = touch.clientX - this.startX</span><br><span class="line">      this.moveY = touch.clientY - this.startY</span><br><span class="line">      </span><br><span class="line">      // é˜²æ­¢é¡µé¢æ»šåŠ¨</span><br><span class="line">      e.preventDefault()</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchEnd() &#123;</span><br><span class="line">      this.isDragging = false</span><br><span class="line">      </span><br><span class="line">      // åˆ¤æ–­æ˜¯å¦è¶…å‡ºè¾¹ç•Œ,å¦‚æœæ˜¯åˆ™å›å¼¹</span><br><span class="line">      const maxX = this.containerWidth - this.itemWidth</span><br><span class="line">      const maxY = this.containerHeight - this.itemHeight</span><br><span class="line">      </span><br><span class="line">      if (this.moveX &lt; 0) this.moveX = 0</span><br><span class="line">      if (this.moveY &lt; 0) this.moveY = 0</span><br><span class="line">      if (this.moveX &gt; maxX) this.moveX = maxX</span><br><span class="line">      if (this.moveY &gt; maxY) this.moveY = maxY</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.drag-container &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 500rpx;</span><br><span class="line">  background: #f5f5f5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.drag-item &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 200rpx;</span><br><span class="line">  height: 200rpx;</span><br><span class="line">  background: #409eff;</span><br><span class="line">  color: #fff;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  user-select: none;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ»‘åŠ¨åˆ é™¤"><a href="#3-2-æ»‘åŠ¨åˆ é™¤" class="headerlink" title="3.2 æ»‘åŠ¨åˆ é™¤"></a>3.2 æ»‘åŠ¨åˆ é™¤</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;swipe-container&quot;&gt;</span><br><span class="line">    &lt;view</span><br><span class="line">      class=&quot;swipe-item&quot;</span><br><span class="line">      :style=&quot;itemStyle&quot;</span><br><span class="line">      @touchstart=&quot;handleTouchStart&quot;</span><br><span class="line">      @touchmove=&quot;handleTouchMove&quot;</span><br><span class="line">      @touchend=&quot;handleTouchEnd&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;view class=&quot;swipe-content&quot;&gt;</span><br><span class="line">        åˆ—è¡¨é¡¹å†…å®¹</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">      &lt;view class=&quot;swipe-actions&quot;&gt;</span><br><span class="line">        &lt;view class=&quot;swipe-btn delete&quot; @click=&quot;handleDelete&quot;&gt;åˆ é™¤&lt;/view&gt;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">const THRESHOLD = 80 // æ»‘åŠ¨é˜ˆå€¼</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      startX: 0,</span><br><span class="line">      moveX: 0,</span><br><span class="line">      isMoving: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    itemStyle() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        transform: `translate3d($&#123;this.moveX&#125;px, 0, 0)`,</span><br><span class="line">        transition: this.isMoving ? &#x27;&#x27; : &#x27;transform 0.3s&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleTouchStart(e) &#123;</span><br><span class="line">      this.startX = e.touches[0].clientX - this.moveX</span><br><span class="line">      this.isMoving = true</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchMove(e) &#123;</span><br><span class="line">      const moveX = e.touches[0].clientX - this.startX</span><br><span class="line">      // é™åˆ¶åªèƒ½å‘å·¦æ»‘åŠ¨</span><br><span class="line">      this.moveX = Math.min(0, moveX)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleTouchEnd() &#123;</span><br><span class="line">      this.isMoving = false</span><br><span class="line">      // åˆ¤æ–­æ˜¯å¦è¶…è¿‡é˜ˆå€¼</span><br><span class="line">      if (Math.abs(this.moveX) &gt; THRESHOLD) &#123;</span><br><span class="line">        this.moveX = -100 // å±•å¼€åˆ é™¤æŒ‰é’®</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        this.moveX = 0 // å›å¼¹</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    handleDelete() &#123;</span><br><span class="line">      // åˆ é™¤é€»è¾‘</span><br><span class="line">      this.$emit(&#x27;delete&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.swipe-item &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  background: #fff;</span><br><span class="line">  </span><br><span class="line">  .swipe-content &#123;</span><br><span class="line">    height: 100%;</span><br><span class="line">    padding: 0 30rpx;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .swipe-actions &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    height: 100%;</span><br><span class="line">    display: flex;</span><br><span class="line">    transform: translateX(100%);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  .swipe-btn &#123;</span><br><span class="line">    width: 100rpx;</span><br><span class="line">    height: 100%;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    color: #fff;</span><br><span class="line">    </span><br><span class="line">    &amp;.delete &#123;</span><br><span class="line">      background: #f56c6c;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="4-é«˜çº§åŠ¨ç”»æŠ€å·§"><a href="#4-é«˜çº§åŠ¨ç”»æŠ€å·§" class="headerlink" title="4. é«˜çº§åŠ¨ç”»æŠ€å·§"></a>4. é«˜çº§åŠ¨ç”»æŠ€å·§</h2><h3 id="4-1-è·¯ç”±è½¬åœºåŠ¨ç”»"><a href="#4-1-è·¯ç”±è½¬åœºåŠ¨ç”»" class="headerlink" title="4.1 è·¯ç”±è½¬åœºåŠ¨ç”»"></a>4.1 è·¯ç”±è½¬åœºåŠ¨ç”»</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;page-container&quot;&gt;</span><br><span class="line">    &lt;view </span><br><span class="line">      class=&quot;page-wrapper&quot;</span><br><span class="line">      :class=&quot;transitionClass&quot;</span><br><span class="line">      :style=&quot;&#123; &#x27;z-index&#x27;: zIndex &#125;&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    name: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;fade&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      transitionClass: &#x27;&#x27;,</span><br><span class="line">      zIndex: 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    enter() &#123;</span><br><span class="line">      this.zIndex = 2</span><br><span class="line">      this.transitionClass = `$&#123;this.name&#125;-enter`</span><br><span class="line">      requestAnimationFrame(() =&gt; &#123;</span><br><span class="line">        this.transitionClass = `$&#123;this.name&#125;-enter $&#123;this.name&#125;-enter-active`</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    leave() &#123;</span><br><span class="line">      this.zIndex = 1</span><br><span class="line">      this.transitionClass = `$&#123;this.name&#125;-leave`</span><br><span class="line">      requestAnimationFrame(() =&gt; &#123;</span><br><span class="line">        this.transitionClass = `$&#123;this.name&#125;-leave $&#123;this.name&#125;-leave-active`</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.page-container &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.page-wrapper &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  transition: all 0.3s;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ·¡å…¥æ·¡å‡º</span><br><span class="line">.fade-enter &#123;</span><br><span class="line">  opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line">.fade-enter-active &#123;</span><br><span class="line">  opacity: 1;</span><br><span class="line">&#125;</span><br><span class="line">.fade-leave &#123;</span><br><span class="line">  opacity: 1;</span><br><span class="line">&#125;</span><br><span class="line">.fade-leave-active &#123;</span><br><span class="line">  opacity: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ»‘åŠ¨</span><br><span class="line">.slide-enter &#123;</span><br><span class="line">  transform: translateX(100%);</span><br><span class="line">&#125;</span><br><span class="line">.slide-enter-active &#123;</span><br><span class="line">  transform: translateX(0);</span><br><span class="line">&#125;</span><br><span class="line">.slide-leave &#123;</span><br><span class="line">  transform: translateX(0);</span><br><span class="line">&#125;</span><br><span class="line">.slide-leave-active &#123;</span><br><span class="line">  transform: translateX(-100%);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-åˆ—è¡¨åŠ¨ç”»"><a href="#4-2-åˆ—è¡¨åŠ¨ç”»" class="headerlink" title="4.2 åˆ—è¡¨åŠ¨ç”»"></a>4.2 åˆ—è¡¨åŠ¨ç”»</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;list-container&quot;&gt;</span><br><span class="line">    &lt;view</span><br><span class="line">      v-for=&quot;(item, index) in list&quot;</span><br><span class="line">      :key=&quot;item.id&quot;</span><br><span class="line">      class=&quot;list-item&quot;</span><br><span class="line">      :style=&quot;getItemStyle(index)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123;&#123; item.text &#125;&#125;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      list: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    getItemStyle(index) &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        animation: `slideIn 0.3s ease-out $&#123;index * 0.1&#125;s both`</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    addItem() &#123;</span><br><span class="line">      this.list.push(&#123;</span><br><span class="line">        id: Date.now(),</span><br><span class="line">        text: &#x27;æ–°é¡¹ç›®&#x27;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    removeItem(index) &#123;</span><br><span class="line">      this.list.splice(index, 1)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.list-item &#123;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  margin: 20rpx;</span><br><span class="line">  background: #fff;</span><br><span class="line">  border-radius: 8rpx;</span><br><span class="line">  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes slideIn &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    transform: translateY(60rpx);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    opacity: 1;</span><br><span class="line">    transform: translateY(0);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-æ€§èƒ½ä¼˜åŒ–"><a href="#5-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="5. æ€§èƒ½ä¼˜åŒ–"></a>5. æ€§èƒ½ä¼˜åŒ–</h2><ol>
<li>ä½¿ç”¨transformä»£æ›¿ä½ç½®å±æ€§</li>
<li>ä½¿ç”¨will-changeæç¤ºæµè§ˆå™¨</li>
<li>é¿å…åŒæ—¶åŠ¨ç”»è¿‡å¤šå…ƒç´ </li>
<li>é€‚å½“ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ</li>
<li>åˆç†è®¾ç½®åŠ¨ç”»å¸§ç‡</li>
</ol>
<h2 id="6-æœ€ä½³å®è·µå»ºè®®"><a href="#6-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="6. æœ€ä½³å®è·µå»ºè®®"></a>6. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>åŠ¨ç”»è¦æœ‰ç›®çš„æ€§</li>
<li>éµå¾ªç‰©ç†è¿åŠ¨è§„å¾‹</li>
<li>æ³¨æ„åŠ¨ç”»æ—¶é•¿æ§åˆ¶</li>
<li>æä¾›åŠ¨ç”»å¼€å…³é€‰é¡¹</li>
<li>åšå¥½æ€§èƒ½ä¼˜åŒ–</li>
</ol>
<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>æŒæ¡åŠ¨ç”»åŸºç¡€çŸ¥è¯†</li>
<li>çµæ´»è¿ç”¨å¤šç§å®ç°æ–¹å¼</li>
<li>æ³¨æ„æ€§èƒ½ä¼˜åŒ–</li>
<li>æå‡ç”¨æˆ·ä½“éªŒ</li>
<li>ä¿æŒä»£ç å¯ç»´æŠ¤æ€§</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>åŠ¨ç”»æ•ˆæœ</tag>
        <tag>CSSåŠ¨ç”»</tag>
        <tag>JSåŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appç»„ä»¶å¼€å‘å®æˆ˜ï¼šä»åŸºç¡€åˆ°è¿›é˜¶çš„æœ€ä½³å®è·µ</title>
    <url>/2024/03/30/uniapp-component/</url>
    <content><![CDATA[<blockquote>
<p>ç»„ä»¶åŒ–å¼€å‘æ˜¯ç°ä»£å‰ç«¯çš„é‡è¦ç‰¹å¾,æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨uni-appä¸­å¼€å‘é«˜è´¨é‡çš„UIç»„ä»¶,åŠ©ä½ æ‰“é€ è‡ªå·±çš„ç»„ä»¶åº“ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-ç»„ä»¶åŸºç¡€å¼€å‘"><a href="#1-ç»„ä»¶åŸºç¡€å¼€å‘" class="headerlink" title="1. ç»„ä»¶åŸºç¡€å¼€å‘"></a>1. ç»„ä»¶åŸºç¡€å¼€å‘</h2><h3 id="1-1-ç»„ä»¶ç›®å½•ç»“æ„"><a href="#1-1-ç»„ä»¶ç›®å½•ç»“æ„" class="headerlink" title="1.1 ç»„ä»¶ç›®å½•ç»“æ„"></a>1.1 ç»„ä»¶ç›®å½•ç»“æ„</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">components</span><br><span class="line">â”œâ”€â”€ base              <span class="comment"># åŸºç¡€ç»„ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ button</span><br><span class="line">â”‚   â”œâ”€â”€ input</span><br><span class="line">â”‚   â””â”€â”€ icon</span><br><span class="line">â”œâ”€â”€ business          <span class="comment"># ä¸šåŠ¡ç»„ä»¶</span></span><br><span class="line">â”‚   â”œâ”€â”€ product-card</span><br><span class="line">â”‚   â”œâ”€â”€ order-item</span><br><span class="line">â”‚   â””â”€â”€ user-info</span><br><span class="line">â””â”€â”€ common           <span class="comment"># å…¬å…±ç»„ä»¶</span></span><br><span class="line">    â”œâ”€â”€ loading</span><br><span class="line">    â”œâ”€â”€ empty</span><br><span class="line">    â””â”€â”€ error</span><br></pre></td></tr></table></figure>

<h3 id="1-2-åŸºç¡€ç»„ä»¶ç¤ºä¾‹"><a href="#1-2-åŸºç¡€ç»„ä»¶ç¤ºä¾‹" class="headerlink" title="1.2 åŸºç¡€ç»„ä»¶ç¤ºä¾‹"></a>1.2 åŸºç¡€ç»„ä»¶ç¤ºä¾‹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- components/base/button/index.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view </span><br><span class="line">    class=&quot;custom-button&quot;</span><br><span class="line">    :class=&quot;[</span><br><span class="line">      `custom-button--$&#123;type&#125;`,</span><br><span class="line">      `custom-button--$&#123;size&#125;`,</span><br><span class="line">      &#123;</span><br><span class="line">        &#x27;custom-button--plain&#x27;: plain,</span><br><span class="line">        &#x27;custom-button--disabled&#x27;: disabled,</span><br><span class="line">        &#x27;custom-button--loading&#x27;: loading</span><br><span class="line">      &#125;</span><br><span class="line">    ]&quot;</span><br><span class="line">    :hover-class=&quot;disabled ? &#x27;&#x27; : &#x27;custom-button--hover&#x27;&quot;</span><br><span class="line">    @click=&quot;handleClick&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;view class=&quot;custom-button__content&quot;&gt;</span><br><span class="line">      &lt;text v-if=&quot;loading&quot; class=&quot;custom-button__loading&quot;&gt;&lt;/text&gt;</span><br><span class="line">      &lt;text v-if=&quot;icon&quot; class=&quot;custom-button__icon&quot; :class=&quot;icon&quot;&gt;&lt;/text&gt;</span><br><span class="line">      &lt;text class=&quot;custom-button__text&quot;&gt;&lt;slot&gt;&lt;/slot&gt;&lt;/text&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;CustomButton&#x27;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    // æŒ‰é’®ç±»å‹</span><br><span class="line">    type: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;default&#x27;,</span><br><span class="line">      validator: value =&gt; &#123;</span><br><span class="line">        return [&#x27;default&#x27;, &#x27;primary&#x27;, &#x27;success&#x27;, &#x27;warning&#x27;, &#x27;danger&#x27;].includes(value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æŒ‰é’®å°ºå¯¸</span><br><span class="line">    size: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;normal&#x27;,</span><br><span class="line">      validator: value =&gt; &#123;</span><br><span class="line">        return [&#x27;small&#x27;, &#x27;normal&#x27;, &#x27;large&#x27;].includes(value)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    // æ˜¯å¦æœ´ç´ æŒ‰é’®</span><br><span class="line">    plain: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    // æ˜¯å¦ç¦ç”¨</span><br><span class="line">    disabled: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    // æ˜¯å¦åŠ è½½ä¸­</span><br><span class="line">    loading: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    // å›¾æ ‡ç±»å</span><br><span class="line">    icon: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick(event) &#123;</span><br><span class="line">      if (this.disabled || this.loading) return</span><br><span class="line">      this.$emit(&#x27;click&#x27;, event)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style lang=&quot;scss&quot;&gt;</span><br><span class="line">.custom-button &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  display: inline-flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  padding: 0 30rpx;</span><br><span class="line">  font-size: 28rpx;</span><br><span class="line">  height: 80rpx;</span><br><span class="line">  line-height: 1;</span><br><span class="line">  text-align: center;</span><br><span class="line">  border-radius: 8rpx;</span><br><span class="line">  background: #fff;</span><br><span class="line">  border: 2rpx solid #dcdfe6;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  transition: all 0.3s;</span><br><span class="line">  </span><br><span class="line">  &amp;--hover &#123;</span><br><span class="line">    opacity: 0.8;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--primary &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: #409eff;</span><br><span class="line">    border-color: #409eff;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--success &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: #67c23a;</span><br><span class="line">    border-color: #67c23a;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--warning &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: #e6a23c;</span><br><span class="line">    border-color: #e6a23c;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--danger &#123;</span><br><span class="line">    color: #fff;</span><br><span class="line">    background: #f56c6c;</span><br><span class="line">    border-color: #f56c6c;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--plain &#123;</span><br><span class="line">    background: transparent;</span><br><span class="line">    </span><br><span class="line">    &amp;.custom-button--primary &#123;</span><br><span class="line">      color: #409eff;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &amp;.custom-button--success &#123;</span><br><span class="line">      color: #67c23a;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &amp;.custom-button--warning &#123;</span><br><span class="line">      color: #e6a23c;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    &amp;.custom-button--danger &#123;</span><br><span class="line">      color: #f56c6c;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--disabled &#123;</span><br><span class="line">    opacity: 0.5;</span><br><span class="line">    cursor: not-allowed;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--small &#123;</span><br><span class="line">    height: 60rpx;</span><br><span class="line">    padding: 0 20rpx;</span><br><span class="line">    font-size: 24rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;--large &#123;</span><br><span class="line">    height: 100rpx;</span><br><span class="line">    padding: 0 40rpx;</span><br><span class="line">    font-size: 32rpx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;__content &#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    align-items: center;</span><br><span class="line">    justify-content: center;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;__loading &#123;</span><br><span class="line">    width: 28rpx;</span><br><span class="line">    height: 28rpx;</span><br><span class="line">    margin-right: 10rpx;</span><br><span class="line">    border: 2rpx solid currentColor;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    border-right-color: transparent;</span><br><span class="line">    animation: button-loading 0.8s linear infinite;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  &amp;__icon &#123;</span><br><span class="line">    margin-right: 10rpx;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes button-loading &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    transform: rotate(0);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    transform: rotate(360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-ç»„ä»¶é€šä¿¡æ–¹å¼"><a href="#2-ç»„ä»¶é€šä¿¡æ–¹å¼" class="headerlink" title="2. ç»„ä»¶é€šä¿¡æ–¹å¼"></a>2. ç»„ä»¶é€šä¿¡æ–¹å¼</h2><h3 id="2-1-Props-Events"><a href="#2-1-Props-Events" class="headerlink" title="2.1 Props/Events"></a>2.1 Props/Events</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;custom-form</span><br><span class="line">    :model=&quot;formData&quot;</span><br><span class="line">    :rules=&quot;formRules&quot;</span><br><span class="line">    @submit=&quot;handleSubmit&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    &lt;custom-form-item label=&quot;ç”¨æˆ·å&quot; prop=&quot;username&quot;&gt;</span><br><span class="line">      &lt;custom-input v-model=&quot;formData.username&quot; /&gt;</span><br><span class="line">    &lt;/custom-form-item&gt;</span><br><span class="line">  &lt;/custom-form&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      formData: &#123;</span><br><span class="line">        username: &#x27;&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line">      formRules: &#123;</span><br><span class="line">        username: [</span><br><span class="line">          &#123; required: true, message: &#x27;è¯·è¾“å…¥ç”¨æˆ·å&#x27; &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleSubmit(values) &#123;</span><br><span class="line">      console.log(&#x27;è¡¨å•æäº¤:&#x27;, values)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-Provide-Inject"><a href="#2-2-Provide-Inject" class="headerlink" title="2.2 Provide/Inject"></a>2.2 Provide/Inject</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- components/form/index.vue --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;CustomForm&#x27;,</span><br><span class="line">  provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      form: this</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    model: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      required: true</span><br><span class="line">    &#125;,</span><br><span class="line">    rules: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: () =&gt; (&#123;&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    validate(callback) &#123;</span><br><span class="line">      // è¡¨å•éªŒè¯é€»è¾‘</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- components/form-item/index.vue --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;CustomFormItem&#x27;,</span><br><span class="line">  inject: [&#x27;form&#x27;],</span><br><span class="line">  props: &#123;</span><br><span class="line">    label: String,</span><br><span class="line">    prop: String</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    if (this.prop) &#123;</span><br><span class="line">      this.form.fields.push(this)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-è·¨ç«¯é€‚é…"><a href="#3-è·¨ç«¯é€‚é…" class="headerlink" title="3. è·¨ç«¯é€‚é…"></a>3. è·¨ç«¯é€‚é…</h2><h3 id="3-1-æ¡ä»¶ç¼–è¯‘"><a href="#3-1-æ¡ä»¶ç¼–è¯‘" class="headerlink" title="3.1 æ¡ä»¶ç¼–è¯‘"></a>3.1 æ¡ä»¶ç¼–è¯‘</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;custom-input&quot;&gt;</span><br><span class="line">    &lt;!-- #ifdef MP --&gt;</span><br><span class="line">    &lt;input </span><br><span class="line">      :value=&quot;value&quot;</span><br><span class="line">      :type=&quot;type&quot;</span><br><span class="line">      :password=&quot;password&quot;</span><br><span class="line">      :placeholder=&quot;placeholder&quot;</span><br><span class="line">      :disabled=&quot;disabled&quot;</span><br><span class="line">      :maxlength=&quot;maxlength&quot;</span><br><span class="line">      @input=&quot;handleInput&quot;</span><br><span class="line">      @focus=&quot;handleFocus&quot;</span><br><span class="line">      @blur=&quot;handleBlur&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- #endif --&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!-- #ifdef H5 --&gt;</span><br><span class="line">    &lt;input </span><br><span class="line">      v-model=&quot;inputValue&quot;</span><br><span class="line">      :type=&quot;type&quot;</span><br><span class="line">      :placeholder=&quot;placeholder&quot;</span><br><span class="line">      :disabled=&quot;disabled&quot;</span><br><span class="line">      :maxlength=&quot;maxlength&quot;</span><br><span class="line">      @focus=&quot;handleFocus&quot;</span><br><span class="line">      @blur=&quot;handleBlur&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;!-- #endif --&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;CustomInput&#x27;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    value: String,</span><br><span class="line">    type: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;text&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    password: Boolean,</span><br><span class="line">    placeholder: String,</span><br><span class="line">    disabled: Boolean,</span><br><span class="line">    maxlength: &#123;</span><br><span class="line">      type: Number,</span><br><span class="line">      default: -1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      inputValue: this.value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    value(val) &#123;</span><br><span class="line">      this.inputValue = val</span><br><span class="line">    &#125;,</span><br><span class="line">    inputValue(val) &#123;</span><br><span class="line">      this.$emit(&#x27;input&#x27;, val)</span><br><span class="line">      this.$emit(&#x27;change&#x27;, val)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleInput(e) &#123;</span><br><span class="line">      // #ifdef MP</span><br><span class="line">      const value = e.detail.value</span><br><span class="line">      // #endif</span><br><span class="line">      </span><br><span class="line">      // #ifdef H5</span><br><span class="line">      const value = e.target.value</span><br><span class="line">      // #endif</span><br><span class="line">      </span><br><span class="line">      this.inputValue = value</span><br><span class="line">    &#125;,</span><br><span class="line">    handleFocus(e) &#123;</span><br><span class="line">      this.$emit(&#x27;focus&#x27;, e)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleBlur(e) &#123;</span><br><span class="line">      this.$emit(&#x27;blur&#x27;, e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ ·å¼é€‚é…"><a href="#3-2-æ ·å¼é€‚é…" class="headerlink" title="3.2 æ ·å¼é€‚é…"></a>3.2 æ ·å¼é€‚é…</h3><figure class="highlight scss"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* styles/mixins.scss */</span></span><br><span class="line"><span class="comment">// 1pxè¾¹æ¡†</span></span><br><span class="line"><span class="keyword">@mixin</span> hairline(<span class="variable">$position</span>: bottom, <span class="variable">$color</span>: <span class="number">#dcdfe6</span>) &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  </span><br><span class="line">  &amp;<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    #&#123;<span class="variable">$position</span>&#125;: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="variable">$color</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.5</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// #ifdef H5</span></span><br><span class="line">    <span class="keyword">@media</span> (<span class="attribute">-webkit-min-device-pixel-ratio</span>: <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®‰å…¨åŒºåŸŸ</span></span><br><span class="line"><span class="keyword">@mixin</span> safe-area(<span class="variable">$position</span>: bottom) &#123;</span><br><span class="line">  <span class="comment">// #ifdef H5</span></span><br><span class="line">  <span class="attribute">padding</span>-#&#123;<span class="variable">$position</span>&#125;: <span class="built_in">constant</span>(safe-area-inset-#&#123;<span class="variable">$position</span>&#125;);</span><br><span class="line">  <span class="attribute">padding</span>-#&#123;<span class="variable">$position</span>&#125;: <span class="built_in">env</span>(safe-area-inset-#&#123;<span class="variable">$position</span>&#125;);</span><br><span class="line">  <span class="comment">// #endif</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// #ifdef MP</span></span><br><span class="line">  <span class="attribute">padding</span>-#&#123;<span class="variable">$position</span>&#125;: <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// #endif</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-ç»„ä»¶ä¼˜åŒ–"><a href="#4-ç»„ä»¶ä¼˜åŒ–" class="headerlink" title="4. ç»„ä»¶ä¼˜åŒ–"></a>4. ç»„ä»¶ä¼˜åŒ–</h2><h3 id="4-1-æ€§èƒ½ä¼˜åŒ–"><a href="#4-1-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="4.1 æ€§èƒ½ä¼˜åŒ–"></a>4.1 æ€§èƒ½ä¼˜åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;CustomList&#x27;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    list: Array</span><br><span class="line">  &#125;,</span><br><span class="line">  // é¿å…ä¸å¿…è¦çš„æ›´æ–°</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      renderList: this.list.map(item =&gt; (&#123;</span><br><span class="line">        ...item,</span><br><span class="line">        _id: item.id</span><br><span class="line">      &#125;))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    list: &#123;</span><br><span class="line">      handler(val) &#123;</span><br><span class="line">        this.renderList = val.map(item =&gt; (&#123;</span><br><span class="line">          ...item,</span><br><span class="line">          _id: item.id</span><br><span class="line">        &#125;))</span><br><span class="line">      &#125;,</span><br><span class="line">      deep: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-ä½“éªŒä¼˜åŒ–"><a href="#4-2-ä½“éªŒä¼˜åŒ–" class="headerlink" title="4.2 ä½“éªŒä¼˜åŒ–"></a>4.2 ä½“éªŒä¼˜åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;custom-image&quot; :style=&quot;imageStyle&quot;&gt;</span><br><span class="line">    &lt;image</span><br><span class="line">      :src=&quot;src&quot;</span><br><span class="line">      :mode=&quot;mode&quot;</span><br><span class="line">      :lazy-load=&quot;lazyLoad&quot;</span><br><span class="line">      @load=&quot;handleLoad&quot;</span><br><span class="line">      @error=&quot;handleError&quot;</span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;view v-if=&quot;loading&quot; class=&quot;custom-image__loading&quot;&gt;</span><br><span class="line">      &lt;text class=&quot;custom-image__loading-text&quot;&gt;åŠ è½½ä¸­...&lt;/text&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">    &lt;view v-if=&quot;error&quot; class=&quot;custom-image__error&quot;&gt;</span><br><span class="line">      &lt;text class=&quot;custom-image__error-text&quot;&gt;åŠ è½½å¤±è´¥&lt;/text&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;CustomImage&#x27;,</span><br><span class="line">  props: &#123;</span><br><span class="line">    src: String,</span><br><span class="line">    mode: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;aspectFill&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    width: &#123;</span><br><span class="line">      type: [String, Number],</span><br><span class="line">      default: &#x27;100%&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    height: &#123;</span><br><span class="line">      type: [String, Number],</span><br><span class="line">      default: &#x27;100%&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    lazyLoad: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      loading: true,</span><br><span class="line">      error: false</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    imageStyle() &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        width: typeof this.width === &#x27;number&#x27; ? `$&#123;this.width&#125;rpx` : this.width,</span><br><span class="line">        height: typeof this.height === &#x27;number&#x27; ? `$&#123;this.height&#125;rpx` : this.height</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleLoad(e) &#123;</span><br><span class="line">      this.loading = false</span><br><span class="line">      this.$emit(&#x27;load&#x27;, e)</span><br><span class="line">    &#125;,</span><br><span class="line">    handleError(e) &#123;</span><br><span class="line">      this.loading = false</span><br><span class="line">      this.error = true</span><br><span class="line">      this.$emit(&#x27;error&#x27;, e)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-æœ€ä½³å®è·µå»ºè®®"><a href="#5-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="5. æœ€ä½³å®è·µå»ºè®®"></a>5. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>ç»„ä»¶å‘½åè§„èŒƒ</li>
<li>åˆç†çš„ç›®å½•ç»“æ„</li>
<li>å®Œå–„çš„æ–‡æ¡£è¯´æ˜</li>
<li>ç»Ÿä¸€çš„æ ·å¼è§„èŒƒ</li>
<li>åšå¥½è·¨ç«¯é€‚é…</li>
</ol>
<h2 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h2><ol>
<li>æŒæ¡ç»„ä»¶å¼€å‘åŸºç¡€</li>
<li>å®ç°ç»„ä»¶é€šä¿¡</li>
<li>å¤„ç†è·¨ç«¯é€‚é…</li>
<li>ä¼˜åŒ–ç»„ä»¶æ€§èƒ½</li>
<li>æå‡ç”¨æˆ·ä½“éªŒ</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>ç»„ä»¶å¼€å‘</tag>
        <tag>UIç»„ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appç½‘ç»œè¯·æ±‚ä¸ç¼“å­˜ç­–ç•¥ï¼šæ„å»ºé«˜æ•ˆçš„æ•°æ®å±‚</title>
    <url>/2024/03/25/uniapp-network/</url>
    <content><![CDATA[<blockquote>
<p>ç½‘ç»œè¯·æ±‚å’Œæ•°æ®ç¼“å­˜æ˜¯åº”ç”¨å¼€å‘ä¸­çš„å…³é”®ç¯èŠ‚,æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨uni-appä¸­æ„å»ºé«˜æ•ˆå¯é çš„æ•°æ®å±‚ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-ç½‘ç»œè¯·æ±‚å°è£…"><a href="#1-ç½‘ç»œè¯·æ±‚å°è£…" class="headerlink" title="1. ç½‘ç»œè¯·æ±‚å°è£…"></a>1. ç½‘ç»œè¯·æ±‚å°è£…</h2><h3 id="1-1-åŸºç¡€è¯·æ±‚ç±»"><a href="#1-1-åŸºç¡€è¯·æ±‚ç±»" class="headerlink" title="1.1 åŸºç¡€è¯·æ±‚ç±»"></a>1.1 åŸºç¡€è¯·æ±‚ç±»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/request.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Request</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">baseURL</span> = options.<span class="property">baseURL</span> || <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">timeout</span> = options.<span class="property">timeout</span> || <span class="number">60000</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">header</span> = options.<span class="property">header</span> || &#123;&#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">beforeRequest</span> = options.<span class="property">beforeRequest</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">afterRequest</span> = options.<span class="property">afterRequest</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line">  <span class="title function_">beforeRequest</span>(<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ token</span></span><br><span class="line">    <span class="keyword">const</span> token = uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      config.<span class="property">header</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å“åº”æ‹¦æˆª</span></span><br><span class="line">  <span class="title function_">afterRequest</span>(<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; statusCode, data &#125; = response</span><br><span class="line">    <span class="keyword">if</span> (statusCode &gt;= <span class="number">200</span> &amp;&amp; statusCode &lt; <span class="number">300</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> data</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">request</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    options.<span class="property">baseURL</span> = options.<span class="property">baseURL</span> || <span class="variable language_">this</span>.<span class="property">baseURL</span></span><br><span class="line">    options.<span class="property">timeout</span> = options.<span class="property">timeout</span> || <span class="variable language_">this</span>.<span class="property">timeout</span></span><br><span class="line">    options.<span class="property">header</span> = &#123; ...<span class="variable language_">this</span>.<span class="property">header</span>, ...options.<span class="property">header</span> &#125;</span><br><span class="line">    options.<span class="property">method</span> = options.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">beforeRequest</span>) &#123;</span><br><span class="line">      options = <span class="variable language_">this</span>.<span class="title function_">beforeRequest</span>(options)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">        ...options,</span><br><span class="line">        <span class="attr">url</span>: options.<span class="property">baseURL</span> + options.<span class="property">url</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">// å“åº”æ‹¦æˆª</span></span><br><span class="line">          <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">afterRequest</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">const</span> data = <span class="variable language_">this</span>.<span class="title function_">afterRequest</span>(res)</span><br><span class="line">              <span class="title function_">resolve</span>(data)</span><br><span class="line">            &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">              <span class="title function_">reject</span>(error)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(res.<span class="property">data</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å°è£…å¸¸ç”¨è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">get</span>(<span class="params">url, data = &#123;&#125;, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123;</span><br><span class="line">      url,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">      ...options</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">post</span>(<span class="params">url, data = &#123;&#125;, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123;</span><br><span class="line">      url,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      ...options</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">put</span>(<span class="params">url, data = &#123;&#125;, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123;</span><br><span class="line">      url,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;PUT&#x27;</span>,</span><br><span class="line">      ...options</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">delete</span>(<span class="params">url, data = &#123;&#125;, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">request</span>(&#123;</span><br><span class="line">      url,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;DELETE&#x27;</span>,</span><br><span class="line">      ...options</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Request</span>(&#123;</span><br><span class="line">  <span class="attr">baseURL</span>: process.<span class="property">env</span>.<span class="property">VUE_APP_BASE_API</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">10000</span>,</span><br><span class="line">  <span class="attr">header</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-è¯·æ±‚æ‹¦æˆªå™¨"><a href="#1-2-è¯·æ±‚æ‹¦æˆªå™¨" class="headerlink" title="1.2 è¯·æ±‚æ‹¦æˆªå™¨"></a>1.2 è¯·æ±‚æ‹¦æˆªå™¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/interceptors.js</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;@/store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯·æ±‚é˜Ÿåˆ—</span></span><br><span class="line"><span class="keyword">let</span> requestQueue = []</span><br><span class="line"><span class="comment">// æ˜¯å¦æ­£åœ¨åˆ·æ–°token</span></span><br><span class="line"><span class="keyword">let</span> isRefreshing = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">requestInterceptor</span> = (<span class="params">config</span>) =&gt; &#123;</span><br><span class="line">  <span class="comment">// æ·»åŠ token</span></span><br><span class="line">  <span class="keyword">const</span> token = uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (token) &#123;</span><br><span class="line">    config.<span class="property">header</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> config</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">responseInterceptor</span> = <span class="keyword">async</span> (<span class="params">response</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; statusCode, data &#125; = response</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// tokenè¿‡æœŸå¤„ç†</span></span><br><span class="line">  <span class="keyword">if</span> (statusCode === <span class="number">401</span>) &#123;</span><br><span class="line">    <span class="comment">// å°†è¯·æ±‚æ·»åŠ åˆ°é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">const</span> retryRequest = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">      requestQueue.<span class="title function_">push</span>(<span class="function">(<span class="params">token</span>) =&gt;</span> &#123;</span><br><span class="line">        config.<span class="property">header</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">        <span class="title function_">resolve</span>(request.<span class="title function_">request</span>(config))</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ˜¯å¦æ­£åœ¨åˆ·æ–°token</span></span><br><span class="line">    <span class="keyword">if</span> (!isRefreshing) &#123;</span><br><span class="line">      isRefreshing = <span class="literal">true</span></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ·æ–°token</span></span><br><span class="line">        <span class="keyword">const</span> &#123; token &#125; = <span class="keyword">await</span> store.<span class="title function_">dispatch</span>(<span class="string">&#x27;user/refreshToken&#x27;</span>)</span><br><span class="line">        <span class="comment">// é‡è¯•é˜Ÿåˆ—ä¸­çš„è¯·æ±‚</span></span><br><span class="line">        requestQueue.<span class="title function_">forEach</span>(<span class="function"><span class="params">callback</span> =&gt;</span> <span class="title function_">callback</span>(token))</span><br><span class="line">        requestQueue = []</span><br><span class="line">        <span class="keyword">return</span> request.<span class="title function_">request</span>(config)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="comment">// åˆ·æ–°tokenå¤±è´¥,è·³è½¬ç™»å½•é¡µ</span></span><br><span class="line">        store.<span class="title function_">dispatch</span>(<span class="string">&#x27;user/logout&#x27;</span>)</span><br><span class="line">        uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;/pages/login/index&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        isRefreshing = <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> retryRequest</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ•°æ®ç¼“å­˜ç­–ç•¥"><a href="#2-æ•°æ®ç¼“å­˜ç­–ç•¥" class="headerlink" title="2. æ•°æ®ç¼“å­˜ç­–ç•¥"></a>2. æ•°æ®ç¼“å­˜ç­–ç•¥</h2><h3 id="2-1-ç¼“å­˜ç®¡ç†ç±»"><a href="#2-1-ç¼“å­˜ç®¡ç†ç±»" class="headerlink" title="2.1 ç¼“å­˜ç®¡ç†ç±»"></a>2.1 ç¼“å­˜ç®¡ç†ç±»</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/cache.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cache</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">prefix</span> = options.<span class="property">prefix</span> || <span class="string">&#x27;app_&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">expire</span> = options.<span class="property">expire</span> || <span class="number">0</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">isEncrypt</span> = options.<span class="property">isEncrypt</span> || <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®ç¼“å­˜</span></span><br><span class="line">  <span class="title function_">setItem</span>(<span class="params">key, value, expire = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line">      value,</span><br><span class="line">      <span class="attr">time</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">      <span class="attr">expire</span>: expire || <span class="variable language_">this</span>.<span class="property">expire</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åŠ å¯†å¤„ç†</span></span><br><span class="line">    <span class="keyword">const</span> stringData = <span class="variable language_">this</span>.<span class="property">isEncrypt</span> </span><br><span class="line">      ? <span class="variable language_">this</span>.<span class="title function_">encrypt</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">      : <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data)</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      uni.<span class="title function_">setStorageSync</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key, stringData)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ç¼“å­˜è®¾ç½®å¤±è´¥:&#x27;</span>, error)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–ç¼“å­˜</span></span><br><span class="line">  <span class="title function_">getItem</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = uni.<span class="title function_">getStorageSync</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key)</span><br><span class="line">      <span class="keyword">if</span> (!data) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">// è§£å¯†å¤„ç†</span></span><br><span class="line">      <span class="keyword">const</span> storage = <span class="variable language_">this</span>.<span class="property">isEncrypt</span> </span><br><span class="line">        ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="title function_">decrypt</span>(data))</span><br><span class="line">        : <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">        </span><br><span class="line">      <span class="comment">// è¿‡æœŸåˆ¤æ–­</span></span><br><span class="line">      <span class="keyword">if</span> (storage.<span class="property">expire</span> &amp;&amp; <span class="title class_">Date</span>.<span class="title function_">now</span>() - storage.<span class="property">time</span> &gt; storage.<span class="property">expire</span> * <span class="number">1000</span>) &#123;</span><br><span class="line">        uni.<span class="title function_">removeStorageSync</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> storage.<span class="property">value</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ç¼“å­˜è·å–å¤±è´¥:&#x27;</span>, error)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç§»é™¤ç¼“å­˜</span></span><br><span class="line">  <span class="title function_">removeItem</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      uni.<span class="title function_">removeStorageSync</span>(<span class="variable language_">this</span>.<span class="property">prefix</span> + key)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ç¼“å­˜ç§»é™¤å¤±è´¥:&#x27;</span>, error)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¸…ç©ºç¼“å­˜</span></span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      uni.<span class="title function_">clearStorageSync</span>()</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ç¼“å­˜æ¸…ç©ºå¤±è´¥:&#x27;</span>, error)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åŠ å¯†æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">encrypt</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// å®ç°åŠ å¯†é€»è¾‘</span></span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è§£å¯†æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">decrypt</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// å®ç°è§£å¯†é€»è¾‘</span></span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Cache</span>(&#123;</span><br><span class="line">  <span class="attr">prefix</span>: <span class="string">&#x27;app_&#x27;</span>,</span><br><span class="line">  <span class="attr">expire</span>: <span class="number">7</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>, <span class="comment">// é»˜è®¤7å¤©è¿‡æœŸ</span></span><br><span class="line">  <span class="attr">isEncrypt</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span> <span class="comment">// ç”Ÿäº§ç¯å¢ƒå¼€å¯åŠ å¯†</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-2-æ•°æ®é¢„åŠ è½½"><a href="#2-2-æ•°æ®é¢„åŠ è½½" class="headerlink" title="2.2 æ•°æ®é¢„åŠ è½½"></a>2.2 æ•°æ®é¢„åŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/preload.js</span></span><br><span class="line"><span class="keyword">import</span> cache <span class="keyword">from</span> <span class="string">&#x27;./cache&#x27;</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;./request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Preload</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tasks</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ·»åŠ é¢„åŠ è½½ä»»åŠ¡</span></span><br><span class="line">  <span class="title function_">add</span>(<span class="params">key, promiseCreator</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">has</span>(key)) &#123;</span><br><span class="line">      <span class="keyword">const</span> task = <span class="title function_">promiseCreator</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">        cache.<span class="title function_">setItem</span>(key, data)</span><br><span class="line">        <span class="keyword">return</span> data</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">set</span>(key, task)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">get</span>(key)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–é¢„åŠ è½½æ•°æ®</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">get</span>(<span class="params">key, promiseCreator</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¼˜å…ˆä»ç¼“å­˜è·å–</span></span><br><span class="line">    <span class="keyword">const</span> cached = cache.<span class="title function_">getItem</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (cached) <span class="keyword">return</span> cached</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å…¶æ¬¡ä»é¢„åŠ è½½ä»»åŠ¡è·å–</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">has</span>(key)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">get</span>(key)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æœ€åå®æ—¶åŠ è½½</span></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">add</span>(key, promiseCreator)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ¸…é™¤é¢„åŠ è½½ä»»åŠ¡</span></span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">tasks</span>.<span class="title function_">clear</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Preload</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> preload = <span class="keyword">new</span> <span class="title class_">Preload</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„åŠ è½½æ•°æ®</span></span><br><span class="line">preload.<span class="title function_">add</span>(<span class="string">&#x27;userInfo&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/api/user/info&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> userInfo = <span class="keyword">await</span> preload.<span class="title function_">get</span>(<span class="string">&#x27;userInfo&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/api/user/info&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-å®é™…åº”ç”¨ç¤ºä¾‹"><a href="#3-å®é™…åº”ç”¨ç¤ºä¾‹" class="headerlink" title="3. å®é™…åº”ç”¨ç¤ºä¾‹"></a>3. å®é™…åº”ç”¨ç¤ºä¾‹</h2><h3 id="3-1-APIå°è£…"><a href="#3-1-APIå°è£…" class="headerlink" title="3.1 APIå°è£…"></a>3.1 APIå°è£…</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// api/user.js</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"><span class="keyword">import</span> cache <span class="keyword">from</span> <span class="string">&#x27;@/utils/cache&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">login</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">post</span>(<span class="string">&#x27;/api/login&#x27;</span>, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getUserInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> cache.<span class="title function_">remember</span>(<span class="string">&#x27;user_info&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/api/user/info&#x27;</span>)</span><br><span class="line">  &#125;, <span class="number">30</span> * <span class="number">60</span>) <span class="comment">// ç¼“å­˜30åˆ†é’Ÿ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">updateUserInfo</span>(<span class="params">data</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> request.<span class="title function_">put</span>(<span class="string">&#x27;/api/user/info&#x27;</span>, data).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°åæ¸…é™¤ç¼“å­˜</span></span><br><span class="line">    cache.<span class="title function_">removeItem</span>(<span class="string">&#x27;user_info&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-æ•°æ®é¢„åŠ è½½"><a href="#3-2-æ•°æ®é¢„åŠ è½½" class="headerlink" title="3.2 æ•°æ®é¢„åŠ è½½"></a>3.2 æ•°æ®é¢„åŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pages/index/index.vue</span></span><br><span class="line"><span class="keyword">import</span> preload <span class="keyword">from</span> <span class="string">&#x27;@/utils/preload&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// é¢„åŠ è½½ä¸‹ä¸€é¡µæ•°æ®</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">preloadNextPage</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">preloadNextPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> nextPage = <span class="variable language_">this</span>.<span class="property">currentPage</span> + <span class="number">1</span></span><br><span class="line">      preload.<span class="title function_">add</span>(<span class="string">`list_page_<span class="subst">$&#123;nextPage&#125;</span>`</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/api/list&#x27;</span>, &#123;</span><br><span class="line">          <span class="attr">page</span>: nextPage,</span><br><span class="line">          <span class="attr">size</span>: <span class="number">10</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">loadNextPage</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> nextPage = <span class="variable language_">this</span>.<span class="property">currentPage</span> + <span class="number">1</span></span><br><span class="line">      <span class="keyword">const</span> data = <span class="keyword">await</span> preload.<span class="title function_">get</span>(<span class="string">`list_page_<span class="subst">$&#123;nextPage&#125;</span>`</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> request.<span class="title function_">get</span>(<span class="string">&#x27;/api/list&#x27;</span>, &#123;</span><br><span class="line">          <span class="attr">page</span>: nextPage,</span><br><span class="line">          <span class="attr">size</span>: <span class="number">10</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">push</span>(...data.<span class="property">list</span>)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">currentPage</span> = nextPage</span><br><span class="line">      <span class="comment">// ç»§ç»­é¢„åŠ è½½ä¸‹ä¸€é¡µ</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">preloadNextPage</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-æœ€ä½³å®è·µå»ºè®®"><a href="#4-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="4. æœ€ä½³å®è·µå»ºè®®"></a>4. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>ç»Ÿä¸€å°è£…è¯·æ±‚æ–¹æ³•</li>
<li>å®ç°è¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆª</li>
<li>åˆç†ä½¿ç”¨æ•°æ®ç¼“å­˜</li>
<li>å®ç°æ•°æ®é¢„åŠ è½½</li>
<li>æ³¨æ„å®‰å…¨æ€§å¤„ç†</li>
</ol>
<h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><ol>
<li>æŒæ¡è¯·æ±‚å°è£…æŠ€å·§</li>
<li>å®ç°æ•°æ®ç¼“å­˜ç­–ç•¥</li>
<li>ä¼˜åŒ–æ•°æ®åŠ è½½ä½“éªŒ</li>
<li>å¤„ç†å¼‚å¸¸æƒ…å†µ</li>
<li>ä¿è¯æ•°æ®å®‰å…¨æ€§</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>ç½‘ç»œè¯·æ±‚</tag>
        <tag>æ•°æ®ç¼“å­˜</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appçŠ¶æ€ç®¡ç†è¿›é˜¶ï¼šVuexæœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–</title>
    <url>/2024/03/20/uniapp-state-management/</url>
    <content><![CDATA[<blockquote>
<p>çŠ¶æ€ç®¡ç†æ˜¯uni-appåº”ç”¨å¼€å‘ä¸­çš„é‡è¦ç¯èŠ‚,æœ¬æ–‡å°†æ·±å…¥ä»‹ç»Vuexåœ¨uni-appä¸­çš„åº”ç”¨,ä»¥åŠå¦‚ä½•æ„å»ºé«˜æ•ˆçš„æ•°æ®æµæ–¹æ¡ˆã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-VuexåŸºç¡€é…ç½®"><a href="#1-VuexåŸºç¡€é…ç½®" class="headerlink" title="1. VuexåŸºç¡€é…ç½®"></a>1. VuexåŸºç¡€é…ç½®</h2><h3 id="1-1-ç›®å½•ç»“æ„"><a href="#1-1-ç›®å½•ç»“æ„" class="headerlink" title="1.1 ç›®å½•ç»“æ„"></a>1.1 ç›®å½•ç»“æ„</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">store</span><br><span class="line">â”œâ”€â”€ index.js          <span class="comment"># å…¥å£æ–‡ä»¶</span></span><br><span class="line">â”œâ”€â”€ state.js          <span class="comment"># æ ¹çº§åˆ«çš„state</span></span><br><span class="line">â”œâ”€â”€ mutations.js      <span class="comment"># æ ¹çº§åˆ«çš„mutations</span></span><br><span class="line">â”œâ”€â”€ actions.js        <span class="comment"># æ ¹çº§åˆ«çš„actions</span></span><br><span class="line">â”œâ”€â”€ getters.js        <span class="comment"># æ ¹çº§åˆ«çš„getters</span></span><br><span class="line">â””â”€â”€ modules          <span class="comment"># æ¨¡å—ç›®å½•</span></span><br><span class="line">    â”œâ”€â”€ user.js      <span class="comment"># ç”¨æˆ·æ¨¡å—</span></span><br><span class="line">    â”œâ”€â”€ cart.js      <span class="comment"># è´­ç‰©è½¦æ¨¡å—</span></span><br><span class="line">    â””â”€â”€ order.js     <span class="comment"># è®¢å•æ¨¡å—</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-åŸºç¡€é…ç½®"><a href="#1-2-åŸºç¡€é…ç½®" class="headerlink" title="1.2 åŸºç¡€é…ç½®"></a>1.2 åŸºç¡€é…ç½®</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> state <span class="keyword">from</span> <span class="string">&#x27;./state&#x27;</span></span><br><span class="line"><span class="keyword">import</span> mutations <span class="keyword">from</span> <span class="string">&#x27;./mutations&#x27;</span></span><br><span class="line"><span class="keyword">import</span> actions <span class="keyword">from</span> <span class="string">&#x27;./actions&#x27;</span></span><br><span class="line"><span class="keyword">import</span> getters <span class="keyword">from</span> <span class="string">&#x27;./getters&#x27;</span></span><br><span class="line"><span class="keyword">import</span> user <span class="keyword">from</span> <span class="string">&#x27;./modules/user&#x27;</span></span><br><span class="line"><span class="keyword">import</span> cart <span class="keyword">from</span> <span class="string">&#x27;./modules/cart&#x27;</span></span><br><span class="line"><span class="keyword">import</span> order <span class="keyword">from</span> <span class="string">&#x27;./modules/order&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters,</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    user,</span><br><span class="line">    cart,</span><br><span class="line">    order</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">strict</span>: process.<span class="property">env</span>.<span class="property">NODE_ENV</span> !== <span class="string">&#x27;production&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> store</span><br></pre></td></tr></table></figure>

<h2 id="2-æ¨¡å—åŒ–è®¾è®¡"><a href="#2-æ¨¡å—åŒ–è®¾è®¡" class="headerlink" title="2. æ¨¡å—åŒ–è®¾è®¡"></a>2. æ¨¡å—åŒ–è®¾è®¡</h2><h3 id="2-1-ç”¨æˆ·æ¨¡å—"><a href="#2-1-ç”¨æˆ·æ¨¡å—" class="headerlink" title="2.1 ç”¨æˆ·æ¨¡å—"></a>2.1 ç”¨æˆ·æ¨¡å—</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/modules/user.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; login, getUserInfo, updateUserInfo &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/user&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  <span class="attr">token</span>: uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>) || <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  <span class="attr">userInfo</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">permissions</span>: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">  <span class="title function_">SET_TOKEN</span>(<span class="params">state, token</span>) &#123;</span><br><span class="line">    state.<span class="property">token</span> = token</span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;token&#x27;</span>, token)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">SET_USER_INFO</span>(<span class="params">state, info</span>) &#123;</span><br><span class="line">    state.<span class="property">userInfo</span> = info</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">SET_PERMISSIONS</span>(<span class="params">state, permissions</span>) &#123;</span><br><span class="line">    state.<span class="property">permissions</span> = permissions</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">CLEAR_USER_DATA</span>(<span class="params">state</span>) &#123;</span><br><span class="line">    state.<span class="property">token</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    state.<span class="property">userInfo</span> = <span class="literal">null</span></span><br><span class="line">    state.<span class="property">permissions</span> = []</span><br><span class="line">    uni.<span class="title function_">removeStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">// ç™»å½•</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">login</span>(<span class="params">&#123; commit &#125;, params</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; token &#125; = <span class="keyword">await</span> <span class="title function_">login</span>(params)</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;SET_TOKEN&#x27;</span>, token)</span><br><span class="line">      <span class="keyword">return</span> token</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;ç™»å½•å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getUserInfo</span>(<span class="params">&#123; commit &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; userInfo, permissions &#125; = <span class="keyword">await</span> <span class="title function_">getUserInfo</span>()</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;SET_USER_INFO&#x27;</span>, userInfo)</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;SET_PERMISSIONS&#x27;</span>, permissions)</span><br><span class="line">      <span class="keyword">return</span> userInfo</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ›´æ–°ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">updateUserInfo</span>(<span class="params">&#123; commit &#125;, params</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> info = <span class="keyword">await</span> <span class="title function_">updateUserInfo</span>(params)</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;SET_USER_INFO&#x27;</span>, info)</span><br><span class="line">      <span class="keyword">return</span> info</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ›´æ–°ç”¨æˆ·ä¿¡æ¯å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// é€€å‡ºç™»å½•</span></span><br><span class="line">  <span class="title function_">logout</span>(<span class="params">&#123; commit &#125;</span>) &#123;</span><br><span class="line">    <span class="title function_">commit</span>(<span class="string">&#x27;CLEAR_USER_DATA&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">  <span class="attr">isLogin</span>: <span class="function"><span class="params">state</span> =&gt;</span> !!state.<span class="property">token</span>,</span><br><span class="line">  <span class="attr">userInfo</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">userInfo</span> || &#123;&#125;,</span><br><span class="line">  <span class="attr">permissions</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">permissions</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-è´­ç‰©è½¦æ¨¡å—"><a href="#2-2-è´­ç‰©è½¦æ¨¡å—" class="headerlink" title="2.2 è´­ç‰©è½¦æ¨¡å—"></a>2.2 è´­ç‰©è½¦æ¨¡å—</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/modules/cart.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; getCartList, updateCart, removeFromCart &#125; <span class="keyword">from</span> <span class="string">&#x27;@/api/cart&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">  <span class="attr">cartList</span>: [],</span><br><span class="line">  <span class="attr">selectedIds</span>: []</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">  <span class="title function_">SET_CART_LIST</span>(<span class="params">state, list</span>) &#123;</span><br><span class="line">    state.<span class="property">cartList</span> = list</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">UPDATE_CART_ITEM</span>(<span class="params">state, &#123; id, data &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> index = state.<span class="property">cartList</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> === id)</span><br><span class="line">    <span class="keyword">if</span> (index &gt; -<span class="number">1</span>) &#123;</span><br><span class="line">      state.<span class="property">cartList</span>[index] = &#123; ...state.<span class="property">cartList</span>[index], ...data &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">REMOVE_CART_ITEM</span>(<span class="params">state, id</span>) &#123;</span><br><span class="line">    state.<span class="property">cartList</span> = state.<span class="property">cartList</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">id</span> !== id)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">SET_SELECTED_IDS</span>(<span class="params">state, ids</span>) &#123;</span><br><span class="line">    state.<span class="property">selectedIds</span> = ids</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">// è·å–è´­ç‰©è½¦åˆ—è¡¨</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">getCartList</span>(<span class="params">&#123; commit &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> list = <span class="keyword">await</span> <span class="title function_">getCartList</span>()</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;SET_CART_LIST&#x27;</span>, list)</span><br><span class="line">      <span class="keyword">return</span> list</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;è·å–è´­ç‰©è½¦åˆ—è¡¨å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ›´æ–°è´­ç‰©è½¦å•†å“</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">updateCartItem</span>(<span class="params">&#123; commit &#125;, &#123; id, data &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">updateCart</span>(id, data)</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;UPDATE_CART_ITEM&#x27;</span>, &#123; id, data &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ›´æ–°è´­ç‰©è½¦å•†å“å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆ é™¤è´­ç‰©è½¦å•†å“</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">removeCartItem</span>(<span class="params">&#123; commit &#125;, id</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">removeFromCart</span>(id)</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;REMOVE_CART_ITEM&#x27;</span>, id)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;åˆ é™¤è´­ç‰©è½¦å•†å“å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">  <span class="attr">cartCount</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">cartList</span>.<span class="property">length</span>,</span><br><span class="line">  <span class="attr">selectedCount</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">selectedIds</span>.<span class="property">length</span>,</span><br><span class="line">  <span class="attr">totalPrice</span>: <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> state.<span class="property">cartList</span></span><br><span class="line">      .<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> state.<span class="property">selectedIds</span>.<span class="title function_">includes</span>(item.<span class="property">id</span>))</span><br><span class="line">      .<span class="title function_">reduce</span>(<span class="function">(<span class="params">total, item</span>) =&gt;</span> total + item.<span class="property">price</span> * item.<span class="property">quantity</span>, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">namespaced</span>: <span class="literal">true</span>,</span><br><span class="line">  state,</span><br><span class="line">  mutations,</span><br><span class="line">  actions,</span><br><span class="line">  getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-æ•°æ®æŒä¹…åŒ–"><a href="#3-æ•°æ®æŒä¹…åŒ–" class="headerlink" title="3. æ•°æ®æŒä¹…åŒ–"></a>3. æ•°æ®æŒä¹…åŒ–</h2><h3 id="3-1-æ’ä»¶å°è£…"><a href="#3-1-æ’ä»¶å°è£…" class="headerlink" title="3.1 æ’ä»¶å°è£…"></a>3.1 æ’ä»¶å°è£…</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/plugins/persist.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">STORAGE_KEY</span> = <span class="string">&#x27;vuex_storage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">createPersistPlugin</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    key = <span class="variable constant_">STORAGE_KEY</span>,</span><br><span class="line">    paths = [],</span><br><span class="line">    storage = uni.<span class="property">getStorageSync</span></span><br><span class="line">  &#125; = options</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–æŒä¹…åŒ–æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">getState</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="title function_">storage</span>(key)</span><br><span class="line">      <span class="keyword">return</span> data ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data) : &#123;&#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è·å–æŒä¹…åŒ–æ•°æ®å¤±è´¥:&#x27;</span>, err)</span><br><span class="line">      <span class="keyword">return</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è®¾ç½®æŒä¹…åŒ–æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">setState</span> = (<span class="params">state, paths</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = paths.<span class="property">length</span></span><br><span class="line">        ? paths.<span class="title function_">reduce</span>(<span class="function">(<span class="params">obj, path</span>) =&gt;</span> &#123;</span><br><span class="line">            obj[path] = state[path]</span><br><span class="line">            <span class="keyword">return</span> obj</span><br><span class="line">          &#125;, &#123;&#125;)</span><br><span class="line">        : state</span><br><span class="line">      <span class="title function_">storage</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è®¾ç½®æŒä¹…åŒ–æ•°æ®å¤±è´¥:&#x27;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="params">store</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–æ—¶è·å–æŒä¹…åŒ–æ•°æ®</span></span><br><span class="line">    <span class="keyword">const</span> data = <span class="title function_">getState</span>()</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="title function_">keys</span>(data).<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      store.<span class="title function_">replaceState</span>(&#123;</span><br><span class="line">        ...store.<span class="property">state</span>,</span><br><span class="line">        ...data</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç›‘å¬æ•°æ®å˜åŒ–</span></span><br><span class="line">    store.<span class="title function_">subscribe</span>(<span class="function">(<span class="params">mutation, state</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">setState</span>(state, paths)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-ä½¿ç”¨æ’ä»¶"><a href="#3-2-ä½¿ç”¨æ’ä»¶" class="headerlink" title="3.2 ä½¿ç”¨æ’ä»¶"></a>3.2 ä½¿ç”¨æ’ä»¶</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js</span></span><br><span class="line"><span class="keyword">import</span> createPersistPlugin <span class="keyword">from</span> <span class="string">&#x27;./plugins/persist&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> persistPlugin = <span class="title function_">createPersistPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">paths</span>: [<span class="string">&#x27;user.token&#x27;</span>, <span class="string">&#x27;user.userInfo&#x27;</span>, <span class="string">&#x27;cart.cartList&#x27;</span>],</span><br><span class="line">  <span class="attr">storage</span>: uni.<span class="property">setStorageSync</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="comment">// ...å…¶ä»–é…ç½®</span></span><br><span class="line">  <span class="attr">plugins</span>: [persistPlugin]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="4-æ€§èƒ½ä¼˜åŒ–"><a href="#4-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="4. æ€§èƒ½ä¼˜åŒ–"></a>4. æ€§èƒ½ä¼˜åŒ–</h2><h3 id="4-1-é¿å…é¢‘ç¹æ›´æ–°"><a href="#4-1-é¿å…é¢‘ç¹æ›´æ–°" class="headerlink" title="4.1 é¿å…é¢‘ç¹æ›´æ–°"></a>4.1 é¿å…é¢‘ç¹æ›´æ–°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/modules/cart.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; debounce &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils/tools&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨é˜²æŠ–ä¼˜åŒ–æ›´æ–°</span></span><br><span class="line">  <span class="attr">updateCartItem</span>: <span class="title function_">debounce</span>(<span class="keyword">async</span> <span class="keyword">function</span>(<span class="params">&#123; commit &#125;, &#123; id, data &#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title function_">updateCart</span>(id, data)</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;UPDATE_CART_ITEM&#x27;</span>, &#123; id, data &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ›´æ–°è´­ç‰©è½¦å•†å“å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="number">300</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-æ‰¹é‡æ›´æ–°"><a href="#4-2-æ‰¹é‡æ›´æ–°" class="headerlink" title="4.2 æ‰¹é‡æ›´æ–°"></a>4.2 æ‰¹é‡æ›´æ–°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/modules/cart.js</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">  <span class="comment">// æ‰¹é‡æ›´æ–°è´­ç‰©è½¦</span></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">batchUpdateCart</span>(<span class="params">&#123; commit &#125;, items</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(items.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="title function_">updateCart</span>(item.<span class="property">id</span>, item.<span class="property">data</span>)))</span><br><span class="line">      items.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&#x27;UPDATE_CART_ITEM&#x27;</span>, item)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ‰¹é‡æ›´æ–°è´­ç‰©è½¦å¤±è´¥&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-è¾…åŠ©å‡½æ•°ä½¿ç”¨"><a href="#5-è¾…åŠ©å‡½æ•°ä½¿ç”¨" class="headerlink" title="5. è¾…åŠ©å‡½æ•°ä½¿ç”¨"></a>5. è¾…åŠ©å‡½æ•°ä½¿ç”¨</h2><h3 id="5-1-ç»„ä»¶ä¸­ä½¿ç”¨"><a href="#5-1-ç»„ä»¶ä¸­ä½¿ç”¨" class="headerlink" title="5.1 ç»„ä»¶ä¸­ä½¿ç”¨"></a>5.1 ç»„ä»¶ä¸­ä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;cart&quot;&gt;</span><br><span class="line">    &lt;view class=&quot;total&quot;&gt;æ€»ä»·: ï¿¥&#123;&#123; totalPrice &#125;&#125;&lt;/view&gt;</span><br><span class="line">    &lt;view </span><br><span class="line">      v-for=&quot;item in cartList&quot;</span><br><span class="line">      :key=&quot;item.id&quot;</span><br><span class="line">      class=&quot;cart-item&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;text&gt;&#123;&#123; item.name &#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;text&gt;ï¿¥&#123;&#123; item.price &#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;button @click=&quot;updateQuantity(item.id, item.quantity + 1)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">      &lt;text&gt;&#123;&#123; item.quantity &#125;&#125;&lt;/text&gt;</span><br><span class="line">      &lt;button @click=&quot;updateQuantity(item.id, item.quantity - 1)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;removeItem(item.id)&quot;&gt;åˆ é™¤&lt;/button&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState, mapGetters, mapActions &#125; from &#x27;vuex&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapState(&#x27;cart&#x27;, [&#x27;cartList&#x27;]),</span><br><span class="line">    ...mapGetters(&#x27;cart&#x27;, [&#x27;totalPrice&#x27;])</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapActions(&#x27;cart&#x27;, [&#x27;updateCartItem&#x27;, &#x27;removeCartItem&#x27;]),</span><br><span class="line">    async updateQuantity(id, quantity) &#123;</span><br><span class="line">      if (quantity &lt; 1) return</span><br><span class="line">      try &#123;</span><br><span class="line">        await this.updateCartItem(&#123; id, data: &#123; quantity &#125; &#125;)</span><br><span class="line">        uni.showToast(&#123; title: &#x27;æ›´æ–°æˆåŠŸ&#x27; &#125;)</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        uni.showToast(&#123; title: err.message, icon: &#x27;none&#x27; &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    async removeItem(id) &#123;</span><br><span class="line">      try &#123;</span><br><span class="line">        await this.removeCartItem(id)</span><br><span class="line">        uni.showToast(&#123; title: &#x27;åˆ é™¤æˆåŠŸ&#x27; &#125;)</span><br><span class="line">      &#125; catch (err) &#123;</span><br><span class="line">        uni.showToast(&#123; title: err.message, icon: &#x27;none&#x27; &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°"><a href="#5-2-è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°" class="headerlink" title="5.2 è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°"></a>5.2 è‡ªå®šä¹‰è¾…åŠ©å‡½æ•°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/helpers.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">mapCache</span>(<span class="params">namespace, maps</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> res = &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">normalizeMap</span>(maps).<span class="title function_">forEach</span>(<span class="function">(<span class="params">&#123; key, val &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    res[key] = <span class="keyword">function</span> <span class="title function_">mappedCache</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> store = <span class="variable language_">this</span>.<span class="property">$store</span></span><br><span class="line">      <span class="keyword">const</span> cache = store.<span class="property">_cache</span> || (store.<span class="property">_cache</span> = &#123;&#125;)</span><br><span class="line">      <span class="keyword">const</span> cacheKey = namespace + <span class="string">&#x27;:&#x27;</span> + key</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (cache[cacheKey]) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[cacheKey]</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">const</span> value = <span class="keyword">typeof</span> val === <span class="string">&#x27;function&#x27;</span></span><br><span class="line">        ? val.<span class="title function_">call</span>(<span class="variable language_">this</span>, store.<span class="property">state</span>[namespace], store.<span class="property">getters</span>)</span><br><span class="line">        : store.<span class="property">state</span>[namespace][val]</span><br><span class="line">        </span><br><span class="line">      cache[cacheKey] = value</span><br><span class="line">      <span class="keyword">return</span> value</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">normalizeMap</span>(<span class="params">map</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">isArray</span>(map)</span><br><span class="line">    ? map.<span class="title function_">map</span>(<span class="function"><span class="params">key</span> =&gt;</span> (&#123; key, <span class="attr">val</span>: key &#125;))</span><br><span class="line">    : <span class="title class_">Object</span>.<span class="title function_">keys</span>(map).<span class="title function_">map</span>(<span class="function"><span class="params">key</span> =&gt;</span> (&#123; key, <span class="attr">val</span>: map[key] &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æœ€ä½³å®è·µå»ºè®®"><a href="#6-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="6. æœ€ä½³å®è·µå»ºè®®"></a>6. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>åˆç†åˆ’åˆ†æ¨¡å—</li>
<li>å®ç°æ•°æ®æŒä¹…åŒ–</li>
<li>æ³¨æ„æ€§èƒ½ä¼˜åŒ–</li>
<li>ä½¿ç”¨è¾…åŠ©å‡½æ•°</li>
<li>åšå¥½é”™è¯¯å¤„ç†</li>
</ol>
<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>æŒæ¡VuexåŸºç¡€é…ç½®</li>
<li>å®ç°æ¨¡å—åŒ–è®¾è®¡</li>
<li>å¤„ç†æ•°æ®æŒä¹…åŒ–</li>
<li>ä¼˜åŒ–æ›´æ–°æ€§èƒ½</li>
<li>çµæ´»ä½¿ç”¨è¾…åŠ©å‡½æ•°</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>Vuex</tag>
        <tag>çŠ¶æ€ç®¡ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appè·¯ç”±ä¸é¡µé¢è·³è½¬ï¼šæœ€ä½³å®è·µä¸è¸©å‘æŒ‡å—</title>
    <url>/2024/03/15/uniapp-router/</url>
    <content><![CDATA[<blockquote>
<p>è·¯ç”±ä¸é¡µé¢è·³è½¬æ˜¯uni-appåº”ç”¨çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€,æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å„ç§è·³è½¬æ–¹å¼åŠå…¶æœ€ä½³å®è·µ,å¸®åŠ©ä½ æ„å»ºæµç•…çš„é¡µé¢å¯¼èˆªä½“éªŒã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-åŸºç¡€è·¯ç”±æ–¹æ³•"><a href="#1-åŸºç¡€è·¯ç”±æ–¹æ³•" class="headerlink" title="1. åŸºç¡€è·¯ç”±æ–¹æ³•"></a>1. åŸºç¡€è·¯ç”±æ–¹æ³•</h2><h3 id="1-1-é¡µé¢è·³è½¬æ–¹å¼"><a href="#1-1-é¡µé¢è·³è½¬æ–¹å¼" class="headerlink" title="1.1 é¡µé¢è·³è½¬æ–¹å¼"></a>1.1 é¡µé¢è·³è½¬æ–¹å¼</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿ç•™å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢</span></span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/pages/detail/detail?id=1&#x27;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è·³è½¬æˆåŠŸ&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è·³è½¬å¤±è´¥:&#x27;</span>, err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­å½“å‰é¡µé¢ï¼Œè·³è½¬åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢</span></span><br><span class="line">uni.<span class="title function_">redirectTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­æ‰€æœ‰é¡µé¢ï¼Œæ‰“å¼€åˆ°åº”ç”¨å†…çš„æŸä¸ªé¡µé¢</span></span><br><span class="line">uni.<span class="title function_">reLaunch</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/pages/home/home&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­å½“å‰é¡µé¢ï¼Œè¿”å›ä¸Šä¸€é¡µé¢æˆ–å¤šçº§é¡µé¢</span></span><br><span class="line">uni.<span class="title function_">navigateBack</span>(&#123;</span><br><span class="line">  <span class="attr">delta</span>: <span class="number">1</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·³è½¬åˆ° tabBar é¡µé¢</span></span><br><span class="line">uni.<span class="title function_">switchTab</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/pages/user/user&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-å‚æ•°ä¼ é€’"><a href="#1-2-å‚æ•°ä¼ é€’" class="headerlink" title="1.2 å‚æ•°ä¼ é€’"></a>1.2 å‚æ•°ä¼ é€’</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢Aï¼šä¼ é€’å‚æ•°</span></span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/pages/detail/detail?id=1&amp;type=product&amp;data=&#x27;</span> + <span class="built_in">encodeURIComponent</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢Bï¼šæ¥æ”¶å‚æ•°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> id = options.<span class="property">id</span></span><br><span class="line">    <span class="keyword">const</span> type = options.<span class="property">type</span></span><br><span class="line">    <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="built_in">decodeURIComponent</span>(options.<span class="property">data</span>))</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ¥æ”¶åˆ°çš„å‚æ•°:&#x27;</span>, id, type, data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-è·¯ç”±æ‹¦æˆªä¸æƒé™æ§åˆ¶"><a href="#2-è·¯ç”±æ‹¦æˆªä¸æƒé™æ§åˆ¶" class="headerlink" title="2. è·¯ç”±æ‹¦æˆªä¸æƒé™æ§åˆ¶"></a>2. è·¯ç”±æ‹¦æˆªä¸æƒé™æ§åˆ¶</h2><h3 id="2-1-å…¨å±€è·¯ç”±æ‹¦æˆª"><a href="#2-1-å…¨å±€è·¯ç”±æ‹¦æˆª" class="headerlink" title="2.1 å…¨å±€è·¯ç”±æ‹¦æˆª"></a>2.1 å…¨å±€è·¯ç”±æ‹¦æˆª</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œå…¨å±€è·¯ç”±æ‹¦æˆªå™¨</span></span><br><span class="line"><span class="keyword">const</span> whiteList = [<span class="string">&#x27;/pages/login/login&#x27;</span>, <span class="string">&#x27;/pages/register/register&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$beforeRouter</span> = <span class="keyword">function</span>(<span class="params">to</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦ç™»å½•</span></span><br><span class="line">    <span class="keyword">if</span> (whiteList.<span class="title function_">includes</span>(to)) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>()</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥ç™»å½•çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">const</span> token = uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (!token) &#123;</span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;è¯·å…ˆç™»å½•&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/login/login&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æœªç™»å½•&#x27;</span>))</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥æƒé™</span></span><br><span class="line">    <span class="keyword">const</span> userInfo = store.<span class="property">state</span>.<span class="property">user</span>.<span class="property">userInfo</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">requiresAuth</span> &amp;&amp; !userInfo.<span class="property">permissions</span>.<span class="title function_">includes</span>(to.<span class="property">permission</span>)) &#123;</span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æš‚æ— æƒé™è®¿é—®&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ— æƒé™&#x27;</span>))</span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_">resolve</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">await</span> <span class="variable language_">this</span>.$beforeRouter(<span class="string">&#x27;/pages/user/user&#x27;</span>)</span><br><span class="line">      <span class="comment">// ç»§ç»­æ‰§è¡Œé¡µé¢é€»è¾‘</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;è·¯ç”±æ‹¦æˆª:&#x27;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-é¡µé¢çº§æƒé™æ§åˆ¶"><a href="#2-2-é¡µé¢çº§æƒé™æ§åˆ¶" class="headerlink" title="2.2 é¡µé¢çº§æƒé™æ§åˆ¶"></a>2.2 é¡µé¢çº§æƒé™æ§åˆ¶</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mixins/auth.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">hasPermission</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">checkPermission</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">checkPermission</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> userPermissions = <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">user</span>.<span class="property">permissions</span></span><br><span class="line">      <span class="keyword">const</span> pagePermission = <span class="variable language_">this</span>.<span class="property">$options</span>.<span class="property">permission</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (!pagePermission) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">hasPermission</span> = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">hasPermission</span> = userPermissions.<span class="title function_">includes</span>(pagePermission)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">hasPermission</span>) &#123;</span><br><span class="line">        uni.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;æç¤º&#x27;</span>,</span><br><span class="line">          <span class="attr">content</span>: <span class="string">&#x27;æš‚æ— è®¿é—®æƒé™&#x27;</span>,</span><br><span class="line">          <span class="attr">showCancel</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">success</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            uni.<span class="title function_">navigateBack</span>()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">import</span> authMixin <span class="keyword">from</span> <span class="string">&#x27;@/mixins/auth&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">mixins</span>: [authMixin],</span><br><span class="line">  <span class="attr">permission</span>: <span class="string">&#x27;user:edit&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-é¡µé¢é€šä¿¡æ–¹æ¡ˆ"><a href="#3-é¡µé¢é€šä¿¡æ–¹æ¡ˆ" class="headerlink" title="3. é¡µé¢é€šä¿¡æ–¹æ¡ˆ"></a>3. é¡µé¢é€šä¿¡æ–¹æ¡ˆ</h2><h3 id="3-1-é¡µé¢é—´äº‹ä»¶é€šä¿¡"><a href="#3-1-é¡µé¢é—´äº‹ä»¶é€šä¿¡" class="headerlink" title="3.1 é¡µé¢é—´äº‹ä»¶é€šä¿¡"></a>3.1 é¡µé¢é—´äº‹ä»¶é€šä¿¡</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢Aï¼šå‘é€äº‹ä»¶</span></span><br><span class="line"><span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// æ³¨å†Œäº‹ä»¶ç›‘å¬</span></span><br><span class="line">  uni.$on(<span class="string">&#x27;updateList&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleUpdateList</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">onUnload</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// æ³¨é”€äº‹ä»¶ç›‘å¬</span></span><br><span class="line">  uni.$off(<span class="string">&#x27;updateList&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleUpdateList</span>)</span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">handleUpdateList</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ”¶åˆ°æ›´æ–°æ•°æ®:&#x27;</span>, data)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">refreshList</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢Bï¼šè§¦å‘äº‹ä»¶</span></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">submitSuccess</span>(<span class="params"></span>) &#123;</span><br><span class="line">    uni.$emit(<span class="string">&#x27;updateList&#x27;</span>, &#123; <span class="attr">type</span>: <span class="string">&#x27;add&#x27;</span>, <span class="attr">data</span>: <span class="variable language_">this</span>.<span class="property">formData</span> &#125;)</span><br><span class="line">    uni.<span class="title function_">navigateBack</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-é¡µé¢æ ˆç®¡ç†"><a href="#3-2-é¡µé¢æ ˆç®¡ç†" class="headerlink" title="3.2 é¡µé¢æ ˆç®¡ç†"></a>3.2 é¡µé¢æ ˆç®¡ç†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/page.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PageManager</span> &#123;</span><br><span class="line">  <span class="comment">// è·å–å½“å‰é¡µé¢æ ˆ</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getCurrentPages</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> pages = <span class="title function_">getCurrentPages</span>()</span><br><span class="line">    <span class="keyword">return</span> pages</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–ä¸Šä¸€ä¸ªé¡µé¢å®ä¾‹</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getPrevPage</span>(<span class="params">delta = <span class="number">1</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> pages = <span class="variable language_">this</span>.<span class="title function_">getCurrentPages</span>()</span><br><span class="line">    <span class="keyword">const</span> prevPage = pages[pages.<span class="property">length</span> - <span class="number">1</span> - delta]</span><br><span class="line">    <span class="keyword">return</span> prevPage</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è°ƒç”¨ä¸Šä¸€ä¸ªé¡µé¢çš„æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">callPrevPageMethod</span>(<span class="params">methodName, args, delta = <span class="number">1</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> prevPage = <span class="variable language_">this</span>.<span class="title function_">getPrevPage</span>(delta)</span><br><span class="line">    <span class="keyword">if</span> (prevPage &amp;&amp; <span class="keyword">typeof</span> prevPage[methodName] === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> prevPage[methodName](args)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿”å›</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">canBack</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> pages = <span class="variable language_">this</span>.<span class="title function_">getCurrentPages</span>()</span><br><span class="line">    <span class="keyword">return</span> pages.<span class="property">length</span> &gt; <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">PageManager</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PageManager</span> <span class="keyword">from</span> <span class="string">&#x27;@/utils/page&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ä¸Šä¸€é¡µé¢æ–¹æ³•</span></span><br><span class="line"><span class="title class_">PageManager</span>.<span class="title function_">callPrevPageMethod</span>(<span class="string">&#x27;refreshData&#x27;</span>, &#123; <span class="attr">type</span>: <span class="string">&#x27;update&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦å¯ä»¥è¿”å›</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">PageManager</span>.<span class="title function_">canBack</span>()) &#123;</span><br><span class="line">  uni.<span class="title function_">navigateBack</span>()</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  uni.<span class="title function_">reLaunch</span>(&#123; <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span> &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-è·¯ç”±åŠ¨ç”»ä¸è½¬åœºæ•ˆæœ"><a href="#4-è·¯ç”±åŠ¨ç”»ä¸è½¬åœºæ•ˆæœ" class="headerlink" title="4. è·¯ç”±åŠ¨ç”»ä¸è½¬åœºæ•ˆæœ"></a>4. è·¯ç”±åŠ¨ç”»ä¸è½¬åœºæ•ˆæœ</h2><h3 id="4-1-åŸºç¡€åŠ¨ç”»é…ç½®"><a href="#4-1-åŸºç¡€åŠ¨ç”»é…ç½®" class="headerlink" title="4.1 åŸºç¡€åŠ¨ç”»é…ç½®"></a>4.1 åŸºç¡€åŠ¨ç”»é…ç½®</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pages.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [&#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;style&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;navigationBarTitleText&quot;</span>: <span class="string">&quot;é¦–é¡µ&quot;</span>,</span><br><span class="line">      <span class="string">&quot;app-plus&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;animationType&quot;</span>: <span class="string">&quot;slide-in-right&quot;</span>,</span><br><span class="line">        <span class="string">&quot;animationDuration&quot;</span>: <span class="number">300</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢è·³è½¬æ—¶æŒ‡å®šåŠ¨ç”»</span></span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/pages/detail/detail&#x27;</span>,</span><br><span class="line">  <span class="attr">animationType</span>: <span class="string">&#x27;slide-in-bottom&#x27;</span>,</span><br><span class="line">  <span class="attr">animationDuration</span>: <span class="number">300</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="4-2-è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»"><a href="#4-2-è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»" class="headerlink" title="4.2 è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»"></a>4.2 è‡ªå®šä¹‰è½¬åœºåŠ¨ç”»</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- components/page-transition.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;page-transition&quot; :class=&quot;[transitionClass]&quot;&gt;</span><br><span class="line">    &lt;slot&gt;&lt;/slot&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      transitionClass: &#x27;&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    enter() &#123;</span><br><span class="line">      this.transitionClass = &#x27;slide-enter&#x27;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.transitionClass = &#x27;slide-enter-active&#x27;</span><br><span class="line">      &#125;, 50)</span><br><span class="line">    &#125;,</span><br><span class="line">    leave() &#123;</span><br><span class="line">      this.transitionClass = &#x27;slide-leave&#x27;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        this.transitionClass = &#x27;slide-leave-active&#x27;</span><br><span class="line">      &#125;, 50)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.page-transition &#123;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 100%;</span><br><span class="line">  transition: all 0.3s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.slide-enter &#123;</span><br><span class="line">  transform: translateX(100%);</span><br><span class="line">&#125;</span><br><span class="line">.slide-enter-active &#123;</span><br><span class="line">  transform: translateX(0);</span><br><span class="line">&#125;</span><br><span class="line">.slide-leave &#123;</span><br><span class="line">  transform: translateX(0);</span><br><span class="line">&#125;</span><br><span class="line">.slide-leave-active &#123;</span><br><span class="line">  transform: translateX(-100%);</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="5-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a href="#5-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a>5. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2><h3 id="5-1-é¡µé¢æ ˆæº¢å‡º"><a href="#5-1-é¡µé¢æ ˆæº¢å‡º" class="headerlink" title="5.1 é¡µé¢æ ˆæº¢å‡º"></a>5.1 é¡µé¢æ ˆæº¢å‡º</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ£€æŸ¥é¡µé¢æ ˆæ·±åº¦</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkPageStack</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> pages = <span class="title function_">getCurrentPages</span>()</span><br><span class="line">  <span class="keyword">const</span> maxStack = <span class="number">10</span> <span class="comment">// æœ€å¤§é¡µé¢æ ˆæ·±åº¦</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (pages.<span class="property">length</span> &gt;= maxStack) &#123;</span><br><span class="line">    uni.<span class="title function_">showModal</span>(&#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;æç¤º&#x27;</span>,</span><br><span class="line">      <span class="attr">content</span>: <span class="string">&#x27;é¡µé¢å±‚çº§è¿‡æ·±ï¼Œæ˜¯å¦è¿”å›é¦–é¡µï¼Ÿ&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">confirm</span>) &#123;</span><br><span class="line">          uni.<span class="title function_">reLaunch</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;/pages/index/index&#x27;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line">  <span class="title function_">navigateToDetail</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">checkPageStack</span>()) <span class="keyword">return</span></span><br><span class="line">    uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/pages/detail/detail&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-å‚æ•°é•¿åº¦é™åˆ¶"><a href="#5-2-å‚æ•°é•¿åº¦é™åˆ¶" class="headerlink" title="5.2 å‚æ•°é•¿åº¦é™åˆ¶"></a>5.2 å‚æ•°é•¿åº¦é™åˆ¶</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¤„ç†é•¿å‚æ•°ä¼ é€’</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">handleLongParams</span>(<span class="params">params</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> params !== <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">    params = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(params)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ£€æŸ¥å‚æ•°é•¿åº¦</span></span><br><span class="line">  <span class="keyword">if</span> (params.<span class="property">length</span> &gt; <span class="number">2048</span>) &#123;</span><br><span class="line">    <span class="comment">// å­˜å‚¨åˆ°æœ¬åœ°</span></span><br><span class="line">    <span class="keyword">const</span> key = <span class="string">&#x27;temp_params_&#x27;</span> + <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(key, params)</span><br><span class="line">    <span class="keyword">return</span> key</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> params</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢Aï¼šä¼ é€’å‚æ•°</span></span><br><span class="line"><span class="keyword">const</span> params = <span class="title function_">handleLongParams</span>(<span class="variable language_">this</span>.<span class="property">longData</span>)</span><br><span class="line">uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">`/pages/detail/detail?key=<span class="subst">$&#123;params&#125;</span>`</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢Bï¼šæ¥æ”¶å‚æ•°</span></span><br><span class="line"><span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> data = options.<span class="property">key</span></span><br><span class="line">  <span class="keyword">if</span> (data.<span class="title function_">startsWith</span>(<span class="string">&#x27;temp_params_&#x27;</span>)) &#123;</span><br><span class="line">    <span class="comment">// ä»æœ¬åœ°å­˜å‚¨è·å–</span></span><br><span class="line">    data = uni.<span class="title function_">getStorageSync</span>(data)</span><br><span class="line">    <span class="comment">// æ¸…ç†å­˜å‚¨</span></span><br><span class="line">    uni.<span class="title function_">removeStorageSync</span>(data)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">handleData</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(data))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æœ€ä½³å®è·µå»ºè®®"><a href="#6-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="6. æœ€ä½³å®è·µå»ºè®®"></a>6. æœ€ä½³å®è·µå»ºè®®</h2><ol>
<li>åˆç†ä½¿ç”¨é¡µé¢è·³è½¬æ–¹å¼</li>
<li>å®ç°ç»Ÿä¸€çš„è·¯ç”±æ‹¦æˆª</li>
<li>æ³¨æ„é¡µé¢æ ˆç®¡ç†</li>
<li>ä¼˜åŒ–è½¬åœºåŠ¨ç”»</li>
<li>å¤„ç†å¼‚å¸¸æƒ…å†µ</li>
</ol>
<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>æŒæ¡åŸºç¡€è·¯ç”±æ–¹æ³•</li>
<li>å®ç°æƒé™æ§åˆ¶</li>
<li>å¤„ç†é¡µé¢é€šä¿¡</li>
<li>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</li>
<li>è§£å†³å¸¸è§é—®é¢˜</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>è·¯ç”±è·³è½¬</tag>
        <tag>é¡µé¢é€šä¿¡</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appæ€§èƒ½ä¼˜åŒ–å®æˆ˜ï¼šä»åŠ è½½åˆ°æ¸²æŸ“çš„å…¨æ–¹ä½æå‡</title>
    <url>/2024/03/10/uniapp-performance/</url>
    <content><![CDATA[<blockquote>
<p>æ€§èƒ½ä¼˜åŒ–æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å…³é”®å› ç´ ,æœ¬æ–‡å°†ä»å¤šä¸ªç»´åº¦è¯¦ç»†ä»‹ç»uni-appåº”ç”¨çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥,å¸®åŠ©ä½ æ„å»ºæµç•…çš„è·¨ç«¯åº”ç”¨ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-é¦–å±åŠ è½½ä¼˜åŒ–"><a href="#1-é¦–å±åŠ è½½ä¼˜åŒ–" class="headerlink" title="1. é¦–å±åŠ è½½ä¼˜åŒ–"></a>1. é¦–å±åŠ è½½ä¼˜åŒ–</h2><h3 id="1-1-åˆ†åŒ…åŠ è½½"><a href="#1-1-åˆ†åŒ…åŠ è½½" class="headerlink" title="1.1 åˆ†åŒ…åŠ è½½"></a>1.1 åˆ†åŒ…åŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// pages.json</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [&#123;</span><br><span class="line">    <span class="string">&quot;path&quot;</span>: <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;style&quot;</span>: &#123; ... &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="string">&quot;subPackages&quot;</span>: [&#123;</span><br><span class="line">    <span class="string">&quot;root&quot;</span>: <span class="string">&quot;pagesA&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages&quot;</span>: [&#123;</span><br><span class="line">      <span class="string">&quot;path&quot;</span>: <span class="string">&quot;list/index&quot;</span>,</span><br><span class="line">      <span class="string">&quot;style&quot;</span>: &#123; ... &#125;</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-é¢„åŠ è½½ç­–ç•¥"><a href="#1-2-é¢„åŠ è½½ç­–ç•¥" class="headerlink" title="1.2 é¢„åŠ è½½ç­–ç•¥"></a>1.2 é¢„åŠ è½½ç­–ç•¥</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¢„åŠ è½½åˆ†åŒ…</span></span><br><span class="line">uni.<span class="title function_">preloadSubPackage</span>(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;pagesA&#x27;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ†åŒ…é¢„åŠ è½½æˆåŠŸ&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ†åŒ…é¢„åŠ è½½å¤±è´¥&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¢„åŠ è½½é¡µé¢</span></span><br><span class="line"><span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// åœ¨é¦–é¡µé¢„åŠ è½½å…¶ä»–é¡µé¢</span></span><br><span class="line">  uni.<span class="title function_">preloadPage</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/pagesA/list/index&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-éª¨æ¶å±å®ç°"><a href="#1-3-éª¨æ¶å±å®ç°" class="headerlink" title="1.3 éª¨æ¶å±å®ç°"></a>1.3 éª¨æ¶å±å®ç°</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- components/skeleton.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;skeleton&quot; v-if=&quot;loading&quot;&gt;</span><br><span class="line">    &lt;view class=&quot;skeleton-header&quot;&gt;&lt;/view&gt;</span><br><span class="line">    &lt;view class=&quot;skeleton-content&quot;&gt;</span><br><span class="line">      &lt;view class=&quot;skeleton-item&quot; v-for=&quot;i in 5&quot; :key=&quot;i&quot;&gt;&lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.skeleton &#123;</span><br><span class="line">  padding: 20rpx;</span><br><span class="line">&#125;</span><br><span class="line">.skeleton-header &#123;</span><br><span class="line">  height: 40rpx;</span><br><span class="line">  background: #f0f0f0;</span><br><span class="line">  margin-bottom: 20rpx;</span><br><span class="line">  animation: skeleton-loading 1s infinite;</span><br><span class="line">&#125;</span><br><span class="line">.skeleton-item &#123;</span><br><span class="line">  height: 100rpx;</span><br><span class="line">  background: #f0f0f0;</span><br><span class="line">  margin-bottom: 20rpx;</span><br><span class="line">  animation: skeleton-loading 1s infinite;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes skeleton-loading &#123;</span><br><span class="line">  0% &#123; opacity: 1; &#125;</span><br><span class="line">  50% &#123; opacity: 0.5; &#125;</span><br><span class="line">  100% &#123; opacity: 1; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"><a href="#2-æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="2. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–"></a>2. æ¸²æŸ“æ€§èƒ½ä¼˜åŒ–</h2><h3 id="2-1-é•¿åˆ—è¡¨ä¼˜åŒ–"><a href="#2-1-é•¿åˆ—è¡¨ä¼˜åŒ–" class="headerlink" title="2.1 é•¿åˆ—è¡¨ä¼˜åŒ–"></a>2.1 é•¿åˆ—è¡¨ä¼˜åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- è™šæ‹Ÿåˆ—è¡¨å®ç° --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view class=&quot;list-container&quot;&gt;</span><br><span class="line">    &lt;view </span><br><span class="line">      class=&quot;list-phantom&quot;</span><br><span class="line">      :style=&quot;&#123; height: listHeight + &#x27;px&#x27; &#125;&quot;</span><br><span class="line">    &gt;&lt;/view&gt;</span><br><span class="line">    &lt;view </span><br><span class="line">      class=&quot;list-content&quot;</span><br><span class="line">      :style=&quot;&#123; transform: getTransform &#125;&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;view </span><br><span class="line">        class=&quot;list-item&quot;</span><br><span class="line">        v-for=&quot;item in visibleData&quot;</span><br><span class="line">        :key=&quot;item.id&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &#123;&#123; item.content &#125;&#125;</span><br><span class="line">      &lt;/view&gt;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      listData: [], // å®Œæ•´åˆ—è¡¨æ•°æ®</span><br><span class="line">      itemHeight: 50, // æ¯é¡¹é«˜åº¦</span><br><span class="line">      visibleCount: 10, // å¯è§†åŒºåŸŸæ˜¾ç¤ºçš„æ•°é‡</span><br><span class="line">      startIndex: 0, // èµ·å§‹ç´¢å¼•</span><br><span class="line">      endIndex: 0 // ç»“æŸç´¢å¼•</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    listHeight() &#123;</span><br><span class="line">      return this.listData.length * this.itemHeight</span><br><span class="line">    &#125;,</span><br><span class="line">    visibleData() &#123;</span><br><span class="line">      return this.listData.slice(this.startIndex, this.endIndex)</span><br><span class="line">    &#125;,</span><br><span class="line">    getTransform() &#123;</span><br><span class="line">      return `translate3d(0, $&#123;this.startIndex * this.itemHeight&#125;px, 0)`</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleScroll(e) &#123;</span><br><span class="line">      const scrollTop = e.detail.scrollTop</span><br><span class="line">      this.startIndex = Math.floor(scrollTop / this.itemHeight)</span><br><span class="line">      this.endIndex = this.startIndex + this.visibleCount</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-é¿å…é¢‘ç¹æ›´æ–°"><a href="#2-2-é¿å…é¢‘ç¹æ›´æ–°" class="headerlink" title="2.2 é¿å…é¢‘ç¹æ›´æ–°"></a>2.2 é¿å…é¢‘ç¹æ›´æ–°</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨é˜²æŠ–</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">    timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨èŠ‚æµ</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">throttle</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">let</span> start = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> current = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">const</span> remaining = delay - (current - start)</span><br><span class="line">    <span class="keyword">if</span> (timer) <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">    <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">      start = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">        start = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">      &#125;, remaining)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="attr">updateData</span>: <span class="title function_">debounce</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// æ›´æ–°æ•°æ®çš„æ“ä½œ</span></span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-å†…å­˜ä¼˜åŒ–"><a href="#3-å†…å­˜ä¼˜åŒ–" class="headerlink" title="3. å†…å­˜ä¼˜åŒ–"></a>3. å†…å­˜ä¼˜åŒ–</h2><h3 id="3-1-åŠæ—¶é”€æ¯"><a href="#3-1-åŠæ—¶é”€æ¯" class="headerlink" title="3.1 åŠæ—¶é”€æ¯"></a>3.1 åŠæ—¶é”€æ¯</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">timer</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">observer</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ¸…é™¤å®šæ—¶å™¨</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">timer</span>) &#123;</span><br><span class="line">      <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">timer</span>)</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">timer</span> = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ¸…é™¤ç›‘å¬å™¨</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">observer</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">observer</span>.<span class="title function_">disconnect</span>()</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">observer</span> = <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-é¿å…å†…å­˜æ³„æ¼"><a href="#3-2-é¿å…å†…å­˜æ³„æ¼" class="headerlink" title="3.2 é¿å…å†…å­˜æ³„æ¼"></a>3.2 é¿å…å†…å­˜æ³„æ¼</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å›¾ç‰‡é¢„åŠ è½½</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">preloadImages</span> = (<span class="params">urls</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> promises = urls.<span class="title function_">map</span>(<span class="function"><span class="params">url</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> image = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">      image.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        image.<span class="property">onload</span> = <span class="literal">null</span> <span class="comment">// æ¸…é™¤äº‹ä»¶ç›‘å¬</span></span><br><span class="line">        <span class="title function_">resolve</span>(url)</span><br><span class="line">      &#125;</span><br><span class="line">      image.<span class="property">onerror</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        image.<span class="property">onerror</span> = <span class="literal">null</span> <span class="comment">// æ¸…é™¤äº‹ä»¶ç›‘å¬</span></span><br><span class="line">        <span class="title function_">reject</span>(url)</span><br><span class="line">      &#125;</span><br><span class="line">      image.<span class="property">src</span> = url</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>(promises)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-ç½‘ç»œä¼˜åŒ–"><a href="#4-ç½‘ç»œä¼˜åŒ–" class="headerlink" title="4. ç½‘ç»œä¼˜åŒ–"></a>4. ç½‘ç»œä¼˜åŒ–</h2><h3 id="4-1-è¯·æ±‚åˆå¹¶"><a href="#4-1-è¯·æ±‚åˆå¹¶" class="headerlink" title="4.1 è¯·æ±‚åˆå¹¶"></a>4.1 è¯·æ±‚åˆå¹¶</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚é˜Ÿåˆ—ç®¡ç†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RequestQueue</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">request</span>(<span class="params">key, promiseCreator</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">has</span>(key)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">get</span>(key)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> promise = <span class="title function_">promiseCreator</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">set</span>(key, promise)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> result = <span class="keyword">await</span> promise</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">      <span class="keyword">return</span> result</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">queue</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">      <span class="keyword">throw</span> err</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> requestQueue = <span class="keyword">new</span> <span class="title class_">RequestQueue</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fetchData</span>(<span class="params">id</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> requestQueue.<span class="title function_">request</span>(<span class="string">`data_<span class="subst">$&#123;id&#125;</span>`</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(&#123; id, <span class="attr">data</span>: <span class="string">&#x27;some data&#x27;</span> &#125;)</span><br><span class="line">      &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-æ•°æ®ç¼“å­˜"><a href="#4-2-æ•°æ®ç¼“å­˜" class="headerlink" title="4.2 æ•°æ®ç¼“å­˜"></a>4.2 æ•°æ®ç¼“å­˜</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CacheManager</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">expire = <span class="number">5</span> * <span class="number">60</span> * <span class="number">1000</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cache</span> = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">expire</span> = expire</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">set</span>(<span class="params">key, value</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">set</span>(key, &#123;</span><br><span class="line">      value,</span><br><span class="line">      <span class="attr">timestamp</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">get</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (!data) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Date</span>.<span class="title function_">now</span>() - data.<span class="property">timestamp</span> &gt; <span class="variable language_">this</span>.<span class="property">expire</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">delete</span>(key)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> data.<span class="property">value</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">clear</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">const</span> cache = <span class="keyword">new</span> <span class="title class_">CacheManager</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="comment">// å…ˆä»ç¼“å­˜è·å–</span></span><br><span class="line">  <span class="keyword">const</span> cached = cache.<span class="title function_">get</span>(key)</span><br><span class="line">  <span class="keyword">if</span> (cached) <span class="keyword">return</span> cached</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç¼“å­˜ä¸å­˜åœ¨åˆ™è¯·æ±‚</span></span><br><span class="line">  <span class="keyword">const</span> data = <span class="keyword">await</span> <span class="title function_">fetchData</span>(key)</span><br><span class="line">  cache.<span class="title function_">set</span>(key, data)</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-å…¶ä»–ä¼˜åŒ–æŠ€å·§"><a href="#5-å…¶ä»–ä¼˜åŒ–æŠ€å·§" class="headerlink" title="5. å…¶ä»–ä¼˜åŒ–æŠ€å·§"></a>5. å…¶ä»–ä¼˜åŒ–æŠ€å·§</h2><h3 id="5-1-å›¾ç‰‡ä¼˜åŒ–"><a href="#5-1-å›¾ç‰‡ä¼˜åŒ–" class="headerlink" title="5.1 å›¾ç‰‡ä¼˜åŒ–"></a>5.1 å›¾ç‰‡ä¼˜åŒ–</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å›¾ç‰‡æ‡’åŠ è½½æŒ‡ä»¤</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;lazy&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function"><span class="params">entries</span> =&gt;</span> &#123;</span><br><span class="line">      entries.<span class="title function_">forEach</span>(<span class="function"><span class="params">entry</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (entry.<span class="property">isIntersecting</span>) &#123;</span><br><span class="line">          el.<span class="property">src</span> = binding.<span class="property">value</span></span><br><span class="line">          observer.<span class="title function_">unobserve</span>(el)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">    observer.<span class="title function_">observe</span>(el)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line">&lt;image v-lazy=<span class="string">&quot;imageUrl&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-ç»„ä»¶ä¼˜åŒ–"><a href="#5-2-ç»„ä»¶ä¼˜åŒ–" class="headerlink" title="5.2 ç»„ä»¶ä¼˜åŒ–"></a>5.2 ç»„ä»¶ä¼˜åŒ–</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨keep-aliveç¼“å­˜ç»„ä»¶</span></span><br><span class="line">&lt;keep-alive&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;currentComponent&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼‚æ­¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">AsyncComponent</span> = (<span class="params"></span>) =&gt; (&#123;</span><br><span class="line">  <span class="attr">component</span>: <span class="keyword">import</span>(<span class="string">&#x27;./heavy-component.vue&#x27;</span>),</span><br><span class="line">  <span class="attr">loading</span>: <span class="title class_">LoadingComponent</span>,</span><br><span class="line">  <span class="attr">error</span>: <span class="title class_">ErrorComponent</span>,</span><br><span class="line">  <span class="attr">delay</span>: <span class="number">200</span>,</span><br><span class="line">  <span class="attr">timeout</span>: <span class="number">3000</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="6-æ€§èƒ½ç›‘æ§"><a href="#6-æ€§èƒ½ç›‘æ§" class="headerlink" title="6. æ€§èƒ½ç›‘æ§"></a>6. æ€§èƒ½ç›‘æ§</h2><h3 id="6-1-é¡µé¢æ€§èƒ½ç›‘æ§"><a href="#6-1-é¡µé¢æ€§èƒ½ç›‘æ§" class="headerlink" title="6.1 é¡µé¢æ€§èƒ½ç›‘æ§"></a>6.1 é¡µé¢æ€§èƒ½ç›‘æ§</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> performance = &#123;</span><br><span class="line">  <span class="comment">// è®°å½•æ—¶é—´ç‚¹</span></span><br><span class="line">  <span class="title function_">mark</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">      performance.<span class="title function_">mark</span>(name)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æµ‹é‡ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„æ—¶é—´</span></span><br><span class="line">  <span class="title function_">measure</span>(<span class="params">name, startMark, endMark</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> performance !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">      performance.<span class="title function_">measure</span>(name, startMark, endMark)</span><br><span class="line">      <span class="keyword">const</span> measures = performance.<span class="title function_">getEntriesByName</span>(name)</span><br><span class="line">      <span class="keyword">return</span> measures[<span class="number">0</span>].<span class="property">duration</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ä¸ŠæŠ¥æ€§èƒ½æ•°æ®</span></span><br><span class="line">  <span class="title function_">report</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¸ŠæŠ¥é€»è¾‘</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ€§èƒ½æ•°æ®:&#x27;</span>, data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-æ€»ç»“"><a href="#7-æ€»ç»“" class="headerlink" title="7. æ€»ç»“"></a>7. æ€»ç»“</h2><ol>
<li>åˆç†ä½¿ç”¨åˆ†åŒ…åŠ è½½</li>
<li>å®ç°è™šæ‹Ÿåˆ—è¡¨</li>
<li>ä¼˜åŒ–æ›´æ–°æœºåˆ¶</li>
<li>æ³¨æ„å†…å­˜ç®¡ç†</li>
<li>åšå¥½ç½‘ç»œä¼˜åŒ–</li>
<li>ç›‘æ§æ€§èƒ½æŒ‡æ ‡</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
        <tag>å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appç»„ä»¶é€šä¿¡å®Œå…¨æŒ‡å—ï¼šä»åŸºç¡€åˆ°è¿›é˜¶</title>
    <url>/2024/02/18/uniapp-component-communication/</url>
    <content><![CDATA[<blockquote>
<p>ç»„ä»¶é€šä¿¡æ˜¯uni-appå¼€å‘ä¸­çš„é‡è¦ç¯èŠ‚,é€‰æ‹©åˆé€‚çš„é€šä¿¡æ–¹å¼å¯¹æå‡ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å„ç§ç»„ä»¶é€šä¿¡æ–¹æ¡ˆçš„ä½¿ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-åŸºç¡€é€šä¿¡æ–¹å¼"><a href="#1-åŸºç¡€é€šä¿¡æ–¹å¼" class="headerlink" title="1. åŸºç¡€é€šä¿¡æ–¹å¼"></a>1. åŸºç¡€é€šä¿¡æ–¹å¼</h2><h3 id="1-1-Props-Emit"><a href="#1-1-Props-Emit" class="headerlink" title="1.1 Props/Emit"></a>1.1 Props/Emit</h3><p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;child-component </span><br><span class="line">    :title=&quot;title&quot;</span><br><span class="line">    :list=&quot;dataList&quot;</span><br><span class="line">    @on-click=&quot;handleClick&quot;</span><br><span class="line">  /&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      title: &#x27;æ ‡é¢˜&#x27;,</span><br><span class="line">      dataList: [&#x27;item1&#x27;, &#x27;item2&#x27;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick(data) &#123;</span><br><span class="line">      console.log(&#x27;å­ç»„ä»¶ç‚¹å‡»äº‹ä»¶:&#x27;, data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- å­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;view&gt;</span><br><span class="line">    &lt;text&gt;&#123;&#123;title&#125;&#125;&lt;/text&gt;</span><br><span class="line">    &lt;view </span><br><span class="line">      v-for=&quot;(item, index) in list&quot; </span><br><span class="line">      :key=&quot;index&quot;</span><br><span class="line">      @click=&quot;onClick(item)&quot;</span><br><span class="line">    &gt;</span><br><span class="line">      &#123;&#123;item&#125;&#125;</span><br><span class="line">    &lt;/view&gt;</span><br><span class="line">  &lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &#x27;&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    list: &#123;</span><br><span class="line">      type: Array,</span><br><span class="line">      default: () =&gt; []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onClick(item) &#123;</span><br><span class="line">      this.$emit(&#x27;on-click&#x27;, item)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-Provide-Inject"><a href="#1-2-Provide-Inject" class="headerlink" title="1.2 Provide/Inject"></a>1.2 Provide/Inject</h3><p>è·¨å±‚çº§ç»„ä»¶é€šä¿¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  provide() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      theme: this.theme,</span><br><span class="line">      updateTheme: this.updateTheme</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      theme: &#x27;light&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    updateTheme(newTheme) &#123;</span><br><span class="line">      this.theme = newTheme</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- å­ç»„ä»¶(ä»»æ„å±‚çº§) --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  inject: [&#x27;theme&#x27;, &#x27;updateTheme&#x27;],</span><br><span class="line">  methods: &#123;</span><br><span class="line">    toggleTheme() &#123;</span><br><span class="line">      this.updateTheme(this.theme === &#x27;light&#x27; ? &#x27;dark&#x27; : &#x27;light&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-è¿›é˜¶é€šä¿¡æ–¹æ¡ˆ"><a href="#2-è¿›é˜¶é€šä¿¡æ–¹æ¡ˆ" class="headerlink" title="2. è¿›é˜¶é€šä¿¡æ–¹æ¡ˆ"></a>2. è¿›é˜¶é€šä¿¡æ–¹æ¡ˆ</h2><h3 id="2-1-EventBus"><a href="#2-1-EventBus" class="headerlink" title="2.1 EventBus"></a>2.1 EventBus</h3><p>é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/event-bus.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EventBus</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span> = &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">on</span>(<span class="params">eventName, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">events</span>[eventName]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[eventName] = []</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">events</span>[eventName].<span class="title function_">push</span>(callback)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">emit</span>(<span class="params">eventName, data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[eventName]) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">events</span>[eventName].<span class="title function_">forEach</span>(<span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">callback</span>(data)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">off</span>(<span class="params">eventName, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">events</span>[eventName]) &#123;</span><br><span class="line">      <span class="keyword">if</span> (callback) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">events</span>[eventName] = <span class="variable language_">this</span>.<span class="property">events</span>[eventName].<span class="title function_">filter</span>(<span class="function"><span class="params">cb</span> =&gt;</span> cb !== callback)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">delete</span> <span class="variable language_">this</span>.<span class="property">events</span>[eventName]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">EventBus</span>()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- ç»„ä»¶A --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import eventBus from &#x27;@/utils/event-bus&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    sendMessage() &#123;</span><br><span class="line">      eventBus.emit(&#x27;message&#x27;, &#123; type: &#x27;success&#x27;, content: &#x27;æ“ä½œæˆåŠŸ&#x27; &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- ç»„ä»¶B --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import eventBus from &#x27;@/utils/event-bus&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    eventBus.on(&#x27;message&#x27;, this.handleMessage)</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroy() &#123;</span><br><span class="line">    eventBus.off(&#x27;message&#x27;, this.handleMessage)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleMessage(data) &#123;</span><br><span class="line">      console.log(&#x27;æ”¶åˆ°æ¶ˆæ¯:&#x27;, data)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-VuexçŠ¶æ€ç®¡ç†"><a href="#2-2-VuexçŠ¶æ€ç®¡ç†" class="headerlink" title="2.2 VuexçŠ¶æ€ç®¡ç†"></a>2.2 VuexçŠ¶æ€ç®¡ç†</h3><p>å¤æ‚ç»„ä»¶é€šä¿¡æ¨èä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">cartList</span>: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setUserInfo</span>(<span class="params">state, info</span>) &#123;</span><br><span class="line">      state.<span class="property">userInfo</span> = info</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">addToCart</span>(<span class="params">state, item</span>) &#123;</span><br><span class="line">      state.<span class="property">cartList</span>.<span class="title function_">push</span>(item)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">updateUserInfo</span>(<span class="params">&#123; commit &#125;</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> info = <span class="keyword">await</span> <span class="title function_">getUserInfo</span>()</span><br><span class="line">      <span class="title function_">commit</span>(<span class="string">&#x27;setUserInfo&#x27;</span>, info)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="attr">cartCount</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">cartList</span>.<span class="property">length</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- ç»„ä»¶ä¸­ä½¿ç”¨ --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; mapState, mapMutations, mapActions &#125; from &#x27;vuex&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  computed: &#123;</span><br><span class="line">    ...mapState([&#x27;userInfo&#x27;, &#x27;cartList&#x27;]),</span><br><span class="line">    ...mapGetters([&#x27;cartCount&#x27;])</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    ...mapMutations([&#x27;setUserInfo&#x27;, &#x27;addToCart&#x27;]),</span><br><span class="line">    ...mapActions([&#x27;updateUserInfo&#x27;]),</span><br><span class="line">    async init() &#123;</span><br><span class="line">      await this.updateUserInfo()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="3-ç‰¹æ®Šåœºæ™¯å¤„ç†"><a href="#3-ç‰¹æ®Šåœºæ™¯å¤„ç†" class="headerlink" title="3. ç‰¹æ®Šåœºæ™¯å¤„ç†"></a>3. ç‰¹æ®Šåœºæ™¯å¤„ç†</h2><h3 id="3-1-è·¨é¡µé¢é€šä¿¡"><a href="#3-1-è·¨é¡µé¢é€šä¿¡" class="headerlink" title="3.1 è·¨é¡µé¢é€šä¿¡"></a>3.1 è·¨é¡µé¢é€šä¿¡</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡µé¢A</span></span><br><span class="line">uni.$on(<span class="string">&#x27;pageMessage&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleMessage</span>)</span><br><span class="line">uni.$emit(<span class="string">&#x27;pageMessage&#x27;</span>, &#123; <span class="attr">data</span>: <span class="string">&#x27;hello&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// é¡µé¢B</span></span><br><span class="line">uni.$once(<span class="string">&#x27;pageMessage&#x27;</span>, <span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ”¶åˆ°ä¸€æ¬¡æ€§æ¶ˆæ¯:&#x27;</span>, data)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„åœ¨é¡µé¢é”€æ¯æ—¶è§£é™¤ç›‘å¬</span></span><br><span class="line"><span class="title function_">onUnload</span>(<span class="params"></span>) &#123;</span><br><span class="line">  uni.$off(<span class="string">&#x27;pageMessage&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleMessage</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-ç»„ä»¶refé€šä¿¡"><a href="#3-2-ç»„ä»¶refé€šä¿¡" class="headerlink" title="3.2 ç»„ä»¶refé€šä¿¡"></a>3.2 ç»„ä»¶refé€šä¿¡</h3><p>ç›´æ¥è®¿é—®ç»„ä»¶å®ä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;child-component ref=&quot;child&quot; /&gt;</span><br><span class="line">  &lt;button @click=&quot;callChildMethod&quot;&gt;è°ƒç”¨å­ç»„ä»¶æ–¹æ³•&lt;/button&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    callChildMethod() &#123;</span><br><span class="line">      this.$refs.child.someMethod()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- å­ç»„ä»¶ --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    someMethod() &#123;</span><br><span class="line">      console.log(&#x27;å­ç»„ä»¶æ–¹æ³•è¢«è°ƒç”¨&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="4-æœ€ä½³å®è·µå»ºè®®"><a href="#4-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="4. æœ€ä½³å®è·µå»ºè®®"></a>4. æœ€ä½³å®è·µå»ºè®®</h2><h3 id="4-1-é€‰æ‹©åˆé€‚çš„é€šä¿¡æ–¹å¼"><a href="#4-1-é€‰æ‹©åˆé€‚çš„é€šä¿¡æ–¹å¼" class="headerlink" title="4.1 é€‰æ‹©åˆé€‚çš„é€šä¿¡æ–¹å¼"></a>4.1 é€‰æ‹©åˆé€‚çš„é€šä¿¡æ–¹å¼</h3><ol>
<li>çˆ¶å­ç»„ä»¶ï¼šä¼˜å…ˆä½¿ç”¨props/emit</li>
<li>è·¨å±‚çº§ç»„ä»¶ï¼šè€ƒè™‘provide/inject</li>
<li>å¤æ‚æ•°æ®ç®¡ç†ï¼šä½¿ç”¨Vuex</li>
<li>ç®€å•å…¨å±€é€šä¿¡ï¼šä½¿ç”¨EventBus</li>
<li>ä¸´æ—¶è·¨é¡µé¢ï¼šä½¿ç”¨uni.$emit/$on</li>
</ol>
<h3 id="4-2-æ€§èƒ½ä¼˜åŒ–"><a href="#4-2-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="4.2 æ€§èƒ½ä¼˜åŒ–"></a>4.2 æ€§èƒ½ä¼˜åŒ–</h3><ol>
<li>é¿å…è¿‡åº¦ä½¿ç”¨EventBus</li>
<li>åŠæ—¶è§£é™¤äº‹ä»¶ç›‘å¬</li>
<li>Vuexä¸­åˆç†åˆ’åˆ†æ¨¡å—</li>
<li>å‡å°‘ä¸å¿…è¦çš„æ•°æ®ç›‘å¬</li>
</ol>
<h2 id="5-å¸¸è§é—®é¢˜"><a href="#5-å¸¸è§é—®é¢˜" class="headerlink" title="5. å¸¸è§é—®é¢˜"></a>5. å¸¸è§é—®é¢˜</h2><h3 id="5-1-æ•°æ®åŒæ­¥é—®é¢˜"><a href="#5-1-æ•°æ®åŒæ­¥é—®é¢˜" class="headerlink" title="5.1 æ•°æ®åŒæ­¥é—®é¢˜"></a>5.1 æ•°æ®åŒæ­¥é—®é¢˜</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// çˆ¶ç»„ä»¶æ•°æ®å˜åŒ–å­ç»„ä»¶ä¸æ›´æ–°</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="attr">list</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Array</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="function">() =&gt;</span> []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="attr">list</span>: &#123;</span><br><span class="line">      <span class="title function_">handler</span>(<span class="params">newVal</span>) &#123;</span><br><span class="line">        <span class="comment">// æ·±åº¦ç›‘å¬æ•°æ®å˜åŒ–</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">handleListChange</span>(newVal)</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">deep</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-äº‹ä»¶è§£ç»‘é—®é¢˜"><a href="#5-2-äº‹ä»¶è§£ç»‘é—®é¢˜" class="headerlink" title="5.2 äº‹ä»¶è§£ç»‘é—®é¢˜"></a>5.2 äº‹ä»¶è§£ç»‘é—®é¢˜</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">handlers</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">addEventHandler</span>(<span class="params">handler</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">handlers</span>.<span class="title function_">push</span>(handler)</span><br><span class="line">      eventBus.<span class="title function_">on</span>(<span class="string">&#x27;someEvent&#x27;</span>, handler)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">beforeDestroy</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç»Ÿä¸€è§£ç»‘äº‹ä»¶</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">handlers</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">handler</span> =&gt;</span> &#123;</span><br><span class="line">      eventBus.<span class="title function_">off</span>(<span class="string">&#x27;someEvent&#x27;</span>, handler)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h2><ol>
<li>äº†è§£å„ç§é€šä¿¡æ–¹å¼çš„ç‰¹ç‚¹</li>
<li>æ ¹æ®åœºæ™¯é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ</li>
<li>æ³¨æ„æ€§èƒ½å’Œå†…å­˜é—®é¢˜</li>
<li>åšå¥½äº‹ä»¶è§£ç»‘å’Œé”€æ¯</li>
<li>ä¿æŒä»£ç çš„å¯ç»´æŠ¤æ€§</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼ </p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>Vue</tag>
        <tag>ç»„ä»¶é€šä¿¡</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appæ•°æ®å­˜å‚¨å…¨æ”»ç•¥ï¼šä»æœ¬åœ°å­˜å‚¨åˆ°æŒä¹…åŒ–æ–¹æ¡ˆ</title>
    <url>/2024/01/05/uniapp-storage/</url>
    <content><![CDATA[<blockquote>
<p>æ•°æ®å­˜å‚¨æ˜¯åº”ç”¨å¼€å‘ä¸­çš„é‡è¦ç¯èŠ‚,é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹æ¡ˆå¯¹æå‡ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»uni-appä¸­çš„æ•°æ®å­˜å‚¨æœ€ä½³å®è·µã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-æœ¬åœ°å­˜å‚¨åŸºç¡€"><a href="#1-æœ¬åœ°å­˜å‚¨åŸºç¡€" class="headerlink" title="1. æœ¬åœ°å­˜å‚¨åŸºç¡€"></a>1. æœ¬åœ°å­˜å‚¨åŸºç¡€</h2><h3 id="1-1-Storage-APIå°è£…"><a href="#1-1-Storage-APIå°è£…" class="headerlink" title="1.1 Storage APIå°è£…"></a>1.1 Storage APIå°è£…</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/storage.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Storage</span> &#123;</span><br><span class="line">  <span class="comment">// è®¾ç½®å­˜å‚¨</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">set</span>(<span class="params">key, value, expired = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line">      value,</span><br><span class="line">      <span class="attr">expired</span>: expired ? <span class="title class_">Date</span>.<span class="title function_">now</span>() + expired * <span class="number">1000</span> : <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// è·å–å­˜å‚¨</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = uni.<span class="title function_">getStorageSync</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (!data) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> &#123; value, expired &#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="keyword">if</span> (expired &amp;&amp; expired &lt; <span class="title class_">Date</span>.<span class="title function_">now</span>()) &#123;</span><br><span class="line">      uni.<span class="title function_">removeStorageSync</span>(key)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// ç§»é™¤å­˜å‚¨</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">remove</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    uni.<span class="title function_">removeStorageSync</span>(key)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ¸…ç©ºå­˜å‚¨</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">clear</span>(<span class="params"></span>) &#123;</span><br><span class="line">    uni.<span class="title function_">clearStorageSync</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Storage</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-ä½¿ç”¨ç¤ºä¾‹"><a href="#1-2-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="1.2 ä½¿ç”¨ç¤ºä¾‹"></a>1.2 ä½¿ç”¨ç¤ºä¾‹</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å­˜å‚¨æ•°æ®(7å¤©è¿‡æœŸ)</span></span><br><span class="line"><span class="title class_">Storage</span>.<span class="title function_">set</span>(<span class="string">&#x27;userInfo&#x27;</span>, &#123; <span class="attr">name</span>: <span class="string">&#x27;Tom&#x27;</span>, <span class="attr">age</span>: <span class="number">18</span> &#125;, <span class="number">7</span> * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> userInfo = <span class="title class_">Storage</span>.<span class="title function_">get</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç§»é™¤æ•°æ®</span></span><br><span class="line"><span class="title class_">Storage</span>.<span class="title function_">remove</span>(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¸…ç©ºæ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="title class_">Storage</span>.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>

<h2 id="2-é«˜çº§å­˜å‚¨æ–¹æ¡ˆ"><a href="#2-é«˜çº§å­˜å‚¨æ–¹æ¡ˆ" class="headerlink" title="2. é«˜çº§å­˜å‚¨æ–¹æ¡ˆ"></a>2. é«˜çº§å­˜å‚¨æ–¹æ¡ˆ</h2><h3 id="2-1-åŠ å¯†å­˜å‚¨"><a href="#2-1-åŠ å¯†å­˜å‚¨" class="headerlink" title="2.1 åŠ å¯†å­˜å‚¨"></a>2.1 åŠ å¯†å­˜å‚¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/crypto.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">CryptoJS</span> <span class="keyword">from</span> <span class="string">&#x27;crypto-js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">SECRET_KEY</span> = <span class="string">&#x27;your-secret-key&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">encrypt</span> = (<span class="params">data</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">CryptoJS</span>.<span class="property">AES</span>.<span class="title function_">encrypt</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data), <span class="variable constant_">SECRET_KEY</span>).<span class="title function_">toString</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">decrypt</span> = (<span class="params">ciphertext</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> bytes = <span class="title class_">CryptoJS</span>.<span class="property">AES</span>.<span class="title function_">decrypt</span>(ciphertext, <span class="variable constant_">SECRET_KEY</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(bytes.<span class="title function_">toString</span>(<span class="title class_">CryptoJS</span>.<span class="property">enc</span>.<span class="property">Utf8</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ å¯†å­˜å‚¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SecureStorage</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">set</span>(<span class="params">key, value, expired = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = &#123;</span><br><span class="line">      <span class="attr">value</span>: <span class="title function_">encrypt</span>(value),</span><br><span class="line">      <span class="attr">expired</span>: expired ? <span class="title class_">Date</span>.<span class="title function_">now</span>() + expired * <span class="number">1000</span> : <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(key, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(data))</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = uni.<span class="title function_">getStorageSync</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (!data) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> &#123; value, expired &#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">    <span class="keyword">if</span> (expired &amp;&amp; expired &lt; <span class="title class_">Date</span>.<span class="title function_">now</span>()) &#123;</span><br><span class="line">      uni.<span class="title function_">removeStorageSync</span>(key)</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">decrypt</span>(value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-æ•°æ®å‹ç¼©å­˜å‚¨"><a href="#2-2-æ•°æ®å‹ç¼©å­˜å‚¨" class="headerlink" title="2.2 æ•°æ®å‹ç¼©å­˜å‚¨"></a>2.2 æ•°æ®å‹ç¼©å­˜å‚¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/compress.js</span></span><br><span class="line"><span class="keyword">import</span> &#123; deflate, inflate &#125; <span class="keyword">from</span> <span class="string">&#x27;pako&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CompressStorage</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">set</span>(<span class="params">key, value</span>) &#123;</span><br><span class="line">    <span class="comment">// è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²å¹¶å‹ç¼©</span></span><br><span class="line">    <span class="keyword">const</span> compressed = <span class="title function_">deflate</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(value))</span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(key, compressed)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> compressed = uni.<span class="title function_">getStorageSync</span>(key)</span><br><span class="line">    <span class="keyword">if</span> (!compressed) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è§£å‹å¹¶è§£æJSON</span></span><br><span class="line">    <span class="keyword">const</span> decompressed = <span class="title function_">inflate</span>(compressed, &#123; <span class="attr">to</span>: <span class="string">&#x27;string&#x27;</span> &#125;)</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(decompressed)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-æŒä¹…åŒ–å­˜å‚¨ç­–ç•¥"><a href="#3-æŒä¹…åŒ–å­˜å‚¨ç­–ç•¥" class="headerlink" title="3. æŒä¹…åŒ–å­˜å‚¨ç­–ç•¥"></a>3. æŒä¹…åŒ–å­˜å‚¨ç­–ç•¥</h2><h3 id="3-1-VuexæŒä¹…åŒ–"><a href="#3-1-VuexæŒä¹…åŒ–" class="headerlink" title="3.1 VuexæŒä¹…åŒ–"></a>3.1 VuexæŒä¹…åŒ–</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// store/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Storage</span> <span class="keyword">from</span> <span class="string">&#x27;@/utils/storage&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">STORAGE_KEY</span> = <span class="string">&#x27;vuex_store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">state</span>: &#123;</span><br><span class="line">    <span class="attr">userInfo</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">settings</span>: &#123;&#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123;</span><br><span class="line">    <span class="title function_">setState</span>(<span class="params">state, payload</span>) &#123;</span><br><span class="line">      <span class="title class_">Object</span>.<span class="title function_">assign</span>(state, payload)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">    <span class="title function_">initState</span>(<span class="params">&#123; commit &#125;</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> data = <span class="title class_">Storage</span>.<span class="title function_">get</span>(<span class="variable constant_">STORAGE_KEY</span>)</span><br><span class="line">      <span class="keyword">if</span> (data) &#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&#x27;setState&#x27;</span>, data)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ä¿å­˜çŠ¶æ€</span></span><br><span class="line">    <span class="title function_">saveState</span>(<span class="params">&#123; state &#125;</span>) &#123;</span><br><span class="line">      <span class="title class_">Storage</span>.<span class="title function_">set</span>(<span class="variable constant_">STORAGE_KEY</span>, state)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3-2-è‡ªåŠ¨åŒæ­¥æœºåˆ¶"><a href="#3-2-è‡ªåŠ¨åŒæ­¥æœºåˆ¶" class="headerlink" title="3.2 è‡ªåŠ¨åŒæ­¥æœºåˆ¶"></a>3.2 è‡ªåŠ¨åŒæ­¥æœºåˆ¶</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// mixins/storage-sync.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬åº”ç”¨è¿›å…¥åå°</span></span><br><span class="line">    uni.<span class="title function_">onAppHide</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;saveState&#x27;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç›‘å¬ç½‘ç»œçŠ¶æ€</span></span><br><span class="line">    uni.<span class="title function_">onNetworkStatusChange</span>(<span class="function">(<span class="params">&#123; isConnected &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (isConnected) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">syncDataToServer</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="title function_">syncDataToServer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> localData = <span class="title class_">Storage</span>.<span class="title function_">get</span>(<span class="string">&#x27;offlineData&#x27;</span>) || []</span><br><span class="line">        <span class="keyword">if</span> (localData.<span class="property">length</span> === <span class="number">0</span>) <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸Šä¼ æœ¬åœ°æ•°æ®åˆ°æœåŠ¡å™¨</span></span><br><span class="line">        <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="property">$api</span>.<span class="title function_">syncData</span>(localData)</span><br><span class="line">        <span class="comment">// æ¸…ç©ºæœ¬åœ°ç¼“å­˜</span></span><br><span class="line">        <span class="title class_">Storage</span>.<span class="title function_">remove</span>(<span class="string">&#x27;offlineData&#x27;</span>)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;æ•°æ®åŒæ­¥å¤±è´¥&#x27;</span>, err)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-å­˜å‚¨ä¼˜åŒ–æŠ€å·§"><a href="#4-å­˜å‚¨ä¼˜åŒ–æŠ€å·§" class="headerlink" title="4. å­˜å‚¨ä¼˜åŒ–æŠ€å·§"></a>4. å­˜å‚¨ä¼˜åŒ–æŠ€å·§</h2><h3 id="4-1-åˆ†ç‰‡å­˜å‚¨"><a href="#4-1-åˆ†ç‰‡å­˜å‚¨" class="headerlink" title="4.1 åˆ†ç‰‡å­˜å‚¨"></a>4.1 åˆ†ç‰‡å­˜å‚¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ChunkStorage</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="variable constant_">CHUNK_SIZE</span> = <span class="number">1024</span> * <span class="number">1024</span> <span class="comment">// 1MB</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">set</span>(<span class="params">key, value</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(value)</span><br><span class="line">    <span class="keyword">const</span> chunks = []</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ†ç‰‡å­˜å‚¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i += <span class="variable language_">this</span>.<span class="property">CHUNK_SIZE</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> chunk = data.<span class="title function_">slice</span>(i, i + <span class="variable language_">this</span>.<span class="property">CHUNK_SIZE</span>)</span><br><span class="line">      chunks.<span class="title function_">push</span>(chunk)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å­˜å‚¨åˆ†ç‰‡ä¿¡æ¯</span></span><br><span class="line">    uni.<span class="title function_">setStorageSync</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>_info`</span>, &#123;</span><br><span class="line">      <span class="attr">chunks</span>: chunks.<span class="property">length</span>,</span><br><span class="line">      <span class="attr">timestamp</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å­˜å‚¨å„ä¸ªåˆ†ç‰‡</span></span><br><span class="line">    chunks.<span class="title function_">forEach</span>(<span class="function">(<span class="params">chunk, index</span>) =&gt;</span> &#123;</span><br><span class="line">      uni.<span class="title function_">setStorageSync</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>_<span class="subst">$&#123;index&#125;</span>`</span>, chunk)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> info = uni.<span class="title function_">getStorageSync</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>_info`</span>)</span><br><span class="line">    <span class="keyword">if</span> (!info) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆå¹¶åˆ†ç‰‡</span></span><br><span class="line">    <span class="keyword">let</span> data = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; info.<span class="property">chunks</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">const</span> chunk = uni.<span class="title function_">getStorageSync</span>(<span class="string">`<span class="subst">$&#123;key&#125;</span>_<span class="subst">$&#123;i&#125;</span>`</span>)</span><br><span class="line">      data += chunk</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-å­˜å‚¨ç›‘æ§"><a href="#4-2-å­˜å‚¨ç›‘æ§" class="headerlink" title="4.2 å­˜å‚¨ç›‘æ§"></a>4.2 å­˜å‚¨ç›‘æ§</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">StorageMonitor</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">async</span> <span class="title function_">checkSize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123; currentSize, limitSize &#125; = <span class="keyword">await</span> uni.<span class="title function_">getStorageInfo</span>()</span><br><span class="line">      <span class="keyword">const</span> usage = (currentSize / limitSize) * <span class="number">100</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (usage &gt; <span class="number">80</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`å­˜å‚¨ç©ºé—´ä½¿ç”¨ç‡è¿‡é«˜: <span class="subst">$&#123;usage.toFixed(<span class="number">2</span>)&#125;</span>%`</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">cleanExpiredData</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;å­˜å‚¨ç›‘æ§å¤±è´¥&#x27;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">cleanExpiredData</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> keys = uni.<span class="title function_">getStorageInfoSync</span>().<span class="property">keys</span></span><br><span class="line">    keys.<span class="title function_">forEach</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> data = uni.<span class="title function_">getStorageSync</span>(key)</span><br><span class="line">      <span class="keyword">if</span> (data &amp;&amp; data.<span class="property">expired</span> &amp;&amp; data.<span class="property">expired</span> &lt; <span class="title class_">Date</span>.<span class="title function_">now</span>()) &#123;</span><br><span class="line">        uni.<span class="title function_">removeStorageSync</span>(key)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-å®è·µå»ºè®®"><a href="#5-å®è·µå»ºè®®" class="headerlink" title="5. å®è·µå»ºè®®"></a>5. å®è·µå»ºè®®</h2><h3 id="5-1-æ€§èƒ½ä¼˜åŒ–"><a href="#5-1-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="5.1 æ€§èƒ½ä¼˜åŒ–"></a>5.1 æ€§èƒ½ä¼˜åŒ–</h3><ol>
<li>é¿å…é¢‘ç¹è¯»å†™æ“ä½œ</li>
<li>åˆç†ä½¿ç”¨è¿‡æœŸæ—¶é—´</li>
<li>åŠæ—¶æ¸…ç†æ— ç”¨æ•°æ®</li>
<li>å¤§æ•°æ®è€ƒè™‘åˆ†ç‰‡å­˜å‚¨</li>
</ol>
<h3 id="5-2-å®‰å…¨å»ºè®®"><a href="#5-2-å®‰å…¨å»ºè®®" class="headerlink" title="5.2 å®‰å…¨å»ºè®®"></a>5.2 å®‰å…¨å»ºè®®</h3><ol>
<li>æ•æ„Ÿæ•°æ®å¿…é¡»åŠ å¯†</li>
<li>å®šæœŸæ¸…ç†è¿‡æœŸæ•°æ®</li>
<li>é¿å…å­˜å‚¨æ˜æ–‡å¯†ç </li>
<li>æ§åˆ¶å­˜å‚¨å¤§å°</li>
</ol>
<h2 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h2><ol>
<li>åˆç†å°è£…Storage API</li>
<li>é€‰æ‹©åˆé€‚çš„å­˜å‚¨æ–¹æ¡ˆ</li>
<li>å®ç°æ•°æ®æŒä¹…åŒ–</li>
<li>æ³¨æ„æ€§èƒ½å’Œå®‰å…¨</li>
<li>åšå¥½å­˜å‚¨ç›‘æ§</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>æ•°æ®å­˜å‚¨</tag>
        <tag>æœ¬åœ°å­˜å‚¨</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appç½‘ç»œè¯·æ±‚æœ€ä½³å®è·µï¼šå°è£…ã€æ‹¦æˆªä¸é”™è¯¯å¤„ç†</title>
    <url>/2023/11/28/uniapp-request/</url>
    <content><![CDATA[<blockquote>
<p>ç½‘ç»œè¯·æ±‚æ˜¯å‰ç«¯åº”ç”¨çš„é‡ä¸­ä¹‹é‡,ä¸€ä¸ªå¥½çš„è¯·æ±‚å°è£…å¯ä»¥è®©å¼€å‘äº‹åŠåŠŸå€ã€‚æœ¬æ–‡å°†åˆ†äº«uni-appç½‘ç»œè¯·æ±‚çš„æœ€ä½³å®è·µç»éªŒã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-åŸºç¡€è¯·æ±‚å°è£…"><a href="#1-åŸºç¡€è¯·æ±‚å°è£…" class="headerlink" title="1. åŸºç¡€è¯·æ±‚å°è£…"></a>1. åŸºç¡€è¯·æ±‚å°è£…</h2><h3 id="1-1-åˆ›å»ºè¯·æ±‚å®ä¾‹"><a href="#1-1-åˆ›å»ºè¯·æ±‚å®ä¾‹" class="headerlink" title="1.1 åˆ›å»ºè¯·æ±‚å®ä¾‹"></a>1.1 åˆ›å»ºè¯·æ±‚å®ä¾‹</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// utils/request.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">request</span> = (<span class="params">options = &#123;&#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    uni.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: process.<span class="property">env</span>.<span class="property">VUE_APP_BASE_API</span> + options.<span class="property">url</span>,</span><br><span class="line">      <span class="attr">method</span>: options.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: options.<span class="property">data</span> || &#123;&#125;,</span><br><span class="line">      <span class="attr">header</span>: options.<span class="property">header</span> || &#123;&#125;,</span><br><span class="line">      <span class="attr">timeout</span>: options.<span class="property">timeout</span> || <span class="number">60000</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> <span class="title function_">resolve</span>(res.<span class="property">data</span>),</span><br><span class="line">      <span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request</span><br></pre></td></tr></table></figure>

<h3 id="1-2-æ·»åŠ æ‹¦æˆªå™¨"><a href="#1-2-æ·»åŠ æ‹¦æˆªå™¨" class="headerlink" title="1.2 æ·»åŠ æ‹¦æˆªå™¨"></a>1.2 æ·»åŠ æ‹¦æˆªå™¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> httpInterceptor = &#123;</span><br><span class="line">  <span class="comment">// è¯·æ±‚æ‹¦æˆª</span></span><br><span class="line">  <span class="title function_">invoke</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// 1. éhttpå¼€å¤´éœ€æ‹¼æ¥åœ°å€</span></span><br><span class="line">    <span class="keyword">if</span> (!options.<span class="property">url</span>.<span class="title function_">startsWith</span>(<span class="string">&#x27;http&#x27;</span>)) &#123;</span><br><span class="line">      options.<span class="property">url</span> = baseURL + options.<span class="property">url</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 2. è¯·æ±‚è¶…æ—¶</span></span><br><span class="line">    options.<span class="property">timeout</span> = <span class="number">10000</span></span><br><span class="line">    <span class="comment">// 3. æ·»åŠ å°ç¨‹åºç«¯è¯·æ±‚å¤´æ ‡è¯†</span></span><br><span class="line">    options.<span class="property">header</span> = &#123;</span><br><span class="line">      ...options.<span class="property">header</span>,</span><br><span class="line">      <span class="string">&#x27;source-client&#x27;</span>: <span class="string">&#x27;miniapp&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 4. æ·»åŠ tokenè¯·æ±‚å¤´æ ‡è¯†</span></span><br><span class="line">    <span class="keyword">const</span> token = uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;token&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">      options.<span class="property">header</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> options</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨å†Œæ‹¦æˆªå™¨</span></span><br><span class="line">uni.<span class="title function_">addInterceptor</span>(<span class="string">&#x27;request&#x27;</span>, httpInterceptor)</span><br><span class="line">uni.<span class="title function_">addInterceptor</span>(<span class="string">&#x27;uploadFile&#x27;</span>, httpInterceptor)</span><br></pre></td></tr></table></figure>

<h2 id="2-å¸¸è§é”™è¯¯å¤„ç†"><a href="#2-å¸¸è§é”™è¯¯å¤„ç†" class="headerlink" title="2. å¸¸è§é”™è¯¯å¤„ç†"></a>2. å¸¸è§é”™è¯¯å¤„ç†</h2><h3 id="2-1-ç»Ÿä¸€é”™è¯¯å¤„ç†"><a href="#2-1-ç»Ÿä¸€é”™è¯¯å¤„ç†" class="headerlink" title="2.1 ç»Ÿä¸€é”™è¯¯å¤„ç†"></a>2.1 ç»Ÿä¸€é”™è¯¯å¤„ç†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">errorHandle</span> = (<span class="params">response</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> status = response.<span class="property">statusCode</span></span><br><span class="line">  <span class="comment">// çŠ¶æ€ç åˆ¤æ–­</span></span><br><span class="line">  <span class="keyword">switch</span> (status) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">401</span>:</span><br><span class="line">      <span class="comment">// tokenå¤±æ•ˆ,é‡æ–°ç™»å½•</span></span><br><span class="line">      uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/login/index&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">403</span>:</span><br><span class="line">      <span class="comment">// æœåŠ¡å™¨æ‹’ç»æ‰§è¡Œ</span></span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;æœåŠ¡å™¨æ‹’ç»æ‰§è¡Œ&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">      <span class="comment">// è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨</span></span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&#x27;è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="comment">// å…¶ä»–é”™è¯¯</span></span><br><span class="line">      uni.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">        <span class="attr">title</span>: response.<span class="property">data</span>.<span class="property">message</span> || <span class="string">&#x27;è¯·æ±‚å¤±è´¥&#x27;</span>,</span><br><span class="line">        <span class="attr">icon</span>: <span class="string">&#x27;none&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(response)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-è¯·æ±‚é‡è¯•æœºåˆ¶"><a href="#2-2-è¯·æ±‚é‡è¯•æœºåˆ¶" class="headerlink" title="2.2 è¯·æ±‚é‡è¯•æœºåˆ¶"></a>2.2 è¯·æ±‚é‡è¯•æœºåˆ¶</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">retry</span> = (<span class="params">fn, times = <span class="number">3</span>, delay = <span class="number">1000</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">attempt</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">fn</span>().<span class="title function_">then</span>(resolve).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`è¯·æ±‚å¤±è´¥,å‰©ä½™é‡è¯•æ¬¡æ•°:<span class="subst">$&#123;times - <span class="number">1</span>&#125;</span>`</span>)</span><br><span class="line">        <span class="keyword">if</span> (times - <span class="number">1</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          times--</span><br><span class="line">          <span class="built_in">setTimeout</span>(attempt, delay)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(err)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">attempt</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="title function_">retry</span>(<span class="function">() =&gt;</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;/api/data&#x27;</span>,</span><br><span class="line">  <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span></span><br><span class="line">&#125;)).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¯·æ±‚æˆåŠŸ&#x27;</span>, res)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é‡è¯•åä¾ç„¶å¤±è´¥&#x27;</span>, err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="3-Tokenåˆ·æ–°æ–¹æ¡ˆ"><a href="#3-Tokenåˆ·æ–°æ–¹æ¡ˆ" class="headerlink" title="3. Tokenåˆ·æ–°æ–¹æ¡ˆ"></a>3. Tokenåˆ·æ–°æ–¹æ¡ˆ</h2><h3 id="3-1-æ— æ„Ÿåˆ·æ–°Token"><a href="#3-1-æ— æ„Ÿåˆ·æ–°Token" class="headerlink" title="3.1 æ— æ„Ÿåˆ·æ–°Token"></a>3.1 æ— æ„Ÿåˆ·æ–°Token</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> isRefreshing = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> requests = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">refreshToken</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (isRefreshing) &#123;</span><br><span class="line">    <span class="comment">// è¿”å›Promise,å°†å…¶ä»–è¯·æ±‚ç¼“å­˜</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">      requests.<span class="title function_">push</span>(<span class="function">(<span class="params">token</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(token)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  isRefreshing = <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/auth/refresh&#x27;</span>,</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">      <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">refresh_token</span>: uni.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;refresh_token&#x27;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      isRefreshing = <span class="literal">false</span></span><br><span class="line">      <span class="comment">// æ›´æ–°token</span></span><br><span class="line">      uni.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;token&#x27;</span>, res.<span class="property">token</span>)</span><br><span class="line">      <span class="comment">// æ‰§è¡Œç¼“å­˜çš„è¯·æ±‚</span></span><br><span class="line">      requests.<span class="title function_">forEach</span>(<span class="function"><span class="params">cb</span> =&gt;</span> <span class="title function_">cb</span>(res.<span class="property">token</span>))</span><br><span class="line">      requests = []</span><br><span class="line">      <span class="title function_">resolve</span>(res.<span class="property">token</span>)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      isRefreshing = <span class="literal">false</span></span><br><span class="line">      <span class="comment">// tokenåˆ·æ–°å¤±è´¥,æ¸…ç©ºç¼“å­˜</span></span><br><span class="line">      uni.<span class="title function_">clearStorageSync</span>()</span><br><span class="line">      <span class="comment">// è·³è½¬ç™»å½•é¡µ</span></span><br><span class="line">      uni.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;/pages/login/index&#x27;</span></span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-è¯·æ±‚æ‹¦æˆªä¸­åº”ç”¨"><a href="#3-2-è¯·æ±‚æ‹¦æˆªä¸­åº”ç”¨" class="headerlink" title="3.2 è¯·æ±‚æ‹¦æˆªä¸­åº”ç”¨"></a>3.2 è¯·æ±‚æ‹¦æˆªä¸­åº”ç”¨</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> httpInterceptor = &#123;</span><br><span class="line">  <span class="title function_">invoke</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// ... å…¶ä»–é…ç½®</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­tokenæ˜¯å¦è¿‡æœŸ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isTokenExpired</span>() &amp;&amp; !options.<span class="property">url</span>.<span class="title function_">includes</span>(<span class="string">&#x27;/auth&#x27;</span>)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">refreshToken</span>().<span class="title function_">then</span>(<span class="function"><span class="params">token</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// æ›´æ–°tokenåé‡æ–°å‘èµ·è¯·æ±‚</span></span><br><span class="line">        options.<span class="property">header</span>.<span class="property">Authorization</span> = <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span></span><br><span class="line">        <span class="keyword">return</span> uni.<span class="title function_">request</span>(options)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> options</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-ä¸Šä¼ ä¸‹è½½å¤„ç†"><a href="#4-ä¸Šä¼ ä¸‹è½½å¤„ç†" class="headerlink" title="4. ä¸Šä¼ ä¸‹è½½å¤„ç†"></a>4. ä¸Šä¼ ä¸‹è½½å¤„ç†</h2><h3 id="4-1-æ–‡ä»¶ä¸Šä¼ å°è£…"><a href="#4-1-æ–‡ä»¶ä¸Šä¼ å°è£…" class="headerlink" title="4.1 æ–‡ä»¶ä¸Šä¼ å°è£…"></a>4.1 æ–‡ä»¶ä¸Šä¼ å°è£…</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">upload</span> = (<span class="params">options = &#123;&#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    uni.<span class="title function_">uploadFile</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: process.<span class="property">env</span>.<span class="property">VUE_APP_BASE_API</span> + options.<span class="property">url</span>,</span><br><span class="line">      <span class="attr">filePath</span>: options.<span class="property">filePath</span>,</span><br><span class="line">      <span class="attr">name</span>: options.<span class="property">name</span> || <span class="string">&#x27;file&#x27;</span>,</span><br><span class="line">      <span class="attr">header</span>: &#123;</span><br><span class="line">        ...options.<span class="property">header</span>,</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;multipart/form-data&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(res.<span class="property">data</span>)),</span><br><span class="line">      <span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-æ–‡ä»¶ä¸‹è½½å°è£…"><a href="#4-2-æ–‡ä»¶ä¸‹è½½å°è£…" class="headerlink" title="4.2 æ–‡ä»¶ä¸‹è½½å°è£…"></a>4.2 æ–‡ä»¶ä¸‹è½½å°è£…</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">download</span> = (<span class="params">options = &#123;&#125;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    uni.<span class="title function_">downloadFile</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: options.<span class="property">url</span>,</span><br><span class="line">      <span class="attr">header</span>: options.<span class="property">header</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">statusCode</span> === <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(res.<span class="property">tempFilePath</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;ä¸‹è½½å¤±è´¥&#x27;</span>))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function">(<span class="params">err</span>) =&gt;</span> <span class="title function_">reject</span>(err)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-ä½¿ç”¨ç¤ºä¾‹"><a href="#5-ä½¿ç”¨ç¤ºä¾‹" class="headerlink" title="5. ä½¿ç”¨ç¤ºä¾‹"></a>5. ä½¿ç”¨ç¤ºä¾‹</h2><h3 id="5-1-åŸºç¡€è¯·æ±‚"><a href="#5-1-åŸºç¡€è¯·æ±‚" class="headerlink" title="5.1 åŸºç¡€è¯·æ±‚"></a>5.1 åŸºç¡€è¯·æ±‚</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// api/user.js</span></span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;@/utils/request&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getUserInfo</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">request</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/user/info&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;GET&#x27;</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// pages/index/index.vue</span></span><br><span class="line"><span class="keyword">async</span> <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> userInfo = <span class="keyword">await</span> <span class="title function_">getUserInfo</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">userInfo</span> = userInfo</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-æ–‡ä»¶ä¸Šä¼ "><a href="#5-2-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="5.2 æ–‡ä»¶ä¸Šä¼ "></a>5.2 æ–‡ä»¶ä¸Šä¼ </h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é€‰æ‹©å›¾ç‰‡å¹¶ä¸Šä¼ </span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">chooseAndUpload</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [tempFile] = <span class="keyword">await</span> uni.<span class="title function_">chooseImage</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="title function_">upload</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/upload&#x27;</span>,</span><br><span class="line">      <span class="attr">filePath</span>: tempFile.<span class="property">path</span>,</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;file&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä¸Šä¼ æˆåŠŸ&#x27;</span>, res)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ä¸Šä¼ å¤±è´¥&#x27;</span>, err)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a>6. æ€»ç»“</h2><ol>
<li>ç»Ÿä¸€å°è£…è¯·æ±‚æ–¹æ³•</li>
<li>æ·»åŠ è¯·æ±‚/å“åº”æ‹¦æˆªå™¨</li>
<li>å®ç°é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶</li>
<li>å¤„ç†tokenåˆ·æ–°</li>
<li>å°è£…ä¸Šä¼ ä¸‹è½½æ–¹æ³•</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>å‰ç«¯å¼€å‘</tag>
        <tag>uni-app</tag>
        <tag>ç½‘ç»œè¯·æ±‚</tag>
        <tag>APIå°è£…</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appç”Ÿå‘½å‘¨æœŸè¸©å‘æŒ‡å—ï¼šå¸¸è§é”™è¯¯ä¸æœ€ä½³å®è·µ</title>
    <url>/2023/10/15/uniapp-lifecycle/</url>
    <content><![CDATA[<blockquote>
<p>åœ¨uni-appå¼€å‘ä¸­,æ­£ç¡®ç†è§£å’Œä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ˜¯é¿å…å„ç§å¼‚å¸¸é—®é¢˜çš„å…³é”®ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»uni-appç”Ÿå‘½å‘¨æœŸä¸­çš„å¸¸è§é™·é˜±å’Œè§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="1-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªå±‚æ¬¡"><a href="#1-ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªå±‚æ¬¡" class="headerlink" title="1. ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªå±‚æ¬¡"></a>1. ç”Ÿå‘½å‘¨æœŸçš„ä¸‰ä¸ªå±‚æ¬¡</h2><h3 id="1-1-åº”ç”¨ç”Ÿå‘½å‘¨æœŸ"><a href="#1-1-åº”ç”¨ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.1 åº”ç”¨ç”Ÿå‘½å‘¨æœŸ"></a>1.1 åº”ç”¨ç”Ÿå‘½å‘¨æœŸ</h3><ul>
<li>onLaunch: åˆå§‹åŒ–å®Œæˆæ—¶è§¦å‘,<strong>åªè§¦å‘ä¸€æ¬¡</strong></li>
<li>onShow: ä»åå°è¿›å…¥å‰å°æ˜¾ç¤ºæ—¶è§¦å‘</li>
<li>onHide: ä»å‰å°è¿›å…¥åå°æ—¶è§¦å‘</li>
</ul>
<h3 id="1-2-é¡µé¢ç”Ÿå‘½å‘¨æœŸ"><a href="#1-2-é¡µé¢ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.2 é¡µé¢ç”Ÿå‘½å‘¨æœŸ"></a>1.2 é¡µé¢ç”Ÿå‘½å‘¨æœŸ</h3><ul>
<li>onLoad: é¡µé¢åŠ è½½æ—¶è§¦å‘,å¯è·å–è·¯ç”±å‚æ•°</li>
<li>onShow: é¡µé¢æ˜¾ç¤º/åˆ‡å…¥å‰å°æ—¶è§¦å‘</li>
<li>onReady: é¡µé¢åˆæ¬¡æ¸²æŸ“å®Œæˆæ—¶è§¦å‘</li>
<li>onHide: é¡µé¢éšè—/åˆ‡å…¥åå°æ—¶è§¦å‘</li>
<li>onUnload: é¡µé¢å¸è½½æ—¶è§¦å‘</li>
</ul>
<h3 id="1-3-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"><a href="#1-3-ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="1.3 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ"></a>1.3 ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</h3><ul>
<li>beforeCreate/created: Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</li>
<li>beforeMount/mounted: Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</li>
<li>beforeUpdate/updated: Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</li>
<li>beforeDestroy/destroyed: Vueç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</li>
</ul>
<h2 id="2-å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ"><a href="#2-å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="2. å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ"></a>2. å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ</h2><h3 id="2-1-è·å–æ•°æ®æ—¶æœºé”™è¯¯"><a href="#2-1-è·å–æ•°æ®æ—¶æœºé”™è¯¯" class="headerlink" title="2.1 è·å–æ•°æ®æ—¶æœºé”™è¯¯"></a>2.1 è·å–æ•°æ®æ—¶æœºé”™è¯¯</h3><p>âŒ é”™è¯¯ç¤ºä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">userInfo</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// é”™è¯¯:åœ¨createdä¸­è·å–DOMå…ƒç´ </span></span><br><span class="line">    <span class="keyword">const</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>âœ… æ­£ç¡®ç¤ºä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">userInfo</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ­£ç¡®:åœ¨mountedä¸­è·å–DOMå…ƒç´ </span></span><br><span class="line">    <span class="keyword">const</span> dom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-2-è·¯ç”±å‚æ•°è·å–æ—¶æœº"><a href="#2-2-è·¯ç”±å‚æ•°è·å–æ—¶æœº" class="headerlink" title="2.2 è·¯ç”±å‚æ•°è·å–æ—¶æœº"></a>2.2 è·¯ç”±å‚æ•°è·å–æ—¶æœº</h3><p>âŒ é”™è¯¯ç¤ºä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// é”™è¯¯:åœ¨onShowä¸­è·å–è·¯ç”±å‚æ•°</span></span><br><span class="line">    <span class="keyword">const</span> id = <span class="variable language_">this</span>.<span class="property">$route</span>.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>âœ… æ­£ç¡®ç¤ºä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">// æ­£ç¡®:åœ¨onLoadä¸­è·å–è·¯ç”±å‚æ•°</span></span><br><span class="line">    <span class="keyword">const</span> id = options.<span class="property">id</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-æ¡ä»¶ç¼–è¯‘ä½¿ç”¨é”™è¯¯"><a href="#2-3-æ¡ä»¶ç¼–è¯‘ä½¿ç”¨é”™è¯¯" class="headerlink" title="2.3 æ¡ä»¶ç¼–è¯‘ä½¿ç”¨é”™è¯¯"></a>2.3 æ¡ä»¶ç¼–è¯‘ä½¿ç”¨é”™è¯¯</h3><p>âŒ é”™è¯¯ç¤ºä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// é”™è¯¯:ç›´æ¥åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°å¤–ä½¿ç”¨æ¡ä»¶ç¼–è¯‘</span></span><br><span class="line">  #ifdef <span class="variable constant_">MP</span>-<span class="variable constant_">WEIXIN</span></span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å¾®ä¿¡å°ç¨‹åºç›¸å…³ä»£ç </span></span><br><span class="line">  &#125;</span><br><span class="line">  #endif</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>âœ… æ­£ç¡®ç¤ºä¾‹:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ­£ç¡®:åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨æ¡ä»¶ç¼–è¯‘</span></span><br><span class="line">    <span class="comment">// #ifdef MP-WEIXIN</span></span><br><span class="line">    <span class="comment">// å¾®ä¿¡å°ç¨‹åºç›¸å…³ä»£ç </span></span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-æ€§èƒ½ä¼˜åŒ–å»ºè®®"><a href="#3-æ€§èƒ½ä¼˜åŒ–å»ºè®®" class="headerlink" title="3. æ€§èƒ½ä¼˜åŒ–å»ºè®®"></a>3. æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2><h3 id="3-1-åˆç†ä½¿ç”¨onLoadå’ŒonShow"><a href="#3-1-åˆç†ä½¿ç”¨onLoadå’ŒonShow" class="headerlink" title="3.1 åˆç†ä½¿ç”¨onLoadå’ŒonShow"></a>3.1 åˆç†ä½¿ç”¨onLoadå’ŒonShow</h3><ul>
<li>onLoad: é€‚åˆä¸€æ¬¡æ€§åˆå§‹åŒ–æ•°æ®</li>
<li>onShow: é€‚åˆéœ€è¦å®æ—¶æ›´æ–°çš„æ•°æ®</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">staticData</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">dynamicData</span>: <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–ä¸€æ¬¡æ€§åˆå§‹åŒ–æ•°æ®</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getStaticData</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è·å–éœ€è¦å®æ—¶æ›´æ–°çš„æ•°æ®</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">getDynamicData</span>()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-é¿å…é‡å¤åˆå§‹åŒ–"><a href="#3-2-é¿å…é‡å¤åˆå§‹åŒ–" class="headerlink" title="3.2 é¿å…é‡å¤åˆå§‹åŒ–"></a>3.2 é¿å…é‡å¤åˆå§‹åŒ–</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">isInitialized</span>: <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">isInitialized</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">initialize</span>()</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">isInitialized</span> = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-è·¨ç«¯å…¼å®¹å¤„ç†"><a href="#4-è·¨ç«¯å…¼å®¹å¤„ç†" class="headerlink" title="4. è·¨ç«¯å…¼å®¹å¤„ç†"></a>4. è·¨ç«¯å…¼å®¹å¤„ç†</h2><h3 id="4-1-å¹³å°å·®å¼‚åŒ–å¤„ç†"><a href="#4-1-å¹³å°å·®å¼‚åŒ–å¤„ç†" class="headerlink" title="4.1 å¹³å°å·®å¼‚åŒ–å¤„ç†"></a>4.1 å¹³å°å·®å¼‚åŒ–å¤„ç†</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// #ifdef MP-WEIXIN</span></span><br><span class="line">    <span class="comment">// å¾®ä¿¡å°ç¨‹åºç‰¹æœ‰çš„åˆå§‹åŒ–</span></span><br><span class="line">    wx.<span class="title function_">getSystemInfo</span>(&#123;</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">systemInfo</span> = res</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// #ifdef H5</span></span><br><span class="line">    <span class="comment">// H5ç‰¹æœ‰çš„åˆå§‹åŒ–</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleResize</span>)</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onUnload</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// #ifdef H5</span></span><br><span class="line">    <span class="comment">// æ³¨æ„åœ¨é¡µé¢å¸è½½æ—¶ç§»é™¤äº‹ä»¶ç›‘å¬</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, <span class="variable language_">this</span>.<span class="property">handleResize</span>)</span><br><span class="line">    <span class="comment">// #endif</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-ç”Ÿå‘½å‘¨æœŸè¡¥å……è¯´æ˜"><a href="#4-2-ç”Ÿå‘½å‘¨æœŸè¡¥å……è¯´æ˜" class="headerlink" title="4.2 ç”Ÿå‘½å‘¨æœŸè¡¥å……è¯´æ˜"></a>4.2 ç”Ÿå‘½å‘¨æœŸè¡¥å……è¯´æ˜</h3><p>æŸäº›å¹³å°ç‰¹æœ‰çš„ç”Ÿå‘½å‘¨æœŸ:</p>
<ul>
<li>onPageScroll: é¡µé¢æ»šåŠ¨è§¦å‘</li>
<li>onReachBottom: é¡µé¢ä¸Šæ‹‰è§¦åº•äº‹ä»¶</li>
<li>onPullDownRefresh: ä¸‹æ‹‰åˆ·æ–°äº‹ä»¶</li>
<li>onTabItemTap: tabç‚¹å‡»äº‹ä»¶</li>
</ul>
<h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><ol>
<li>åˆç†ä½¿ç”¨ä¸åŒå±‚æ¬¡çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</li>
<li>æ³¨æ„æ•°æ®è·å–å’ŒDOMæ“ä½œçš„æ—¶æœº</li>
<li>æ­£ç¡®ä½¿ç”¨æ¡ä»¶ç¼–è¯‘</li>
<li>åšå¥½è·¨ç«¯å…¼å®¹å¤„ç†</li>
<li>æ³¨æ„æ€§èƒ½ä¼˜åŒ–</li>
</ol>
<hr>
<blockquote>
<p>å¦‚æœè§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€è¯„è®ºã€åˆ†äº«,ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ›ä½œçš„åŠ¨åŠ›ï¼</p>
</blockquote>
]]></content>
      <categories>
        <category>å‰ç«¯å¼€å‘</category>
        <category>uni-app</category>
      </categories>
      <tags>
        <tag>uni-app</tag>
        <tag>Vue</tag>
        <tag>å°ç¨‹åºå¼€å‘</tag>
        <tag>ç”Ÿå‘½å‘¨æœŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>uni-appå®ç°æœ¬åœ°é€šçŸ¥æ æ¶ˆæ¯æ¨é€(ä¸ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶)çš„çŸ¥è¯†ç‚¹å’Œä¸€äº›å‘</title>
    <url>/2023/09/08/uni_push/</url>
    <content><![CDATA[<h1 id="PUSHæ¨¡å—"><a href="#PUSHæ¨¡å—" class="headerlink" title="PUSHæ¨¡å—"></a>PUSHæ¨¡å—</h1><p>uni-appå·²ç»é›†æˆpushæœåŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…æ‹¬å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„ç»Ÿä¸€æœåŠ¡ï¼Œæ•´åˆäº†è‹¹æœAPNsã€åä¸ºã€å°ç±³ã€OPPOã€VIVOã€é­…æ—ã€è°·æ­ŒFCMç­‰å¤šå®¶å‚å•†çš„ç³»ç»Ÿæ¨é€å’Œä¸ªæ¨çš„ç‹¬ç«‹æ¨é€ï¼Œä¸ç®¡å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ï¼Œä¸€å¥—ä»£ç å¤šç«¯æ¨é€ã€‚</p>
<p>å¹¶ä¸”åªéœ€è¦ç®€å•çš„åˆ°é¡¹ç›®é…ç½®æ–‡ä»¶manifest.jsonæ¨¡å—é¡¹ä¸­å‹¾é€‰ä¸€ä¸‹å³å¯ä½¿ç”¨ã€‚</p>
<h2 id="å‘ï¼šæœªæ·»åŠ PUSHæ¨¡å—"><a href="#å‘ï¼šæœªæ·»åŠ PUSHæ¨¡å—" class="headerlink" title="å‘ï¼šæœªæ·»åŠ PUSHæ¨¡å—"></a>å‘ï¼šæœªæ·»åŠ PUSHæ¨¡å—</h2><p><img src="/img/uniPUSH/02.jpg" alt="æœªæ·»åŠ PUSHæ¨¡å—"></p>
<p>è¿™ä¸ªé—®é¢˜å¾ˆå¥‡æ€ªï¼Œä¸ç®¡æ˜¯äº‘æ‰“åŒ…æ­£å¼ç‰ˆï¼Œè¿˜æ˜¯æ‰“åŒ…æµ‹è¯•åŸºåº§ä»€ä¹ˆçš„ï¼Œä¸€ç›´éƒ½æ˜¯æç¤ºè¿™ä¸ªã€‚</p>
<h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>è¿™ä¸ªé—®é¢˜è™½ç„¶å¾ˆå¥‡æ€ªï¼Œä½†æ˜¯ä¹Ÿå¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é…ç½®æ–‡ä»¶manifest.jsonå‹¾é€‰pushæ¨¡å—åï¼Œé‡æ–°æ‰“åŒ…ä¸€æ¬¡æµ‹è¯•åŸºåº§ã€‚</p>
<span id="more"></span>

<h2 id="pushæ¨¡å—2-0"><a href="#pushæ¨¡å—2-0" class="headerlink" title="pushæ¨¡å—2.0"></a>pushæ¨¡å—2.0</h2><p>push2.0æ¯”1.0å‡çº§ä¹‹å¤„åœ¨äºï¼š</p>
<p>1.æ”¯æŒ5+å…¨ç«¯æ¨é€ï¼›</p>
<p>2.ä¸ä½¿ç”¨åç«¯é›†æˆä¸ªæ¨apiï¼Œåªéœ€è¦å°†äº‘å‡½æ•°urlåŒ–ï¼Œç»™åç«¯è¿™ä¸ªurlå°±è¡Œï¼›</p>
<p>3.è¿˜æ˜¯è¦é›†æˆå„å¤§å‚å•†çš„SDKï¼Œè¿™ç‚¹æ˜¯å’Œ1.0ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p>
<p>4.è¦è°ƒç”¨äº‘å‡½æ•°ï¼ˆæ”¶è´¹ï¼‰ï¼Œè™½ç„¶ä¸æ˜¯å¾ˆè´µï¼Œä½†æ˜¯åªæ˜¯ä¸ºäº†æ¨é€ä¸ªé€šçŸ¥æ¶ˆæ¯å°±è¦å†ä¹°ä¸€ä¸ªäº‘æœåŠ¡å™¨ï¼Œæœ‰ç‚¹æ— è¯­ä½ã€‚ã€‚ã€‚</p>
<p>ä»Šå¤©åªæ˜¯è®²è®²push1.0çš„å®ç°æœ¬åœ°é€šçŸ¥ï¼Œå°±ä¸è°ˆæœåŠ¡å™¨å¾—äº†ã€‚</p>
<p>å‹¾é€‰äº†PUSHæ¨¡å—åï¼Œç‚¹å‡»é…ç½®æŒ‰é’®ï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°uni-appçš„ç½‘é¡µç«¯åº”ç”¨è®¾ç½®é¡µï¼Œåœ¨ä¸Šé¢é…ç½®ä¸€ä¸‹è‡ªå·±çš„åº”ç”¨å¼€é€šä¸€ä¸‹pushå³å¯ã€‚</p>
<p><img src="/img/uniPUSH/01.png" alt="å‹¾é€‰PUSHæ¨¡å—"></p>
<h2 id="åˆ¤æ–­æ˜¯å¦å¼€å¯é€šçŸ¥æƒé™"><a href="#åˆ¤æ–­æ˜¯å¦å¼€å¯é€šçŸ¥æƒé™" class="headerlink" title="åˆ¤æ–­æ˜¯å¦å¼€å¯é€šçŸ¥æƒé™"></a>åˆ¤æ–­æ˜¯å¦å¼€å¯é€šçŸ¥æƒé™</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">enablPermission()&#123;</span><br><span class="line">	let main = plus.android.runtimeMainActivity();</span><br><span class="line">	let pkName = main.getPackageName();</span><br><span class="line">	let uid = main.getApplicationInfo().plusGetAttribute(&quot;uid&quot;);</span><br><span class="line">	let NotificationManagerCompat = plus.android.importClass(&quot;android.support.v4.app.NotificationManagerCompat&quot;);</span><br><span class="line">	//android.support.v4å‡çº§ä¸ºandroidx</span><br><span class="line">	if (NotificationManagerCompat == null) &#123;</span><br><span class="line">		NotificationManagerCompat = plus.android.importClass(&quot;androidx.core.app.NotificationManagerCompat&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	let areNotificationsEnabled = NotificationManagerCompat.from(main).areNotificationsEnabled();</span><br><span class="line">	// æœªå¼€é€šâ€˜å…è®¸é€šçŸ¥&#x27;æƒé™ï¼Œåˆ™å¼¹çª—æé†’å¼€é€šï¼Œå¹¶ç‚¹å‡»ç¡®è®¤åï¼Œè·³è½¬åˆ°ç³»ç»Ÿè®¾ç½®é¡µé¢è¿›è¡Œè®¾ç½®  </span><br><span class="line">	if (!areNotificationsEnabled) &#123;</span><br><span class="line">		uni.showModal(&#123;</span><br><span class="line">			title: &#x27;é€šçŸ¥æƒé™å¼€å¯æé†’&#x27;,</span><br><span class="line">			content: &#x27;æ‚¨è¿˜æ²¡æœ‰å¼€å¯é€šçŸ¥æƒé™ï¼Œæ— æ³•æ¥å—åˆ°æ¶ˆæ¯é€šçŸ¥ï¼Œè¯·å‰å¾€è®¾ç½®ï¼&#x27;,</span><br><span class="line">			showCancel: false,</span><br><span class="line">			confirmText: &#x27;å»è®¾ç½®&#x27;,</span><br><span class="line">			success: function(res) &#123;</span><br><span class="line">				if (res.confirm) &#123;</span><br><span class="line">					let Intent = plus.android.importClass(&#x27;android.content.Intent&#x27;);</span><br><span class="line">					let Build = plus.android.importClass(&quot;android.os.Build&quot;);</span><br><span class="line">					//android 8.0å¼•å¯¼  </span><br><span class="line">					if (Build.VERSION.SDK_INT &gt;= 26) &#123;</span><br><span class="line">						let intent = new Intent(&#x27;android.settings.APP_NOTIFICATION_SETTINGS&#x27;);</span><br><span class="line">						intent.putExtra(&#x27;android.provider.extra.APP_PACKAGE&#x27;, pkName);</span><br><span class="line">					&#125; else if (Build.VERSION.SDK_INT &gt;= 21) &#123; //android 5.0-7.0  </span><br><span class="line">						let intent = new Intent(&#x27;android.settings.APP_NOTIFICATION_SETTINGS&#x27;);</span><br><span class="line">						intent.putExtra(&quot;app_package&quot;, pkName);</span><br><span class="line">						intent.putExtra(&quot;app_uid&quot;, uid);</span><br><span class="line">					&#125; else &#123; //(&lt;21)å…¶ä»–--è·³è½¬åˆ°è¯¥åº”ç”¨ç®¡ç†çš„è¯¦æƒ…é¡µ  </span><br><span class="line">						intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);</span><br><span class="line">						let uri = Uri.fromParts(&quot;package&quot;, mainActivity.getPackageName(), null);</span><br><span class="line">						intent.setData(uri);</span><br><span class="line">					&#125;</span><br><span class="line">					// è·³è½¬åˆ°è¯¥åº”ç”¨çš„ç³»ç»Ÿé€šçŸ¥è®¾ç½®é¡µ  </span><br><span class="line">					main.startActivity(intent);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å®ç°æœ¬åœ°æ¶ˆæ¯çš„æ¨é€"><a href="#å®ç°æœ¬åœ°æ¶ˆæ¯çš„æ¨é€" class="headerlink" title="å®ç°æœ¬åœ°æ¶ˆæ¯çš„æ¨é€"></a>å®ç°æœ¬åœ°æ¶ˆæ¯çš„æ¨é€</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">let content = &quot;æ‚¨æœ‰ä¸€æ¡æ–°çš„æ¶ˆæ¯~&quot;;</span><br><span class="line">let options = &#123;</span><br><span class="line">	&quot;cover&quot; : false,</span><br><span class="line">	&quot;when&quot; : new Date(),</span><br><span class="line">	&#x27;title&#x27; : &quot;é€šçŸ¥æ¶ˆæ¯&quot;</span><br><span class="line">&#125;;</span><br><span class="line">let body = &#123;</span><br><span class="line">	&#x27;id&#x27; : &#x27;id&#x27;,</span><br><span class="line">	&#x27;key&#x27;: &quot;key&quot;</span><br><span class="line">&#125;</span><br><span class="line">let payload = JSON.stringify(body);</span><br><span class="line">plus.push.createMessage(content, payload, options);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å„é¡¹å‚æ•°è¯´æ˜ï¼š<br><code>content</code>: ( String ç±»å‹) å¿…é€‰ï¼Œæ¶ˆæ¯æ˜¾ç¤ºçš„å†…å®¹ï¼Œåœ¨ç³»ç»Ÿé€šçŸ¥ä¸­å¿ƒä¸­æ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹ã€‚<br><code>payload</code>: ( String ç±»å‹ ) å¯é€‰ï¼Œæ¶ˆæ¯æ‰¿è½½çš„æ•°æ®ï¼Œå¯æ ¹æ®ä¸šåŠ¡é€»è¾‘è‡ªå®šä¹‰æ•°æ®æ ¼å¼ã€‚<br><code>option</code>: ( MessageOptions ) å¯é€‰ åˆ›å»ºæ¶ˆæ¯çš„é¢å¤–å‚æ•°ï¼Œå‚è€ƒMessageOptionsã€‚<br><code>MessageOptions</code>ï¼šJSONå¯¹è±¡ï¼Œè·å®¢æˆ·ç«¯åˆ›å»ºæœ¬åœ°æ¶ˆæ¯çš„å‚æ•°ï¼š<br>    â‘  title: (String ç±»å‹ )æ¨é€æ¶ˆæ¯çš„æ ‡é¢˜ã€‚<br>    â‘¡ sound: (String ç±»å‹ )æ¨é€æ¶ˆæ¯çš„æç¤ºéŸ³ï¼Œæ˜¾ç¤ºæ¶ˆæ¯æ—¶çš„æ’­æ”¾çš„æç¤ºéŸ³ï¼Œå¯å–å€¼ï¼š<br>        â€œsystemâ€-è¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé€šçŸ¥æç¤ºéŸ³ï¼› â€œnoneâ€-è¡¨ç¤ºä¸ä½¿ç”¨æç¤ºéŸ³ï¼› é»˜è®¤å€¼ä¸ºâ€œsystemâ€ã€‚<br>    â‘¢ cover: (Boolean ç±»å‹)æ˜¯å¦è¦†ç›–ä¸Šä¸€æ¬¡æç¤ºçš„æ¶ˆæ¯ã€‚<br>        å¯å–å€¼trueæˆ–falseï¼Œtrueä¸ºè¦†ç›–ï¼Œfalseä¸è¦†ç›–<br>    â‘£ when: (Date ç±»å‹ )æ¶ˆæ¯ä¸Šæ˜¾ç¤ºçš„æç¤ºæ—¶é—´ã€‚<br>    â‘¤ delay: (Number ç±»å‹)æç¤ºæ¶ˆæ¯å»¶è¿Ÿæ˜¾ç¤ºçš„æ—¶é—´ã€‚<br>        å½“è®¾å¤‡æ¥æ”¶åˆ°æ¨é€æ¶ˆæ¯åï¼Œå¯ä¸ç«‹å³æ˜¾ç¤ºï¼Œè€Œæ˜¯å»¶è¿Ÿä¸€æ®µæ—¶é—´æ˜¾ç¤ºï¼Œå»¶è¿Ÿæ—¶é—´å•ä½ä¸ºsï¼Œé»˜è®¤ä¸º0sï¼Œç«‹å³æ˜¾ç¤ºã€‚</p>
<h2 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" class="headerlink" title="å…¶ä»–æ–¹æ³•"></a>å…¶ä»–æ–¹æ³•</h2><h3 id="è·å–æ‰€æœ‰ä¿¡æ¯"><a href="#è·å–æ‰€æœ‰ä¿¡æ¯" class="headerlink" title="è·å–æ‰€æœ‰ä¿¡æ¯"></a>è·å–æ‰€æœ‰ä¿¡æ¯</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">getAllMessage()&#123;</span><br><span class="line"> 	return plus.push.getAllMessage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è·å–å®¢æˆ·ç«¯æ ‡è¯†"><a href="#è·å–å®¢æˆ·ç«¯æ ‡è¯†" class="headerlink" title="è·å–å®¢æˆ·ç«¯æ ‡è¯†"></a>è·å–å®¢æˆ·ç«¯æ ‡è¯†</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">plus.push.getClientInfo(); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æ•è·ç‚¹å‡»çš„é€šçŸ¥æ æ¶ˆæ¯å†…å®¹"><a href="#æ•è·ç‚¹å‡»çš„é€šçŸ¥æ æ¶ˆæ¯å†…å®¹" class="headerlink" title="æ•è·ç‚¹å‡»çš„é€šçŸ¥æ æ¶ˆæ¯å†…å®¹"></a>æ•è·ç‚¹å‡»çš„é€šçŸ¥æ æ¶ˆæ¯å†…å®¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">plus.push.addEventListener( &quot;click&quot;, function(msg)&#123;</span><br><span class="line">	console.log( &quot;æ‚¨ç‚¹å‡»äº†: &quot; + JSON.stringify(msg) );</span><br><span class="line">	// TODO...</span><br><span class="line">&#125;, false); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="åˆ é™¤æŒ‡å®šçš„é€šçŸ¥æ æ¶ˆæ¯"><a href="#åˆ é™¤æŒ‡å®šçš„é€šçŸ¥æ æ¶ˆæ¯" class="headerlink" title="åˆ é™¤æŒ‡å®šçš„é€šçŸ¥æ æ¶ˆæ¯"></a>åˆ é™¤æŒ‡å®šçš„é€šçŸ¥æ æ¶ˆæ¯</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">plus.push.remove( message ); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‚æ•°ï¼šmessage: ( PushMessage ) å¿…å¡«,è¦åˆ é™¤çš„æ¶ˆæ¯å¯¹è±¡ï¼Œå¯é€šè¿‡getAllMessage()æ–¹æ³•æ¥è·å–æ¶ˆæ¯ã€‚</p>
<h3 id="æ¸…ç©ºæ‰€æœ‰çš„é€šçŸ¥æ æ¶ˆæ¯"><a href="#æ¸…ç©ºæ‰€æœ‰çš„é€šçŸ¥æ æ¶ˆæ¯" class="headerlink" title="æ¸…ç©ºæ‰€æœ‰çš„é€šçŸ¥æ æ¶ˆæ¯"></a>æ¸…ç©ºæ‰€æœ‰çš„é€šçŸ¥æ æ¶ˆæ¯</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">plus.push.clear(); </span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ–°çš„çŸ¥è¯†åˆå¢åŠ äº†~</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>çŸ¥è¯†ç‚¹</tag>
        <tag>Android</tag>
        <tag>uniapp</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨vercelå’Œgithubå…è´¹å®ç°serverless apiæ¥å£æœåŠ¡éƒ¨ç½²</title>
    <url>/2023/07/24/github_api/</url>
    <content><![CDATA[<h1 id="vercel"><a href="#vercel" class="headerlink" title="vercel"></a>vercel</h1><h2 id="ç®€å•ä»‹ç»ä¸€ä¸‹vercel"><a href="#ç®€å•ä»‹ç»ä¸€ä¸‹vercel" class="headerlink" title="ç®€å•ä»‹ç»ä¸€ä¸‹vercel"></a>ç®€å•ä»‹ç»ä¸€ä¸‹vercel</h2><p>vercelå’Œgithub Pagesä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå…è´¹çš„æ‰˜ç®¡å¹³å°ï¼ŒåŒç±»çš„å¹³å°è¿˜æœ‰Netlifyï¼Œæä¾›CDNåŠ é€Ÿã€‚</p>
<p>ä½†æ˜¯åœ¨ç›¸æ¯”ä¹‹ä¸‹ï¼Œvercelåœ¨å›½å†…çš„è®¿é—®é€Ÿåº¦æ›´å¿«ï¼Œå¯ä»¥æ‰˜ç®¡åŠ¨æ€ç½‘ç«™ï¼Œå¹¶ä¸”æä¾›Productionç¯å¢ƒå’Œdevelopmentç¯å¢ƒã€‚</p>
<p>æ”¯æŒæŒç»­é›†æˆï¼Œä¸€æ¬¡pushå°±ä¼šè‡ªåŠ¨åŒ–æ„å»ºå‘å¸ƒï¼Œå‘å¸ƒåœ¨developmentç¯å¢ƒï¼Œéƒ½ä¼šç”Ÿæˆä¸ä¸€æ ·çš„é“¾æ¥å¯ä¾›é¢„è§ˆã€‚</p>
<p>è‡ªåŠ¨é…ç½®httpsï¼Œä¸ç”¨è‡ªå·±å»FreeSSLç”³è¯·è¯ä¹¦ï¼Œæ›´æ˜¯çœå»äº†ä¸€å¤§å †è¯ä¹¦çš„é…ç½®ï¼Œå¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚</p>
<h2 id="æ³¨å†Œvercel"><a href="#æ³¨å†Œvercel" class="headerlink" title="æ³¨å†Œvercel"></a>æ³¨å†Œvercel</h2><p>æ‰“å¼€vercelä¸»é¡µ <a href="https://vercel.com/login">https://vercel.com/login</a></p>
<p><img src="/img/vercel/01.png" alt="æ³¨å†Œvercel"></p>
<span id="more"></span>


<p>ä½¿ç”¨GitHubè´¦å·å»ç™»å½•å…³è”vercelï¼Œåç»­éƒ¨ç½²åœ¨githubçš„ä»£ç å°±å¯ä»¥è‡ªåŠ¨æäº¤åˆ°vercelï¼Œè‡ªåŠ¨è§¦å‘éƒ¨ç½²ã€‚</p>
<h2 id="åŒæ­¥githubé¡¹ç›®å’Œéƒ¨ç½²"><a href="#åŒæ­¥githubé¡¹ç›®å’Œéƒ¨ç½²" class="headerlink" title="åŒæ­¥githubé¡¹ç›®å’Œéƒ¨ç½²"></a>åŒæ­¥githubé¡¹ç›®å’Œéƒ¨ç½²</h2><p>æ–°å»ºvercelé¡¹ç›®</p>
<p><img src="/img/vercel/02.png" alt="æ–°å»ºvercelé¡¹ç›®02"></p>
<p>å¦‚ä½•ç‚¹å‡»ç»‘å®šgithubä»“åº“ï¼Œä¼šè‡ªåŠ¨è¯»å–githubçš„æ‰€æœ‰ä»“åº“ï¼Œé€‰æ‹©ä½ è¦è‡ªåŠ¨éƒ¨ç½²çš„ä»“åº“ï¼Œç‚¹å‡»Importå³å¯å¯¼å…¥ï¼Œä¸€è·¯ç‚¹å‡»Deployå³å¯ã€‚</p>
<p><img src="/img/vercel/03.png" alt="æ–°å»ºvercelé¡¹ç›®03"></p>
<p>ç­‰ä¸ªå‡ åˆ†é’Ÿè‡ªåŠ¨éƒ¨ç½²å®Œæ¯•ä¹‹åï¼Œå°±å¯ä»¥ç‚¹å‡»Visitè®¿é—®éƒ¨ç½²çš„ç½‘ç«™äº†ï¼Œvercelè¿˜æä¾›äº†å¤šä¸ªå¼€å‘é¢„è§ˆåŸŸåå’Œå…¬å¼€åŸŸåã€‚</p>
<p><img src="/img/vercel/04.png" alt="æ–°å»ºvercelé¡¹ç›®04"></p>
<p>ä½ ä¹Ÿå¯ä»¥ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼š</p>
<p><img src="/img/vercel/05.png" alt="æ–°å»ºvercelé¡¹ç›®05"></p>
<p>ç‚¹å‡»vercelé¡¹ç›®çš„Settingè®¾ç½®æ ç›®çš„Domainsé€‰é¡¹ï¼Œåœ¨è¾“å…¥æ¡†è¾“å…¥ä½ çš„åŸŸåï¼Œå¦‚ä½•ç‚¹å‡»Addæ·»åŠ å³å¯ï¼Œæœ€åæŠŠåŸŸåç”¨CNAMEæ–¹å¼è§£æåˆ°vercelæŒ‡å®šçš„DNSåœ°å€å³å¯å®Œæˆè‡ªå®šä¹‰åŸŸåçš„ç»‘å®šã€‚</p>
<h1 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h1><h2 id="æ·»åŠ vercel-json"><a href="#æ·»åŠ vercel-json" class="headerlink" title="æ·»åŠ vercel.json"></a>æ·»åŠ vercel.json</h2><p>è¦å®ç°å¯ä»¥è®¿é—®æ‰§è¡Œphpï¼Œéœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•æ·»åŠ ä¸€ä¸ªvercel.jsonæ–‡ä»¶ã€‚</p>
<p>å¤§è‡´æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  &quot;functions&quot;: &#123;</span><br><span class="line">    &quot;api/index.php&quot;: &#123; &quot;runtime&quot;: &quot;vercel-php@0.5.2&quot; &#125;,</span><br><span class="line">    &quot;api/api.php&quot;: &#123; &quot;runtime&quot;: &quot;vercel-php@0.5.2&quot; &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;routes&quot;: [</span><br><span class="line">	  &#123; &quot;src&quot;: &quot;/&quot;, &quot;dest&quot;: &quot;/api/index.php&quot; &#125;,</span><br><span class="line">	  &#123; &quot;src&quot;: &quot;/index.php&quot;, &quot;dest&quot;: &quot;/api/index.php&quot; &#125;,</span><br><span class="line">	  &#123; &quot;src&quot;: &quot;/api.php&quot;, &quot;dest&quot;: &quot;/api/api.php&quot; &#125;</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ›´å¤šé…ç½®å‚æ•°å¯ä»¥åœ¨vercelçš„å®˜ç½‘æ¡£æ¡ˆä¸­æŸ¥æ‰¾ï¼Œåœ°å€ä¸º <a href="https://vercel.com/docs">https://vercel.com/docs</a></p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ–°çš„çŸ¥è¯†åˆå¢åŠ äº†~</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>vercel</tag>
        <tag>github</tag>
        <tag>api</tag>
      </tags>
  </entry>
  <entry>
    <title>Unityä¸€äº›å¸¸ç”¨çš„å°çŸ¥è¯†ç‚¹ç¬”è®°ï¼ŒWebGLéƒ¨ç½²æŠ¥Unable to parse Buildè§£å†³ç¬”è®°</title>
    <url>/2023/03/28/unity_note/</url>
    <content><![CDATA[<h1 id="UnityçŸ¥è¯†ç‚¹ä¸€"><a href="#UnityçŸ¥è¯†ç‚¹ä¸€" class="headerlink" title="UnityçŸ¥è¯†ç‚¹ä¸€"></a>UnityçŸ¥è¯†ç‚¹ä¸€</h1><h2 id="Unityæ‰“åŒ…WebGLæŠ¥Unable-to-parse-Build"><a href="#Unityæ‰“åŒ…WebGLæŠ¥Unable-to-parse-Build" class="headerlink" title="Unityæ‰“åŒ…WebGLæŠ¥Unable to parse Build"></a>Unityæ‰“åŒ…WebGLæŠ¥Unable to parse Build</h2><p>é”™è¯¯è¯¦æƒ…ç¤ºä¾‹ï¼š</p>
<p>Unable to parse Build/*.framework.js.gz! This can happen if build compression was enabled but web server hosting the content was misconfigured to not serve the file with HTTP Response Header â€œContent-Encoding: gzipâ€ present. Check browser Console and Devtools Network tab to debug.</p>
<p>å›¾ç¤ºï¼š</p>
<p><img src="/img/unityNote/error.png" alt="unityError"></p>
<h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><span id="more"></span>

<p>åœ¨Unityçš„WebGLåˆ›å»ºæ—¶çš„PlayerSettingsä¸­ï¼Œæ‹‰åˆ°æœ€ä¸‹é¢å±•å¼€Publishing settingsé€‰é¡¹å¡ï¼ŒæŠŠDecompression Fallback é€‰é¡¹å‹¾ä¸Šå³å¯ã€‚</p>
<p>å›¾ç¤ºï¼š</p>
<p><img src="/img/unityNote/setting.png" alt="unitysetting"></p>
<h2 id="åŸå› å’ŒåŸç†"><a href="#åŸå› å’ŒåŸç†" class="headerlink" title="åŸå› å’ŒåŸç†"></a>åŸå› å’ŒåŸç†</h2><p>å…³äºDecompression Fallbackçš„unityå®˜æ–¹çš„è§£é‡Šï¼š</p>
<p><img src="/img/unityNote/tip.png" alt="unityTip"></p>
<p>å‚è€ƒç¿»è¯‘ï¼šåœ¨åŠ è½½ç¨‹åºä¸­åŒ…æ‹¬ç”Ÿæˆæ–‡ä»¶çš„è§£å‹ç¼©å›é€€ä»£ç ã€‚å¦‚æœæ— æ³•æ ¹æ®é€‰å®šçš„å‹ç¼©æ–¹æ³•é…ç½®æœåŠ¡å™¨å“åº”æ ‡å¤´ï¼Œè¯·ä½¿ç”¨æ­¤é€‰é¡¹ã€‚</p>
<h1 id="UnityçŸ¥è¯†ç‚¹äºŒ"><a href="#UnityçŸ¥è¯†ç‚¹äºŒ" class="headerlink" title="UnityçŸ¥è¯†ç‚¹äºŒ"></a>UnityçŸ¥è¯†ç‚¹äºŒ</h1><h2 id="ä¸€äº›å¸¸ç”¨çš„å°çŸ¥è¯†"><a href="#ä¸€äº›å¸¸ç”¨çš„å°çŸ¥è¯†" class="headerlink" title="ä¸€äº›å¸¸ç”¨çš„å°çŸ¥è¯†"></a>ä¸€äº›å¸¸ç”¨çš„å°çŸ¥è¯†</h2><h3 id="éšæœºæ•°ç”Ÿæˆ"><a href="#éšæœºæ•°ç”Ÿæˆ" class="headerlink" title="éšæœºæ•°ç”Ÿæˆ"></a>éšæœºæ•°ç”Ÿæˆ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Random.Range(0, 10); //éšæœºç”Ÿæˆ0åˆ°10ä¹‹é—´çš„æ•´æ•°ã€‚ä¸åŒ…å«10</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="åœ¨æŒ‡å®šä½ç½®ç”Ÿæˆç‰©ä½“-å°æ€ª-é“å…·ç­‰"><a href="#åœ¨æŒ‡å®šä½ç½®ç”Ÿæˆç‰©ä½“-å°æ€ª-é“å…·ç­‰" class="headerlink" title="åœ¨æŒ‡å®šä½ç½®ç”Ÿæˆç‰©ä½“/å°æ€ª/é“å…·ç­‰"></a>åœ¨æŒ‡å®šä½ç½®ç”Ÿæˆç‰©ä½“/å°æ€ª/é“å…·ç­‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Instantiate&lt;GameObject&gt;(obj, position, Quaternion.identity);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>obj : è¦æ–°å»ºç‰©ä½“/å°æ€ª/é“å…·çš„GameObject</p>
<p>positionï¼šç”Ÿæˆçš„ä½ç½®</p>
<h3 id="2Dè§’è‰²è½¬å‘"><a href="#2Dè§’è‰²è½¬å‘" class="headerlink" title="2Dè§’è‰²è½¬å‘"></a>2Dè§’è‰²è½¬å‘</h3><p> åˆ©ç”¨SpriteRendererç»„ä»¶ä¸‹çš„flipXå±æ€§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">GetComponent&lt;SpriteRenderer&gt;().flipX = true;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ–ä½¿ç”¨transformçš„localScaleå±æ€§</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">transform.localScale = new Vector3(-1, 1, 1);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è§’è‰²ä»ä¸€ä¸ªç‚¹ç§»åŠ¨åˆ°å¦ä¸€ç‚¹"><a href="#è§’è‰²ä»ä¸€ä¸ªç‚¹ç§»åŠ¨åˆ°å¦ä¸€ç‚¹" class="headerlink" title="è§’è‰²ä»ä¸€ä¸ªç‚¹ç§»åŠ¨åˆ°å¦ä¸€ç‚¹"></a>è§’è‰²ä»ä¸€ä¸ªç‚¹ç§»åŠ¨åˆ°å¦ä¸€ç‚¹</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">transform.position = Vector3.MoveTowards(startPosition, endPosition, Time.deltaTime * speed); </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è®¡ç®—ä¸¤ä¸ªç‚¹çš„è·ç¦»"><a href="#è®¡ç®—ä¸¤ä¸ªç‚¹çš„è·ç¦»" class="headerlink" title="è®¡ç®—ä¸¤ä¸ªç‚¹çš„è·ç¦»"></a>è®¡ç®—ä¸¤ä¸ªç‚¹çš„è·ç¦»</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">float dis = Vector3.Distance(startPosition, endPosition);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥æ‰¾ç‰©ä½“å’Œå­ç‰©ä½“"><a href="#æŸ¥æ‰¾ç‰©ä½“å’Œå­ç‰©ä½“" class="headerlink" title="æŸ¥æ‰¾ç‰©ä½“å’Œå­ç‰©ä½“"></a>æŸ¥æ‰¾ç‰©ä½“å’Œå­ç‰©ä½“</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">//æŸ¥æ‰¾ç‰©ä½“æ–¹æ³•</span><br><span class="line">GameObject go = GameObject.Find(&quot;Cube&quot;);</span><br><span class="line"></span><br><span class="line">//æŸ¥æ‰¾å­ç‰©ä½“ï¼Œå¹¶ä¸”å°†å¾—åˆ°çš„ç‰©ä½“è½¬æ¢æˆgameobject</span><br><span class="line">GameObject objname = go.transform.FindChild(&quot;Sphere/Cylinder/Plane&quot;).gameObject;</span><br><span class="line">Debug.Log(&quot;å¾—åˆ°æœ€ç»ˆå­ç‰©ä½“çš„åå­—æ˜¯ï¼š&quot; + objname.name);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="é‡æ–°åŠ è½½å½“å‰åœºæ™¯"><a href="#é‡æ–°åŠ è½½å½“å‰åœºæ™¯" class="headerlink" title="é‡æ–°åŠ è½½å½“å‰åœºæ™¯"></a>é‡æ–°åŠ è½½å½“å‰åœºæ™¯</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">SceneManager.LoadScene(SceneManager.GetActiveScene().name);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="åŠ è½½ä¸‹ä¸€ä¸ªåœºæ™¯"><a href="#åŠ è½½ä¸‹ä¸€ä¸ªåœºæ™¯" class="headerlink" title="åŠ è½½ä¸‹ä¸€ä¸ªåœºæ™¯"></a>åŠ è½½ä¸‹ä¸€ä¸ªåœºæ™¯</h3><p>éœ€è¦å…ˆåœ¨æ„å»ºé¡¹ç›®å‰ï¼Œåœ¨è®¾ç½®ä¸­æŠŠæ‰€æœ‰çš„åœºæ™¯ä¸€æ¬¡æ‹–å…¥åˆ—è¡¨ä¸­ï¼Œä»ä¸Šåˆ°ä¸‹é¡ºåºæ’åˆ—ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex + 1);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ–°çš„çŸ¥è¯†åˆåˆåˆå¢åŠ äº†~</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Unity</tag>
        <tag>WebGL</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿®æ”¹JSæ•°ç»„ä¸­ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œå…¶å®ƒå…ƒç´ ä¹Ÿä¼šè·Ÿç€å˜åŒ–</title>
    <url>/2023/03/13/js-array/</url>
    <content><![CDATA[<h1 id="jsçš„ç¥å¥‡"><a href="#jsçš„ç¥å¥‡" class="headerlink" title="jsçš„ç¥å¥‡"></a>jsçš„ç¥å¥‡</h1><h2 id="çŸ¥è¯†ç‚¹é—®é¢˜å¤ç°"><a href="#çŸ¥è¯†ç‚¹é—®é¢˜å¤ç°" class="headerlink" title="çŸ¥è¯†ç‚¹é—®é¢˜å¤ç°"></a>çŸ¥è¯†ç‚¹é—®é¢˜å¤ç°</h2><p>ä»Šå¤©åœ¨ç ç€ä»£ç è°ƒè¯•çš„æ—¶å€™ï¼Œæ ¹æ®æ¡ä»¶åˆ¤æ–­å°†ä¸€ä¸ªæ•°ç»„çš„ä¸€ä¸ªå…ƒç´ å€¼è¿›è¡Œå¢æˆ–è€…å‡çš„æ“ä½œï¼Œç»“æœå‘ç°ï¼Œæ•°ç»„ä¸­çš„å…¶å®ƒå…ƒç´ ä¹Ÿéƒ½è·Ÿç€å˜äº†ã€‚</p>
<p>ç¬¬ä¸€æ¬¡ç¢°è§è¿™ç§æƒ…å†µï¼Œæ£€æŸ¥äº†å¥½å‡ éä»£ç ä¹Ÿæ²¡æ„Ÿè§‰å“ªé‡Œæœ‰å†™é”™ï¼Œæœ‰ç‚¹ä¸€å¤´é›¾æ°´ï¼Œç”šè‡³å†™äº†å„ç§å°demoè°ƒè¯•ã€‚</p>
<p>æœ€åå‘ç°ï¼Œæ˜¯å…³äºjsçš„å †ä¸æ ˆé—®é¢˜â€¦</p>
<p>ç¤ºä¾‹ä»£ç ï¼š</p>
<span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">var d = [</span><br><span class="line">	&#123;</span><br><span class="line">			a: 1</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">			a: 2</span><br><span class="line">	&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">d[2].a = 100;</span><br><span class="line">console.log(d);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§æˆ‘ä»¬é€šå¸¸çš„è®¤çŸ¥é‡Œï¼Œä¸Šè¿°ä»£ç æ‰§è¡Œçš„ç»“æœåº”è¯¥æ˜¯æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[&#123;a:1&#125;,&#123;a:100&#125;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è€Œå®é™…ä¸Šçš„æ‰§è¡Œç»“æœå´æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">[&#123;a:100&#125;,&#123;a:100&#125;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¾ˆå¥‡æ€ªå§~</p>
<h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>å…ˆæŠŠæ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå†è½¬æ¢æˆå¯¹è±¡ï¼Œåœ¨è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œæœ€åå†èµ‹å€¼å›å»ã€‚</p>
<p>ä»£ç ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">var d = [</span><br><span class="line">	&#123;</span><br><span class="line">			a: 1</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">			a: 2</span><br><span class="line">	&#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">var tmp = JSON.parse(JSON.stringify(d));</span><br><span class="line">tmp[2].a = 100;</span><br><span class="line">d = tmp;</span><br><span class="line">console.log(d);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="åŸå› å’ŒåŸç†"><a href="#åŸå› å’ŒåŸç†" class="headerlink" title="åŸå› å’ŒåŸç†"></a>åŸå› å’ŒåŸç†</h2><p>jsä¸­çš„æ•°ç»„æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ•°ç»„å˜é‡å­˜å‚¨åœ¨æ ˆï¼Œå…ƒç´ æ•°æ®å­˜å‚¨åœ¨å †ä¸­ï¼Œå°†æ•°ç»„èµ‹å€¼ä¸åŒçš„å¯¹è±¡ï¼Œæ‰€ä»¥çš„èµ‹å€¼å¯¹è±¡éƒ½æŒ‡å‘å †åŒä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥æ”¹å˜å…¶ä¸­ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œåˆ«çš„æ•°ç»„å…ƒç´ ä¹Ÿä¼šæ”¹å˜ã€‚</p>
<p>æŠŠæ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå†è½¬æ¢æˆå¯¹è±¡ï¼Œè¿™æ ·ä¼šæ–°åˆ†é…ä¸€å—å†…å­˜ï¼Œå°±ä¸ä¼šæŒ‡å‘åŒä¸€ä¸ªå †ä¸­çš„æ•°æ®äº†ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ–°çš„çŸ¥è¯†åˆå¢åŠ äº†~</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>JScript</tag>
        <tag>å¤§å‰ç«¯</tag>
        <tag>vue</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å°ç¨‹åºçš„å®¡æ ¸æ²¡æœ‰ç»Ÿä¸€æ ‡å‡†å—ï¼ŸçœŸçš„å¤ªå¥‡è‘©äº†...</title>
    <url>/2023/02/28/wx-mini/</url>
    <content><![CDATA[<h1 id="å®¡æ ¸æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†"><a href="#å®¡æ ¸æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†" class="headerlink" title="å®¡æ ¸æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†"></a>å®¡æ ¸æ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†</h1><h2 id="å®¡æ ¸è§„åˆ™"><a href="#å®¡æ ¸è§„åˆ™" class="headerlink" title="å®¡æ ¸è§„åˆ™"></a>å®¡æ ¸è§„åˆ™</h2><p>å¾®ä¿¡å°ç¨‹åºçš„å®¡æ ¸æœºåˆ¶ï¼Œè™½ç„¶å†™äº†è¶…çº§å¤šçš„è§„èŒƒï¼Œä¹ŸæŠŠä¸ªäººå’Œä¼ä¸šèƒ½å¤Ÿä¸Šçº¿çš„ç±»ç›®ç»†åˆ†å‡ºäº†å¾ˆå¤š</p>
<p>ä½†æ˜¯å®¡æ ¸äººå‘˜è²Œä¼¼æ¯ä¸ªéƒ½ä¸ä¸€æ ·</p>
<p>æœ‰æ—¶å€™ä¸€æ ·çš„ä»£ç ï¼Œä½ è¿™æ¬¡æ²¡æœ‰åšä»€ä¹ˆä¿®æ”¹ï¼Œå°±æ”¹ä¸ªcssæ ·å¼ï¼Œè¿™æ¬¡å»æå®¡å¯èƒ½å°±è¿‡ä¸äº†</p>
<span id="more"></span>

<p>æœ‰äººè¯´ â€œå¯èƒ½æ˜¯ä½ ä¸Šæ¬¡æå®¡çš„ç‰ˆæœ¬ï¼Œå®¡æ ¸äººå‘˜æ²¡æœ‰å®¡åˆ°è¿è§„çš„å†…å®¹ï¼Œè¿™æ¬¡å®¡åˆ°äº†â€</p>
<p>åŸºæœ¬ä¸Šå¾ˆå¤§éƒ¨åˆ†å¼€å‘è€…éƒ½æ¥å—äº†è¿™ä¸ªç†ç”±ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªç†ç”±è¯´çš„äº‹ï¼šå¯èƒ½ä½ è¿™æ¬¡æå®¡çš„æ—¶å€™å¹³å°è§„åˆ™æ”¹ç‰ˆäº†</p>
<h2 id="ä¾æ—§å¥‡æ€ªçš„ç°è±¡"><a href="#ä¾æ—§å¥‡æ€ªçš„ç°è±¡" class="headerlink" title="ä¾æ—§å¥‡æ€ªçš„ç°è±¡"></a>ä¾æ—§å¥‡æ€ªçš„ç°è±¡</h2><p>è™½ç„¶ä¸Šé¢è¯´çš„ä¸¤ä¸ªç†ç”±éƒ½å¾ˆæœ‰é“ç†ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è¿™ç§ç°è±¡ï¼š</p>
<p>åŒä¸€å¥—ä»£ç ï¼Œå¤šä¸ªè´¦å·åŒä¸€å¤©æäº¤ï¼Œååå°±æœ‰é‚£ä¹ˆä¸€ä¸ªæˆ–ä¸¤ä¸ªå®¡æ ¸æ‰“å›è¯´ä½ ä¸é€šè¿‡å¾—</p>
<p>è¿™å‡ å°±å¾ˆå……åˆ†è¯´æ˜ä¸€ä¸ªäº‹æƒ…ï¼Œå®¡æ ¸çœŸçš„å¾ˆçœ‹å¿ƒæƒ…ï¼ˆèµ·ç å äº†ç‹ å¤§éƒ¨åˆ†ï¼‰ã€‚</p>
<p>å¦‚æœä½ çš„è´¦å·æ˜¯ä¸ªäººç±»å‹çš„è´¦å·ï¼Œå¾ˆå¤§éƒ¨åˆ†éƒ½è¢«ä»¥</p>
<p> <code>ä¸ªäººèµ„è´¨æœªå¼€æ”¾çš„ç±»ç›®</code></p>
<p>åŸå› æ‰“å›ï¼Œå¸Œæœ›ä½ ç”¨è®¤è¯ä¸ºä¼ä¸šèµ„è´¨çš„è´¦å·æäº¤ã€‚</p>
<p>æˆ‘å¾ˆçº³é—·ï¼Œä¸€ä¸ªç»™æ¸¸æˆæ©˜è§’è‰²æŠ•ç¥¨çš„é¡µé¢ï¼Œä¹Ÿä¼šè¢«æ‰“å›ï¼Œè¯´æ˜¯ </p>
<p> <code>å±äºèµ„è®¯ä¿¡æ¯ç±»ç›®ï¼Œä¸ªäººèµ„è´¨æœªå¼€æ”¾çš„ç±»ç›®ï¼Œè¯·æ•´æ”¹</code></p>
<p>è¿™æ˜¯ä»¥æœ¬åœ°è‡ªæ­å½¢å¼çš„æŠ•ç¥¨ï¼Œå¹¶éè¯»å–çš„ç½‘ç»œèµ„æºæˆ–ä¿¡æ¯è¿›è¡Œå±•ç¤ºï¼Œä¹Ÿèƒ½è§„èŒƒä¸ºâ€œèµ„è®¯ä¿¡æ¯â€ç±»ç›®</p>
<p>ä¹‹å‰æˆ‘è¿˜è®°å¾—ï¼Œå®¡æ ¸ä¸é€šè¿‡æ˜¯å¯ä»¥è¿›è¡Œç”³è¯‰çš„ï¼Œä»Šå¤©é‡åˆ°çš„æ‰“å›é€šçŸ¥å®Œå…¨æ²¡æœ‰äº†ï¼Œè«ä¸æ˜¯ç»™æˆ‘ç¦äº†ï¼Ÿ</p>
<p>åæ­£å°±æŒºæ— è¯­çš„ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>ä»Šå¤©è¢«å°ç¨‹åºå®¡æ ¸æ‰“å›å››äº”æ¬¡ï¼Œæ•´çš„æœ‰ç‚¹æ™•ï¼Œéšä¾¿åæ§½åæ§½</p>
<p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>åæ§½</category>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
        <tag>åæ§½</tag>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
      </tags>
  </entry>
  <entry>
    <title>é¿å‘ï¼šå°ç¨‹åºcanvasç»˜åˆ¶ä¸æ˜¾ç¤ºï¼ŒåŠ¨æ€è¯·æ±‚å›¾ç‰‡æŠ¥Unhandled promise rejectioné”™è¯¯è§£å†³</title>
    <url>/2023/02/22/wx-xcx-canvas/</url>
    <content><![CDATA[<h1 id="Unhandled-promise-rejectioné”™è¯¯"><a href="#Unhandled-promise-rejectioné”™è¯¯" class="headerlink" title="Unhandled promise rejectioné”™è¯¯"></a>Unhandled promise rejectioné”™è¯¯</h1><h2 id="æŠ¥é”™è¯¦æƒ…"><a href="#æŠ¥é”™è¯¦æƒ…" class="headerlink" title="æŠ¥é”™è¯¦æƒ…"></a>æŠ¥é”™è¯¦æƒ…</h2><p>ä½¿ç”¨ç½‘ç»œå›¾ç‰‡åœ°å€è¯·æ±‚æ—¶ï¼Œåå°æ•°æ®æœ‰æ­£å¸¸è¿”å›ï¼Œä½†å‰ç«¯promiseå¤„ç†æŠ¥é”™ã€‚</p>
<p>ä¾‹å¦‚å›¾ç‰‡é“¾æ¥å¤±æ•ˆå‡ºç°404æ—¶ï¼Œä¸€æŠ¥é”™çš„æ—¶å€™ï¼Œå°±ä¸ç»§ç»­å¾€ä¸‹æ‰§è¡Œåé¢çš„ä»£ç </p>
<h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><span id="more"></span>

<p>request.jsçš„å°è£…è¯·æ±‚æ˜¯å½“åå°è¯·æ±‚çš„statusç ä¸ä¸º200æ—¶ï¼Œå°†ä¼šrejecté”™è¯¯ä¿¡æ¯å‡ºå»</p>
<p>rejectå‡½æ•°å¹¶ä¸ä¼šèµ°å…¥promiseçš„thenè¿›è¡Œå›è°ƒä¸­ï¼Œè€Œæ˜¯èµ°å…¥äº†catchçš„å›è°ƒä¸­ï¼š</p>
<p><img src="/img/wxCanvas/02.png" alt="promiseå›è°ƒ"></p>
<p>å†çœ‹çœ‹è¯·æ±‚æ—¶çš„è°ƒç”¨æƒ…å†µï¼š</p>
<p><img src="/img/wxCanvas/03.png" alt="promiseå›è°ƒ"></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä½¿ç”¨è¯·æ±‚æ—¶å¹¶æœªcatché”™è¯¯ä¿¡æ¯ï¼Œé‚£ä¹ˆå½“åå°çš„æ•°æ®è¿”å›çš„statusä¸ä¸º200æ—¶ï¼Œé”™è¯¯ä¿¡æ¯å°±æ— æ³•æ•è·ï¼Œè‡ªç„¶æ§åˆ¶å°å°±æŠ¥é”™äº†ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p><img src="/img/wxCanvas/04.png" alt="promiseå›è°ƒ"></p>
<p>åŠ ä¸€ä¸ªcatchæ¥æ•æ‰é”™è¯¯ä¿¡æ¯å³å¯å®Œç¾è§£å†³ã€‚</p>
<h1 id="canvasç»˜åˆ¶çš„å›¾ç‰‡ä¸æ˜¾ç¤º"><a href="#canvasç»˜åˆ¶çš„å›¾ç‰‡ä¸æ˜¾ç¤º" class="headerlink" title="canvasç»˜åˆ¶çš„å›¾ç‰‡ä¸æ˜¾ç¤º"></a>canvasç»˜åˆ¶çš„å›¾ç‰‡ä¸æ˜¾ç¤º</h1><h2 id="é—®é¢˜è¯¦æƒ…"><a href="#é—®é¢˜è¯¦æƒ…" class="headerlink" title="é—®é¢˜è¯¦æƒ…"></a>é—®é¢˜è¯¦æƒ…</h2><p>ä¾‹å¦‚åœ¨é¡µé¢ä¸Šä½¿ç”¨çš„å›¾ç‰‡å‡ä¸ºä¸Šä¼ åˆ°æœåŠ¡å™¨ä¸Šçš„å›¾ç‰‡</p>
<p>ç„¶åä½¿ç”¨ç»˜åˆ¶å‡½æ•°draw()å°†ç½‘ç»œå›¾ç‰‡ç»˜åˆ¶åˆ°canvaså®¹å™¨é‡Œ</p>
<p>æ‰“å¼€çœŸæœºè°ƒè¯•å‘ç°canvasä¸Šçš„å›¾ç‰‡å†…å®¹å¹¶ä¸æ˜¾ç¤º~</p>
<h2 id="åŸå› -1"><a href="#åŸå› -1" class="headerlink" title="åŸå› "></a>åŸå› </h2><p>ç»˜åˆ¶æ—¶è·å–å›¾ç‰‡è·¯å¾„ä¸ºç½‘ç»œå›¾ç‰‡æ—¶ï¼ŒAPIä¸ºå¼‚æ­¥æ“ä½œçš„ï¼Œè‹¥ä¸è½¬ä¸ºåŒæ­¥æ“ä½œï¼Œä¼šå°†å›¾ç‰‡ç»˜åˆ¶åœ¨draw()æ–¹æ³•åï¼Œè¿™æ ·æ˜¯ä¸èƒ½ä½¿å›¾ç‰‡ç»˜åˆ¶åœ¨é¡µé¢ä¸Šçš„ã€‚</p>
<h2 id="è§£å†³æ–¹æ³•-1"><a href="#è§£å†³æ–¹æ³•-1" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>åˆ©ç”¨promiseå°†å…¶è½¬ä¸ºåŒæ­¥æ“ä½œï¼Œç­‰å›¾ç‰‡è½½å…¥å®Œæ¯•å†ç»˜åˆ¶åˆ°canvasé‡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">getImge(path) &#123;</span><br><span class="line">	//åˆ©ç”¨promiseå¼‚æ­¥è½¬åŒæ­¥</span><br><span class="line">	return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">		uni.getImageInfo(&#123;</span><br><span class="line">			src: path,</span><br><span class="line">			success: function(res) &#123;</span><br><span class="line">				resolve(res)</span><br><span class="line">			&#125;,</span><br><span class="line">			fail: function(res) &#123;</span><br><span class="line">				reject(res)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">async cans() &#123;</span><br><span class="line">	// ç»˜åˆ¶ç”»å¸ƒå¤§å°ï¼Œå¡«å……é¢œè‰²</span><br><span class="line">	this.ctx.setFillStyle(&quot;#ffffff&quot;)</span><br><span class="line">	this.ctx.fillRect(0, 0, this.windowW * this.pixelRatio, this.windowH * this.pixelRatio)</span><br><span class="line">	this.ctx.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0)</span><br><span class="line">	let backImg = this.imgUrlPrefix + &#x27;biankuang.png&#x27; //å¤§è¾¹æ¡†</span><br><span class="line">	let that = this</span><br><span class="line">	await this.getImge(backImg).then(res =&gt; &#123;</span><br><span class="line">		this.ctx.drawImage(res.path, 15 * that.rpx, 15 * that.rpx, 345 * that.rpx, 571 * that.rpx)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å¼Šç«¯ç¼ºç‚¹"><a href="#å¼Šç«¯ç¼ºç‚¹" class="headerlink" title="å¼Šç«¯ç¼ºç‚¹"></a>å¼Šç«¯ç¼ºç‚¹</h2><p>å¦‚æœæ˜¯éœ€è¦ç»˜åˆ¶å¤šå¼ å›¾ç‰‡ï¼Œå¯¼è‡´éœ€è¦å¤šæ¬¡è°ƒç”¨drawImageæ–¹æ³•ï¼Œå†åŠ ä¸Šéœ€è¦åˆ¤æ–­æ–‡å­—æ¢è¡Œç­‰æ“ä½œçš„è¯ï¼Œå¯èƒ½ä¼šé€ æˆå†…å®¹ç»˜åˆ¶æ—¶é—´è¿‡é•¿ã€‚</p>
<p>canvasç”¨åœ¨å°ç¨‹åºä¸Šé—®é¢˜å¾ˆå¤šï¼Œä¼˜åŒ–èµ·æ¥çœŸçš„å¾ˆä¸æ˜“ï¼ˆé™¤éå’±è¦çš„æŸäº›åŠŸèƒ½å¤„ç†ä¸å¾—ä¸ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œä¸€èˆ¬çœŸçš„æ¨èä½¿ç”¨ï¼‰ï¼Œcanvaså®˜æ–¹æä¾›çš„ä¼˜åŒ–æ–¹æ³•ä¹‹ä¸€ï¼š** ç¦»å± **ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>æ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>ç¬”è®°</category>
        <category>vue</category>
      </categories>
      <tags>
        <tag>JScript</tag>
        <tag>vue</tag>
        <tag>å¾®ä¿¡å°ç¨‹åº</tag>
        <tag>canvas</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬”è®°ï¼šå®ç°æ•°ç»„æ’åˆ—ç»„åˆå›¾ç‰‡åˆæˆï¼Œåšä¸€ä¸ªNFTç”Ÿæˆå™¨ï¼</title>
    <url>/2022/02/14/android-nft/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>NFTæ˜¯å‰ä¸¤å¹´ç«èµ·æ¥çš„ï¼Œè¢«å¤§å®¶ç§°ä¸ºæ˜¯å»ä¸­å¿ƒåŒ–çš„éåŒè´¨åŒ–ä»£å¸ï¼Œæ˜¯å…·æœ‰å”¯ä¸€æ€§çš„æ•°å­—èµ„äº§åŠ å¯†è´§å¸ä»¤ç‰Œï¼Œå¹¶ä¸”æ˜¯å¯ä»¥ä¹°å–çš„ï¼</p>
<p>è¿™æ˜¯ä¸€åœºèµ„æœ¬å®¶çš„ç‹‚æ¬¢æ³¡æ²«è¿˜æ˜¯è‡´å¯Œé£å£ï¼Ÿ</p>
<p>å’±ä¸çŸ¥é“ï¼Œå°±æ˜¯å•çº¯çš„æœ€è¿‘æƒ³è‡ªå·±ç©ä¸€ç©ï¼Œå¼„ä¸€å¥—ä¸Šæ¶åˆ°NFTäº¤æ˜“å¹³å°ä¸Šå»çœ‹çœ‹2333..</p>
<p>ç„¶åè‡ªå·±på¥½äº†ç´ æï¼Œè‹¦äºæ‰¾ä¸åˆ°æ‰¹é‡ç”Ÿæˆå·¥å…·ï¼Œæ‰¾äº†ä¸€åœˆå‘ç°ç½‘ç»œä¸Šæœ‰å¾ˆå¤šjså’Œpythonçš„è„šæœ¬ã€‚</p>
<p>ä½†æ˜¯æˆ‘è‡ªå·±ä¸‹è½½ä¸‹æ¥è¿è¡Œåå‘ç°ï¼Œä¸æ˜¯ç¼ºè¿™ä¸ªæ¨¡å—å°±æ˜¯ç¼ºé‚£ä¸ªç¯å¢ƒæ²¡æœ‰éƒ¨ç½²ï¼Œæ›´éš¾å—çš„æ˜¯å®‰è£…æ¨¡å—è¿˜ä¸æˆåŠŸï¼</p>
<p>æœ€åå°±è‡ªå·±åœ¨Androidä¸Šå»å®ç°äº†</p>
<p>ä¸‹é¢ç›´æ¥çœ‹æ€ä¹ˆå®ç°çš„ï¼š</p>
<h1 id="Androidå®ç°å›¾ç‰‡åˆæˆ"><a href="#Androidå®ç°å›¾ç‰‡åˆæˆ" class="headerlink" title="Androidå®ç°å›¾ç‰‡åˆæˆ"></a>Androidå®ç°å›¾ç‰‡åˆæˆ</h1><span id="more"></span>

<h2 id="æ•°ç»„æ’åˆ—ç»„åˆ"><a href="#æ•°ç»„æ’åˆ—ç»„åˆ" class="headerlink" title="æ•°ç»„æ’åˆ—ç»„åˆ"></a>æ•°ç»„æ’åˆ—ç»„åˆ</h2><p>å…ˆæŠŠæ¯ä¸ªç´ æä¿å­˜åˆ°å•ç‹¬çš„æ•°ç»„é‡Œï¼Œç„¶åæŠŠå…¨éƒ¨æ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæ•°ç»„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">allList.add(arr_1);</span><br><span class="line">allList.add(arr_2);</span><br><span class="line">allList.add(arr_3);</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ’åˆ—ç»„åˆï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * ç®—æ³•ï¼Œéé€’å½’è®¡ç®—æ‰€æœ‰ç»„åˆ</span><br><span class="line"> * @param inputList æ‰€æœ‰æ•°ç»„çš„åˆ—è¡¨</span><br><span class="line"> * allList_newï¼šæ’åˆ—ç»„åˆåçš„æ–°æ•°ç»„</span><br><span class="line"> * </span><br><span class="line"> * */</span><br><span class="line">public void def_calculateCombination(List&lt;List&lt;String&gt;&gt; inputList) &#123;</span><br><span class="line">    List&lt;Integer&gt; combination = new ArrayList&lt;Integer&gt;();</span><br><span class="line">    allList_new.clear();</span><br><span class="line">    int n=inputList.size();</span><br><span class="line">    for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">        combination.add(0);</span><br><span class="line">    &#125;</span><br><span class="line">    int i=0;</span><br><span class="line">    boolean isContinue=false;</span><br><span class="line">    do&#123;</span><br><span class="line">        List&lt;String&gt; List = new ArrayList&lt;&gt;();</span><br><span class="line">        //æ‰“å°ä¸€æ¬¡å¾ªç¯ç”Ÿæˆçš„ç»„åˆ</span><br><span class="line">        for (int j = 0; j &lt; n; j++) &#123;</span><br><span class="line">            Log.e(&quot;=========&gt;&gt;&gt;&quot;, &quot;&quot; + inputList.get(j).get(combination.get(j)));</span><br><span class="line">            List.add(&quot;&quot; + inputList.get(j).get(combination.get(j)));</span><br><span class="line">        &#125;</span><br><span class="line">        Log.e(&quot;=========&quot;, &quot;====ä¸‹ä¸€ç»„====&quot;);</span><br><span class="line">        allList_new.add(List);</span><br><span class="line"></span><br><span class="line">        i++;</span><br><span class="line">        combination.set(n - 1, i);</span><br><span class="line">        for (int j = n - 1; j &gt;= 0; j--) &#123;</span><br><span class="line">            if (combination.get(j) &gt;= inputList.get(j).size()) &#123;</span><br><span class="line">                combination.set(j, 0);</span><br><span class="line">                i = 0;</span><br><span class="line">                if (j - 1 &gt;= 0) &#123;</span><br><span class="line">                    combination.set(j - 1, combination.get(j - 1) + 1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        isContinue = false;</span><br><span class="line">        for (Integer integer : combination) &#123;</span><br><span class="line">            if (integer != 0) &#123;</span><br><span class="line">                isContinue = true;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;while (isContinue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å›¾ç‰‡åˆæˆ"><a href="#å›¾ç‰‡åˆæˆ" class="headerlink" title="å›¾ç‰‡åˆæˆ"></a>å›¾ç‰‡åˆæˆ</h2><p>å›¾ç‰‡åˆæˆï¼Œè¿”å›åˆæˆåçš„æ–°å›¾ç‰‡Bitmapï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line">    * </span><br><span class="line">    * @param background èƒŒæ™¯å›¾</span><br><span class="line">    * @param body å‰æ™¯å›¾</span><br><span class="line">    * @return</span><br><span class="line">    */</span><br><span class="line">   public Bitmap def_combineBitmap(Bitmap background, Bitmap body) &#123;</span><br><span class="line">       if (background == null) &#123;</span><br><span class="line">           return null;</span><br><span class="line">       &#125;</span><br><span class="line">       int bgWidth = background.getWidth();</span><br><span class="line">       int bgHeight = background.getHeight();</span><br><span class="line">       /*</span><br><span class="line">        int fgWidth = body.getWidth();</span><br><span class="line">        int fgHeight = body.getHeight();</span><br><span class="line">        */</span><br><span class="line">       Bitmap newmap = Bitmap.createBitmap(bgWidth, bgHeight, Bitmap.Config.ARGB_8888);</span><br><span class="line">       Canvas canvas = new Canvas(newmap);</span><br><span class="line">	//æ·»åŠ æ¯ä¸ªç´ æå›¾ç‰‡åˆ°ç”»å¸ƒ</span><br><span class="line">       if (background != null) &#123;</span><br><span class="line">           canvas.drawBitmap(background, 0, 0, null);//å‚æ•°2å’Œ3æ˜¯è®¾ç½®è´´å›¾çš„xyåæ ‡ä½ç½®</span><br><span class="line">       &#125;</span><br><span class="line">       if (body != null) &#123;</span><br><span class="line">           canvas.drawBitmap(body, 0, 0, null);</span><br><span class="line">       &#125;</span><br><span class="line">	//æ›´å¤šç´ æå¯ä»¥ç»§ç»­åœ¨åé¢æ·»åŠ </span><br><span class="line">       canvas.save();</span><br><span class="line">       canvas.restore();</span><br><span class="line">       return newmap;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä¿å­˜å›¾ç‰‡åˆ°æ‰‹æœº"><a href="#ä¿å­˜å›¾ç‰‡åˆ°æ‰‹æœº" class="headerlink" title="ä¿å­˜å›¾ç‰‡åˆ°æ‰‹æœº"></a>ä¿å­˜å›¾ç‰‡åˆ°æ‰‹æœº</h2><p>ä¿å­˜å›¾ç‰‡åˆ°sdå¡æŒ‡å®šç›®å½•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">public void def_savePic(Bitmap btImage) &#123;</span><br><span class="line">       if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED)) &#123;    </span><br><span class="line">           FileOutputStream out = null;</span><br><span class="line">           // è·å–SDCardæŒ‡å®šç›®å½•ä¸‹</span><br><span class="line">           String sdCardDir = Environment.getExternalStorageDirectory() + &quot;/NFT/&quot;;</span><br><span class="line">           File dirFile  = new File(sdCardDir);  //ç›®å½•è½¬åŒ–æˆæ–‡ä»¶å¤¹</span><br><span class="line">           if (!dirFile .exists()) &#123;  //å¦‚æœä¸å­˜åœ¨ï¼Œé‚£å°±å»ºç«‹è¿™ä¸ªæ–‡ä»¶å¤¹</span><br><span class="line">               dirFile .mkdirs();</span><br><span class="line">           &#125;  </span><br><span class="line">           File file = new File(sdCardDir, &quot;NFT&quot; + System.currentTimeMillis() + &quot;.png&quot;);// åœ¨SDcardçš„ç›®å½•ä¸‹åˆ›å»ºå›¾ç‰‡æ–‡ï¼Œä»¥å½“å‰æ—¶é—´ä¸ºå…¶å‘½å</span><br><span class="line">           try &#123;</span><br><span class="line">               out = new FileOutputStream(file);</span><br><span class="line">               btImage.compress(Bitmap.CompressFormat.PNG, 100, out);</span><br><span class="line">               //System.out.println(&quot;___ä¿å­˜åˆ°_sd_æŒ‡å®šç›®å½•æ–‡ä»¶å¤¹___&quot;);</span><br><span class="line">           &#125; catch (FileNotFoundException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           try &#123;</span><br><span class="line">               out.flush();</span><br><span class="line">               out.close();</span><br><span class="line">           &#125; catch (IOException e) &#123;</span><br><span class="line">               e.printStackTrace();</span><br><span class="line">           &#125;</span><br><span class="line">           //Toast.makeText(MainActivity.this, &quot;ä¿å­˜å·²ç»è‡³&quot; + sdCardDir + &quot;ç›®å½•æ–‡ä»¶å¤¹ä¸‹&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¿å­˜å›¾ç‰‡éœ€è¦SDå¡å†™å…¥çš„æƒé™ï¼Œåˆ«å¿˜äº†åœ¨ <code>AndroidManifest.xml</code> ä¸­æ·»åŠ ï¼</p>
<h2 id="é™„åŠ ï¼šç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©æ–‡ä»¶ç´ æå¹¶è¿”å›è·¯å¾„Uri"><a href="#é™„åŠ ï¼šç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©æ–‡ä»¶ç´ æå¹¶è¿”å›è·¯å¾„Uri" class="headerlink" title="é™„åŠ ï¼šç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©æ–‡ä»¶ç´ æå¹¶è¿”å›è·¯å¾„Uri"></a>é™„åŠ ï¼šç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©æ–‡ä»¶ç´ æå¹¶è¿”å›è·¯å¾„Uri</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">//å­˜æ”¾éœ€è¦è¿‡æ»¤çš„ç±»å‹çš„ç±»</span><br><span class="line">public class MimeType &#123;</span><br><span class="line">    /*</span><br><span class="line">     public static final String DOC = &quot;application/msword&quot;;</span><br><span class="line">     public static final String DOCX = &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;;</span><br><span class="line">     public static final String XLS = &quot;application/vnd.ms-excel&quot;;</span><br><span class="line">     public static final String XLSX = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;;</span><br><span class="line">     public static final String PPT = &quot;application/vnd.ms-powerpoint&quot;;</span><br><span class="line">     public static final String PPTX = &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;;</span><br><span class="line">     public static final String PDF = &quot;application/pdf&quot;;</span><br><span class="line">     public static final String PNG = &quot;image/png&quot;;</span><br><span class="line">     */</span><br><span class="line">    public static final String JPG = &quot;image/*&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//é€‰æ‹©æ–‡ä»¶</span><br><span class="line">private void def_performFileSearch() &#123;</span><br><span class="line">    Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);</span><br><span class="line">    intent.addCategory(Intent.CATEGORY_OPENABLE);</span><br><span class="line">    //å…è®¸å¤šé€‰ é•¿æŒ‰å¤šé€‰</span><br><span class="line">    intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);</span><br><span class="line">    //ä¸é™åˆ¶é€‰å–ç±»å‹</span><br><span class="line">    intent.setType(&quot;*/*&quot;);</span><br><span class="line"></span><br><span class="line">    //å¦‚æœæƒ³ç»™é€‰æ‹©å™¨æ·»åŠ è¿‡æ»¤çš„æ–‡ä»¶ç±»å‹ï¼Œåªéœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç å°±å¯ä»¥äº†</span><br><span class="line">    String[] mimeTypes = &#123;</span><br><span class="line">        /*</span><br><span class="line">         MimeType.DOC, </span><br><span class="line">         MimeType.DOCX, </span><br><span class="line">         MimeType.PDF, </span><br><span class="line">         MimeType.PPT, </span><br><span class="line">         MimeType.PPTX, </span><br><span class="line">         MimeType.XLS, </span><br><span class="line">         MimeType.XLSX,</span><br><span class="line">         MimeType.PNG,*/</span><br><span class="line">         MimeType.JPG</span><br><span class="line">    &#125;;</span><br><span class="line">    intent.putExtra(Intent.EXTRA_MIME_TYPES, mimeTypes);</span><br><span class="line"></span><br><span class="line">    startActivityForResult(intent, 1); //ç¬¬äºŒä¸ªå‚æ•°å¿…é¡»æ˜¯å¤§äº0çš„ï¼Œæ‰ä¼šå“åº”onActivityResult()å›è°ƒå‡½æ•°</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//æ¥æ”¶é€‰æ‹©æ–‡ä»¶åçš„è¿”å›å€¼</span><br><span class="line">@Override</span><br><span class="line">protected void onActivityResult(int requestCode, int resultCode, Intent data) &#123;</span><br><span class="line">    super.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">    switch (requestCode) &#123;</span><br><span class="line">        case 1:</span><br><span class="line">            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) &#123;</span><br><span class="line">                //å•é€‰é€‰äº†ä¸€ä¸ªæ–‡ä»¶åè¿”å›</span><br><span class="line">                if (data.getData() != null) &#123;</span><br><span class="line">                    String uri = def_handleSingleDocument(data);</span><br><span class="line">                    //æ•°æ®uri</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    //å¤šé€‰åè¿”å›</span><br><span class="line">                    ClipData clipData = data.getClipData();</span><br><span class="line">                    if (clipData != null) &#123;</span><br><span class="line">                        Uri[] uris = new Uri[clipData.getItemCount()];</span><br><span class="line">                        for (int i = 0; i &lt; clipData.getItemCount(); i++) &#123;</span><br><span class="line">                            uris[i] = clipData.getItemAt(i).getUri();</span><br><span class="line">                        &#125;</span><br><span class="line">			//æ•°æ®uris</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å°†uriè½¬æ¢ä¸ºæˆ‘ä»¬éœ€è¦çš„path,å¤šé€‰ç±»ä¼¼</span><br><span class="line">private String def_handleSingleDocument(Intent data) &#123;</span><br><span class="line">    Uri uri = data.getData();</span><br><span class="line">    String filePath = null;</span><br><span class="line">    try &#123;</span><br><span class="line">        filePath = MyFileUtils.getPath(this, uri);</span><br><span class="line">    &#125; catch (Exception e) &#123;&#125;</span><br><span class="line">    return filePath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŸºæœ¬ä¸Šï¼Œé€šå…³ä¸Šé¢è¿™äº›å…³é”®å‡½æ•°ï¼Œå°±å®Œå…¨å¯ä»¥å®ç°è‡ªå·±åšä¸€ä¸ªâ€œNFTç”Ÿæˆå™¨â€Appäº†ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>ï¼ˆPSï¼šNFTè¿˜ä¼šè·Ÿå½“å¹´çš„æ¯”ç‰¹å¸é‚£æ ·ç«èµ·æ¥å—ï¼Œè¿˜æ˜¯æ³¡æ²«ç ´ç­å‘¢ï¼Œå€¼å¾—æ·±æ€emmmâ€¦ï¼‰</p>
<p>OKï¼Œä»Šå¤©å°±è¿™æ ·ï¼Œæ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>åæ§½</category>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>å›¾ç‰‡åˆæˆ</tag>
        <tag>æ’åˆ—ç»„åˆ</tag>
        <tag>NFT</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidå®ç°å¸§åŠ¨ç”»åŠ¨æ€è®¾ç½®æ’­æ”¾æ—¶é—´é—´éš”</title>
    <url>/2021/06/07/android-gif/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å‰äº›å¤©åœ¨å¼„ä¸€ä¸ªå¨±ä¹å°å·¥å…·Appï¼Œéœ€è¦æ’­æ”¾gifï¼Œä½†æ˜¯æ‰¾äº†ä¸€åœˆï¼ŒåŸºæœ¬ä¸Šæ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“çš„<code>com.felipecsl:gifimageview:2.2.0</code>ï¼Œå’ŒAndroidå¸§åŠ¨ç”»çš„ã€‚</p>
<p>ç¬¬ä¸‰æ–¹åº“è²Œä¼¼è‡ªå®šä¹‰å±€é™æ€§å¾ˆå¤§ï¼Œå¸§åŠ¨ç”»çš„è¯åœ¨xmlä¸­æŠŠæ’­æ”¾æ—¶é—´ç»™å†™æ­»äº†ï¼Œä¹Ÿä¸å¥½æ§åˆ¶ã€‚</p>
<p>è‡ªå¸¦çš„apiåªçœ‹åˆ°getDurationï¼Œä½†æ˜¯æ²¡æœ‰setDurationï¼Œå°±ç¦»è°±ã€‚</p>
<p>æ‰¾äº†ä¸€åœˆå‘ç°æ˜¯æœ‰æ–¹æ³•è‡ªå·±å»å®ç°setDurationçš„ã€‚</p>
<p>ä¸‹é¢ç›´æ¥çœ‹æ€ä¹ˆå®ç°çš„ï¼š</p>
<h1 id="å¸§åŠ¨ç”»å®ç°æ§åˆ¶æ’­æ”¾æ—¶é—´-é€Ÿåº¦"><a href="#å¸§åŠ¨ç”»å®ç°æ§åˆ¶æ’­æ”¾æ—¶é—´-é€Ÿåº¦" class="headerlink" title="å¸§åŠ¨ç”»å®ç°æ§åˆ¶æ’­æ”¾æ—¶é—´/é€Ÿåº¦"></a>å¸§åŠ¨ç”»å®ç°æ§åˆ¶æ’­æ”¾æ—¶é—´/é€Ÿåº¦</h1><span id="more"></span>

<h2 id="å¸§åŠ¨ç”»çš„å®ç°"><a href="#å¸§åŠ¨ç”»çš„å®ç°" class="headerlink" title="å¸§åŠ¨ç”»çš„å®ç°"></a>å¸§åŠ¨ç”»çš„å®ç°</h2><p>é¦–å…ˆï¼ŒæŠŠå¸§åŠ¨ç”»çš„æ¯ä¸€å¸§å›¾ç‰‡æ”¾åˆ°é¡¹ç›®çš„drawableæ–‡ä»¶å¤¹é‡Œã€‚</p>
<p>ç„¶ååœ¨ä»£ç ä¸­å†™æˆæ•°ç»„å¾…ç”¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">int[] filesNames = &#123;</span><br><span class="line">	R.drawable.sb0,</span><br><span class="line">       R.drawable.sb1,</span><br><span class="line">       R.drawable.sb2,</span><br><span class="line">       ...</span><br><span class="line">       ...</span><br><span class="line">       R.drawable.sb42,</span><br><span class="line">       R.drawable.sb43</span><br><span class="line">   &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨å¾ªç¯ï¼ŒæŠŠæ¯ä¸€å¸§æ·»åŠ åˆ°åŠ¨ç”»ä¸­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">MyAnimationDrawable _animaition = new MyAnimationDrawable();</span><br><span class="line">   Drawable frame;</span><br><span class="line">   Bitmap bmp;</span><br><span class="line">int n = filesNames.length;</span><br><span class="line">       for (int i = 0; i &lt; n; i++) &#123;</span><br><span class="line">           bmp = BitmapFactory.decodeResource(getResources(), filesNames[i]);</span><br><span class="line">           frame = new BitmapDrawable(getResources(), bmp);</span><br><span class="line">           _animaition.addFrame(frame, 100);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç„¶åæŠŠåŠ¨ç”»æ•°ç»„åˆ°æ§ä»¶é‡Œå»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">iv.setBackground(_animaition);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±æŠŠå¸§åŠ¨ç”»å®ç°äº†ï¼Œä¸‹é¢å¼€å§‹å®ç°å¸§åŠ¨ç”»æ—¶é—´/é€Ÿåº¦çš„è‡ªå®šä¹‰æ§åˆ¶ã€‚</p>
<h2 id="å¸§åŠ¨ç”»æ—¶é—´-é€Ÿåº¦æ§åˆ¶"><a href="#å¸§åŠ¨ç”»æ—¶é—´-é€Ÿåº¦æ§åˆ¶" class="headerlink" title="å¸§åŠ¨ç”»æ—¶é—´/é€Ÿåº¦æ§åˆ¶"></a>å¸§åŠ¨ç”»æ—¶é—´/é€Ÿåº¦æ§åˆ¶</h2><p>æ§åˆ¶å¸§åŠ¨ç”»çš„æ—¶é—´ï¼Œå‡½æ•°é‡å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">//æ§åˆ¶å¸§åŠ¨ç”»çš„æ—¶é—´ï¼Œå‡½æ•°é‡å†™</span><br><span class="line">public class MyAnimationDrawable extends AnimationDrawable &#123;</span><br><span class="line"></span><br><span class="line">    private volatile int duration;//its volatile because another thread will update its value</span><br><span class="line">    private int currentFrame;</span><br><span class="line"></span><br><span class="line">    public MyAnimationDrawable() &#123;</span><br><span class="line">        currentFrame = 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void run() &#123;</span><br><span class="line">        int n = getNumberOfFrames();</span><br><span class="line">        currentFrame++;</span><br><span class="line">        if (currentFrame &gt;= n) &#123;</span><br><span class="line">            currentFrame = 0;</span><br><span class="line">        &#125;</span><br><span class="line">        selectDrawable(currentFrame);</span><br><span class="line">        scheduleSelf(this, SystemClock.uptimeMillis() + duration);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setDuration(int duration) &#123;</span><br><span class="line">        this.duration = duration;</span><br><span class="line">        //we have to do the following or the next frame will be displayed after the old duration</span><br><span class="line">        unscheduleSelf(this);</span><br><span class="line">        selectDrawable(currentFrame);</span><br><span class="line">        scheduleSelf(this, SystemClock.uptimeMillis()+duration);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥è°ƒç”¨ä¸Šé¢å®ç°çš„å‡½æ•°äº†ï¼š<code>_animaition.setDuration(speed);</code></p>
<p>speedä¸ºè‡ªå®šä¹‰æ—¶é—´/é€Ÿåº¦å‚æ•°ã€‚</p>
<p>æœ€åå¯åŠ¨åŠ¨ç”»ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">//æ˜¯å¦ä»…ä»…å¯åŠ¨ä¸€æ¬¡ï¼Ÿ</span><br><span class="line">   _animaition.setOneShot(false);</span><br><span class="line">   if (_animaition.isRunning()) &#123; //æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Ÿ</span><br><span class="line">       _animaition.stop(); //åœæ­¢</span><br><span class="line">   &#125;</span><br><span class="line">   _animaition.start();//å¯åŠ¨</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±å®Œæˆäº†å®ç°Androidçš„å¸§åŠ¨ç”»æ—¶é—´æ§åˆ¶å’Œé€Ÿåº¦è‡ªå®šä¹‰æ§åˆ¶çš„éƒ¨ç½²ã€‚</p>
<h1 id="é™„åŠ ï¼šéŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶å’Œæ’­æ”¾å®Œæ¯•ç›‘æ§"><a href="#é™„åŠ ï¼šéŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶å’Œæ’­æ”¾å®Œæ¯•ç›‘æ§" class="headerlink" title="é™„åŠ ï¼šéŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶å’Œæ’­æ”¾å®Œæ¯•ç›‘æ§"></a>é™„åŠ ï¼šéŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶å’Œæ’­æ”¾å®Œæ¯•ç›‘æ§</h1><h2 id="éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶"><a href="#éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶" class="headerlink" title="éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶"></a>éŸ³é¢‘æ’­æ”¾é€Ÿåº¦æ§åˆ¶</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">//è®¾ç½®æ’­æ”¾é€Ÿåº¦</span><br><span class="line">   private boolean setPlaySpeed(MediaPlayer mediaPlayer, float speed) &#123;</span><br><span class="line">       if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) &#123;</span><br><span class="line">           try &#123;</span><br><span class="line">               PlaybackParams params = mediaPlayer.getPlaybackParams();</span><br><span class="line">               params.setSpeed(speed);</span><br><span class="line">               mediaPlayer.setPlaybackParams(params);</span><br><span class="line">               return true;</span><br><span class="line">           &#125; catch (Exception e) &#123;</span><br><span class="line">               String TAG = &quot;è®¾ç½®æ’­æ”¾é€Ÿåº¦ -------- &gt;&gt;&gt;&quot;;</span><br><span class="line">               Log.e(TAG, &quot;setPlaySpeed: &quot;, e);</span><br><span class="line">               return false;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       return false;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="éŸ³é¢‘æ’­æ”¾å®Œæ¯•ç›‘æ§"><a href="#éŸ³é¢‘æ’­æ”¾å®Œæ¯•ç›‘æ§" class="headerlink" title="éŸ³é¢‘æ’­æ”¾å®Œæ¯•ç›‘æ§"></a>éŸ³é¢‘æ’­æ”¾å®Œæ¯•ç›‘æ§</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">Sound_doing.setOnCompletionListener(new MediaPlayer.OnCompletionListener() &#123;</span><br><span class="line">       @Override</span><br><span class="line">       public void onCompletion(MediaPlayer mp) &#123;</span><br><span class="line">           // åœ¨æ’­æ”¾å®Œæ¯•è¢«å›è°ƒ</span><br><span class="line">		// Do something...</span><br><span class="line">       &#125;;</span><br><span class="line">   &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Sound_doingä¸ºåˆ›å»ºçš„mediaplayerå¯¹è±¡</p>
<p>å¦‚ï¼š<code>MediaPlayer.create(MainActivity.this, R.raw.sound_success);</code></p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>ï¼ˆPSï¼šæ‰‹æœºä¸Šç”¨AIDEç Androidï¼Œæ“ä½œèµ·æ¥çœŸçš„å¥½è´¹çœ¼ï¼Œè¿˜æ˜¯ç”µè„‘ä½¿ç”¨Android Studioæ–¹ä¾¿å•Šã€‚åªä¸è¿‡AIDEæ–¹ä¾¿ï¼Œéšæ—¶éšåœ°å¯ä»¥ç ï¼Œemmmâ€¦ï¼‰</p>
<p>OKï¼Œä»Šå¤©å°±è¿™æ ·ï¼Œæ„Ÿè°¢é˜…è¯»ã€‚</p>
<p>ä¹ˆä¹ˆå“’~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>åæ§½</category>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Duration</tag>
        <tag>å¸§åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoæ·»åŠ å®ŒGitTalkè¯„è®ºç³»ç»ŸåæŠ¥é”™ä»¥åŠè§£å†³åŠæ³•</title>
    <url>/2020/12/23/GitTalk-Error/</url>
    <content><![CDATA[<p>è¿™å‡ å¤©åœ¨æŠ˜è…¾hexoï¼Œé€šè¿‡githubæ­äº†è¿™ä¹ˆä¸€ä¸ªåšå®¢ï¼Œç„¶åå°±å»ç”³è¯·ä½¿ç”¨äº†gittalkçš„è¯„è®ºã€‚</p>
<p>ç¬¬ä¸€æ¬¡æŠ˜è…¾è¿™ç©æ„å„¿ï¼Œå®Œå…¨ä¸çŸ¥é“æŠ¥è¿™äº›é”™è¯¯æ˜¯ä¸ºä»€ä¹ˆï¼Œä¸€å¼€å§‹åšå®¢çš„é¡µé¢ä¸€ç›´æŠ¥Error:Not foundï¼Œå¦‚ä¸‹ï¼š</p>
<span id="more"></span>

<p><img src="/img/gittalk/01.jpg" alt="ç›´æŠ¥Error:Not found"></p>
<p>åœ¨æœç´¢å¼•æ“çš„å¸®åŠ©ä¸‹ï¼Œå‘ç°æ˜¯gittalkä¸­çš„ä¿¡æ¯å¡«å†™é”™äº†ï¼Œ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nameéšä¾¿å†™ï¼›</span><br><span class="line"></span><br><span class="line">Homepage URLæ˜¯ä½ çš„ä»“åº“çš„åå­—ï¼Œ</span><br><span class="line"></span><br><span class="line">Authorization callback URLå¦‚æœä½ æŒ‡å‘äº†æ–°çš„åŸŸåå°±å¡«æ–°çš„ï¼Œæ¯”å¦‚è¯´æˆ‘æŒ‡å‘äº†åŸŸå hexo.hzv5.cnï¼›å¦åˆ™ä¹Ÿå†™ä»“åº“çš„åå­—å°±å¯ä»¥ã€‚</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¹‹åè¿™ä¸ªé”™è¯¯è§£å†³äº†ã€‚</p>
<p>å¦å¤–ï¼Œæœ‰çš„æ—¶å€™æœ‰äº›æœ‹å‹ä¹Ÿä¼šæœ‰è¿™æ ·çš„ä¸€ç§æƒ…å†µï¼Œå°±æ˜¯æ²¡æœ‰æŠ¥é”™ï¼Œä½†æ˜¯ç‚¹å‡»ç™»å½•GithubæŒ‰é’®ä¼šè‡ªåŠ¨é‡å®šå‘è·³è½¬åˆ°é¦–é¡µï¼Œè¿™ç§æƒ…å†µä¹Ÿæ˜¯ä¸Šé¢çš„ä¸€äº›è®¾ç½®æ²¡æœ‰è®¾ç½®å¥½å¯¼è‡´çš„ï¼ŒæŒ‰ç…§ä¸Šé¢è¯´çš„é‡æ–°è®¾ç½®ä¸€ä¸‹å°±è¡Œã€‚</p>
<p>æ³¨æ„ï¼šå¦‚æœgithubåšå®¢å¼€å¯äº†force httpsåŠŸèƒ½ï¼Œéœ€è¦å°†OAuth Appsä¸­çš„åœ°å€æ”¹ä¸ºhttpsã€‚</p>
<p>ä½†æ˜¯ï¼Œç™»å½•æ‰“å¼€è¯„è®ºä¸€çœ‹ï¼ŒåˆæŠ¥äº†æ–°çš„é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Error:Issues are disabled for this repo</span><br></pre></td></tr></table></figure>

<p><img src="/img/gittalk/02.jpg" alt="æ–°çš„é”™è¯¯ä¿¡æ¯"></p>
<p>è¿™ä¸ªé”™è¯¯ä½ åªéœ€è¦å»é¡¹ç›®çš„è®¾ç½®é‡Œï¼Œè®¾ç½®ä¸€ä¸‹å°±è¡Œäº†ï¼ŒSettings-Features-æŠŠIssuresæ‰“å‹¾</p>
<p><img src="/img/gittalk/03.jpg" alt="è§£å†³"></p>
<p>è¿™æ ·ä¸€é¡¿å€’è…¾ä¹‹åï¼Œåšä¸»çš„gittalkå·²ç»èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>
<p>æ¬¢è¿ç™»å½•Githubè¯„è®ºç•™è¨€â€¦</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>GitTalk</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoä¾é yiliaä¸»é¢˜å®ç°æ·»åŠ ç›¸å†Œç›®å½•</title>
    <url>/2020/12/22/yilia-photos/</url>
    <content><![CDATA[<p>è¿™æ˜¯<a href="http://litten.me/">Litten</a>ç›¸å†Œçš„ä¿®æ”¹ç‰ˆï¼Œç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰</p>
<h4 id="ç‚¹æ­¤é¢„è§ˆæ•ˆæœ"><a href="#ç‚¹æ­¤é¢„è§ˆæ•ˆæœ" class="headerlink" title="ç‚¹æ­¤é¢„è§ˆæ•ˆæœ"></a><a href="https://hexo.hzv5.cn/photos/">ç‚¹æ­¤é¢„è§ˆæ•ˆæœ</a></h4><h1 id="ä½¿ç”¨è¯´æ˜"><a href="#ä½¿ç”¨è¯´æ˜" class="headerlink" title="ä½¿ç”¨è¯´æ˜"></a>ä½¿ç”¨è¯´æ˜</h1><h2 id="æœ¬ç›¸å†Œé€‚ç”¨äºhexo-yiliaä¸»é¢˜ï¼Œç§»æ¤åˆ°å…¶ä»–ä¸»é¢˜éœ€è¦æ”¹åŠ¨"><a href="#æœ¬ç›¸å†Œé€‚ç”¨äºhexo-yiliaä¸»é¢˜ï¼Œç§»æ¤åˆ°å…¶ä»–ä¸»é¢˜éœ€è¦æ”¹åŠ¨" class="headerlink" title="æœ¬ç›¸å†Œé€‚ç”¨äºhexo-yiliaä¸»é¢˜ï¼Œç§»æ¤åˆ°å…¶ä»–ä¸»é¢˜éœ€è¦æ”¹åŠ¨"></a>æœ¬ç›¸å†Œé€‚ç”¨äºhexo-yiliaä¸»é¢˜ï¼Œç§»æ¤åˆ°å…¶ä»–ä¸»é¢˜éœ€è¦æ”¹åŠ¨</h2><h3 id="ä¸åŸä½œè€…ç›¸æ¯”æ”¹åŠ¨"><a href="#ä¸åŸä½œè€…ç›¸æ¯”æ”¹åŠ¨" class="headerlink" title="ä¸åŸä½œè€…ç›¸æ¯”æ”¹åŠ¨"></a>ä¸åŸä½œè€…ç›¸æ¯”æ”¹åŠ¨</h3><span id="more"></span>
<p>1.ç”±åŸä½œè€…å›¾ç‰‡æ‰˜ç®¡åœ¨instagramæ”¹ä¸ºæ‰˜ç®¡åœ¨æœ¬åœ°</p>
<p>2.ç”±åŸä½œè€…å›¾ç‰‡å°ºå¯¸å›ºå®šæ”¹ä¸ºå°ºå¯¸å¯ä»¥å†™å…¥ins.json</p>
<p>3.å»æ‰åŸä½œè€…typeé€‰é¡¹ï¼Œåªå¯ä»¥æ”¾å›¾ç‰‡è€Œä¸èƒ½æ”¾è§†é¢‘ï¼Œå¹¶ä¸”å›¾ç‰‡æ ¼å¼åªæ”¯æŒjpgï¼ˆå¦‚æœéœ€è¦æ”¯æŒæ›´å¤šæ ¼å¼å¯¹ins.jsç¨ä½œä¿®æ”¹å³å¯ï¼‰</p>
<p>4.linkä½œä¸ºå›¾ç‰‡å</p>
<p>5.å»æ‰ins.jsnä¸­çš„srcé€‰é¡¹</p>
<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><p>1.å°†æœ¬é¡¹ç›®æ‰€æœ‰æ–‡ä»¶ä¿å­˜åˆ°æ‚¨hexoçš„sourceç›®å½•ä¸‹çš„ä¸€ä¸ªç›®å½•é‡Œ</p>
<p>2.åœ¨æœ¬ç›®å½•æ–°å»ºinsä¸mininsæ–‡ä»¶å¤¹ï¼Œå°†åŸå›¾ç‰‡ä¿å­˜åˆ°insæ–‡ä»¶å¤¹ä¸‹ï¼Œå›¾ç‰‡ç•¥ç¼©å›¾ä¿å­˜åœ¨mininsæ–‡ä»¶å¤¹ä¸‹ï¼Œç•¥ç¼©å›¾æ¨èå°ºå¯¸:328x328</p>
<p>3.ä¹‹åsourceç›®å½•æ ‘ä¸€èˆ¬å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ _posts</span><br><span class="line">â”œâ”€â”€ photos</span><br><span class="line">|   â”œâ”€â”€ ins</span><br><span class="line">|   |   â”œâ”€â”€pic1.jpg</span><br><span class="line">|   |   â”œâ”€â”€pic2.jpg</span><br><span class="line">|   |   â””â”€â”€pic3.jpg</span><br><span class="line">|   â”œâ”€â”€ minins</span><br><span class="line">|   |   â”œâ”€â”€pic1.min.jpg</span><br><span class="line">|   |   â”œâ”€â”€pic2.min.jpg</span><br><span class="line">|   |   â””â”€â”€pic3.min.jpg</span><br><span class="line">|   â”œâ”€â”€ index.ejs</span><br><span class="line">|   â”œâ”€â”€ ins.css</span><br><span class="line">|   â”œâ”€â”€ ins.js</span><br><span class="line">|   â””â”€â”€ ins.json</span><br><span class="line">â””â”€â”€ CNAME</span><br></pre></td></tr></table></figure>

<p>4.å¦‚æœåŸå›¾åç§°ä¸ºxxxx.jpgï¼Œåˆ™ç•¥ç¼©å›¾åç§°ä¸ºxxxx.min.jpg</p>
<p>5.ä¿®æ”¹ins.jsonä¸æ‚¨å®é™…æƒ…å†µç›¸åŒ¹é…ï¼Œå…¶ä¸­å›¾ç‰‡åä¸éœ€è¦å†™åç¼€ï¼Œæè¿°éƒ¨åˆ†éšæ„ï¼Œå›¾ç‰‡å°ºå¯¸æ ¼å¼ä¸ºå›¾ç‰‡å®½åº¦xå›¾ç‰‡é«˜åº¦ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;date&quot;: &quot;2015-05&quot;,</span><br><span class="line">	&quot;arr&quot;: &#123;</span><br><span class="line">		&quot;year&quot;: 2015,</span><br><span class="line">		&quot;month&quot;: 5,</span><br><span class="line">		&quot;link&quot;: [&quot;201505251818&quot;],</span><br><span class="line">		&quot;text&quot;: [&quot;è¿™æ˜¯ä¸€å¼ åœ¨2015å¹´äº”æœˆæ‹æ‘„çš„ç…§ç‰‡&quot;],</span><br><span class="line">		&quot;sizes&quot;: [&quot;1000x1000&quot;]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>ç…§ç‰‡å¤ªå¤šå¯ä»¥è‡ªå·±å†™ç¨‹åºç®€åŒ–æ“ä½œ</p>
<p>ç•¥ç¼©å›¾å¯ä¸‹è½½è¿™ä¸ªè½¯ä»¶æ‰¹é‡ç”Ÿæˆ</p>
<p>é“¾æ¥: <a href="https://pan.baidu.com/s/1slULnUd">https://pan.baidu.com/s/1slULnUd</a> å¯†ç : 54je</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>yilia</tag>
        <tag>ç›¸å†Œ</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨hexo+githubæ­å»ºå…è´¹ä¸ªäººåšå®¢è¯¦ç»†æ•™ç¨‹</title>
    <url>/2020/12/22/hexo-github/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä½¿ç”¨github pagesæœåŠ¡æ­å»ºåšå®¢çš„å¥½å¤„æœ‰ï¼š</p>
<ol>
<li>å…¨æ˜¯é™æ€æ–‡ä»¶ï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼›</li>
<li>å…è´¹æ–¹ä¾¿ï¼Œä¸ç”¨èŠ±ä¸€åˆ†é’±å°±å¯ä»¥æ­å»ºä¸€ä¸ªè‡ªç”±çš„ä¸ªäººåšå®¢ï¼Œä¸éœ€è¦æœåŠ¡å™¨ä¸éœ€è¦åå°ï¼›</li>
<li>å¯ä»¥éšæ„ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œä¸ä»”ç»†çœ‹çš„è¯æ ¹æœ¬çœ‹ä¸å‡ºæ¥ä½ çš„ç½‘ç«™æ˜¯åŸºäºgithubçš„ï¼›</li>
<li>æ•°æ®ç»å¯¹å®‰å…¨ï¼ŒåŸºäºgithubçš„ç‰ˆæœ¬ç®¡ç†ï¼Œæƒ³æ¢å¤åˆ°å“ªä¸ªå†å²ç‰ˆæœ¬éƒ½è¡Œï¼›</li>
<li>åšå®¢å†…å®¹å¯ä»¥è½»æ¾æ‰“åŒ…ã€è½¬ç§»ã€å‘å¸ƒåˆ°å…¶å®ƒå¹³å°ï¼›</li>
<li>ç­‰ç­‰ï¼›<span id="more"></span>
<h2 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h2></li>
</ol>
<p>åœ¨å¼€å§‹ä¸€åˆ‡ä¹‹å‰ï¼Œä½ å¿…é¡»å·²ç»ï¼š</p>
<ul>
<li>æœ‰ä¸€ä¸ªgithubè´¦å·ï¼Œæ²¡æœ‰çš„è¯å»æ³¨å†Œä¸€ä¸ªï¼›</li>
<li>å®‰è£…äº†node.jsã€npmï¼Œå¹¶äº†è§£ç›¸å…³åŸºç¡€çŸ¥è¯†ï¼›</li>
<li>å®‰è£…äº†git for windowsï¼ˆæˆ–è€…å…¶å®ƒgitå®¢æˆ·ç«¯ï¼‰</li>
</ul>
<p>æœ¬æ–‡æ‰€ä½¿ç”¨çš„ç¯å¢ƒï¼š</p>
<ul>
<li>Windows8.1</li>
<li><a href="mailto:node.js@5.5.0">node.js@5.5.0</a></li>
<li><a href="mailto:git@1.9.2">git@1.9.2</a></li>
<li><a href="mailto:hexo@3.2.2">hexo@3.2.2</a></li>
</ul>
<h1 id="æ­å»ºgithubåšå®¢"><a href="#æ­å»ºgithubåšå®¢" class="headerlink" title="æ­å»ºgithubåšå®¢"></a>æ­å»ºgithubåšå®¢</h1><h2 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h2><p>æ–°å»ºä¸€ä¸ªåä¸º<code>ä½ çš„ç”¨æˆ·å.github.io</code>çš„ä»“åº“ï¼Œæ¯”å¦‚è¯´ï¼Œå¦‚æœä½ çš„githubç”¨æˆ·åæ˜¯testï¼Œé‚£ä¹ˆä½ å°±æ–°å»º<code>test.github.io</code>çš„ä»“åº“ï¼ˆå¿…é¡»æ˜¯ä½ çš„ç”¨æˆ·åï¼Œå…¶å®ƒåç§°æ— æ•ˆï¼‰ï¼Œå°†æ¥ä½ çš„ç½‘ç«™è®¿é—®åœ°å€å°±æ˜¯ <a href="http://test.github.io">http://test.github.io</a> äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿ</p>
<p>ç”±æ­¤å¯è§ï¼Œæ¯ä¸€ä¸ªgithubè´¦æˆ·æœ€å¤šåªèƒ½åˆ›å»ºä¸€ä¸ªè¿™æ ·å¯ä»¥ç›´æ¥ä½¿ç”¨åŸŸåè®¿é—®çš„ä»“åº“ã€‚</p>
<p>å‡ ä¸ªæ³¨æ„çš„åœ°æ–¹ï¼š</p>
<ol>
<li>æ³¨å†Œçš„é‚®ç®±ä¸€å®šè¦éªŒè¯ï¼Œå¦åˆ™ä¸ä¼šæˆåŠŸï¼›</li>
<li>ä»“åº“åå­—å¿…é¡»æ˜¯ï¼š<code>username.github.io</code>ï¼Œå…¶ä¸­<code>username</code>æ˜¯ä½ çš„ç”¨æˆ·åï¼›</li>
<li>ä»“åº“åˆ›å»ºæˆåŠŸä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦è¿‡ä¸€æ®µæ—¶é—´ï¼Œå¤§æ¦‚10-30åˆ†é’Ÿï¼Œæˆ–è€…æ›´ä¹…ï¼Œæˆ‘çš„ç­‰äº†åŠä¸ªå°æ—¶æ‰ç”Ÿæ•ˆï¼›</li>
</ol>
<p>åˆ›å»ºæˆåŠŸåï¼Œé»˜è®¤ä¼šåœ¨ä½ è¿™ä¸ªä»“åº“é‡Œç”Ÿæˆä¸€äº›ç¤ºä¾‹é¡µé¢ï¼Œä»¥åä½ çš„ç½‘ç«™æ‰€æœ‰ä»£ç éƒ½æ˜¯æ”¾åœ¨è¿™ä¸ªä»“åº“é‡Œå•¦ã€‚</p>
<h2 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h2><p>å½“ç„¶ï¼Œä½ ä¸ç»‘å®šåŸŸåè‚¯å®šä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå°±ç”¨é»˜è®¤çš„ <code>xxx.github.io</code> æ¥è®¿é—®ï¼Œå¦‚æœä½ æƒ³æ›´ä¸ªæ€§ä¸€ç‚¹ï¼Œæƒ³æ‹¥æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„åŸŸåï¼Œé‚£ä¹Ÿæ˜¯OKçš„ã€‚</p>
<p>é¦–å…ˆä½ è¦æ³¨å†Œä¸€ä¸ªåŸŸåï¼ŒåŸŸåæ³¨å†Œä»¥å‰æ€»æ˜¯æ¨èå»<code>godaddy</code>ï¼Œç°åœ¨è§‰å¾—å…¶å®å›½å†…çš„é˜¿é‡Œäº‘ä¹ŸæŒºä¸é”™çš„ï¼Œä»·æ ¼ä¹Ÿä¸è´µï¼Œæ¯•ç«Ÿæ˜¯å¤§å…¬å¸ï¼Œæ”¾å¿ƒï¼</p>
<p>ç»‘å®šåŸŸååˆ†2ç§æƒ…å†µï¼šå¸¦wwwå’Œä¸å¸¦wwwçš„ã€‚</p>
<p>åŸŸåé…ç½®æœ€å¸¸è§æœ‰2ç§æ–¹å¼ï¼ŒCNAMEå’ŒAè®°å½•ï¼ŒCNAMEå¡«å†™åŸŸåï¼ŒAè®°å½•å¡«å†™IPï¼Œç”±äºä¸å¸¦wwwæ–¹å¼åªèƒ½é‡‡ç”¨Aè®°å½•ï¼Œæ‰€ä»¥å¿…é¡»å…ˆpingä¸€ä¸‹<code>ä½ çš„ç”¨æˆ·å.github.io</code>çš„IPï¼Œç„¶ååˆ°ä½ çš„åŸŸåDNSè®¾ç½®é¡µï¼Œå°†Aè®°å½•æŒ‡å‘ä½ pingå‡ºæ¥çš„IPï¼Œå°†CNAMEæŒ‡å‘<code>ä½ çš„ç”¨æˆ·å.github.io</code>ï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ— è®ºæ˜¯å¦æ·»åŠ wwwéƒ½å¯ä»¥è®¿é—®ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160823_191336_238_8683.png" alt="è§£æåŸŸå"></p>
<p>ç„¶ååˆ°ä½ çš„githubé¡¹ç›®æ ¹ç›®å½•æ–°å»ºä¸€ä¸ªåä¸ºCNAMEçš„æ–‡ä»¶ï¼ˆæ— åç¼€ï¼‰ï¼Œé‡Œé¢å¡«å†™ä½ çš„åŸŸåï¼ŒåŠ ä¸åŠ wwwçœ‹ä½ è‡ªå·±å–œå¥½ï¼Œå› ä¸ºç»æµ‹è¯•ï¼š</p>
<ul>
<li>å¦‚æœä½ å¡«å†™çš„æ˜¯æ²¡æœ‰wwwçš„ï¼Œæ¯”å¦‚ mygit.meï¼Œé‚£ä¹ˆæ— è®ºæ˜¯è®¿é—® <a href="http://www.mygit.me">http://www.mygit.me</a> è¿˜æ˜¯ <a href="http://mygit.me">http://mygit.me</a> ï¼Œéƒ½ä¼šè‡ªåŠ¨è·³è½¬åˆ° <a href="http://mygit.me">http://mygit.me</a></li>
<li>å¦‚æœä½ å¡«å†™çš„æ˜¯å¸¦wwwçš„ï¼Œæ¯”å¦‚ <a href="http://www.mygit.me">www.mygit.me</a> ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯è®¿é—® <a href="http://www.mygit.me">http://www.mygit.me</a> è¿˜æ˜¯ <a href="http://mygit.me">http://mygit.me</a> ï¼Œéƒ½ä¼šè‡ªåŠ¨è·³è½¬åˆ° <a href="http://www.mygit.me">http://www.mygit.me</a></li>
<li>å¦‚æœä½ å¡«å†™çš„æ˜¯å…¶å®ƒå­åŸŸåï¼Œæ¯”å¦‚ abc.mygit.meï¼Œé‚£ä¹ˆè®¿é—® <a href="http://abc.mygit.me">http://abc.mygit.me</a> æ²¡é—®é¢˜ï¼Œä½†æ˜¯è®¿é—® <a href="http://mygit.me">http://mygit.me</a> ï¼Œä¸ä¼šè‡ªåŠ¨è·³è½¬åˆ° <a href="http://abc.mygit.me">http://abc.mygit.me</a></li>
</ul>
<p>å¦å¤–è¯´ä¸€å¥ï¼Œåœ¨ä½ ç»‘å®šäº†æ–°åŸŸåä¹‹åï¼ŒåŸæ¥çš„<code>ä½ çš„ç”¨æˆ·å.github.io</code>å¹¶æ²¡æœ‰å¤±æ•ˆï¼Œè€Œæ˜¯ä¼šè‡ªåŠ¨è·³è½¬åˆ°ä½ çš„æ–°åŸŸåã€‚</p>
<h1 id="é…ç½®SSH-key"><a href="#é…ç½®SSH-key" class="headerlink" title="é…ç½®SSH key"></a>é…ç½®SSH key</h1><p>ä¸ºä»€ä¹ˆè¦é…ç½®è¿™ä¸ªå‘¢ï¼Ÿå› ä¸ºä½ æäº¤ä»£ç è‚¯å®šè¦æ‹¥æœ‰ä½ çš„githubæƒé™æ‰å¯ä»¥ï¼Œä½†æ˜¯ç›´æ¥ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç å¤ªä¸å®‰å…¨äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ssh keyæ¥è§£å†³æœ¬åœ°å’ŒæœåŠ¡å™¨çš„è¿æ¥é—®é¢˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ cd ~/. ssh #æ£€æŸ¥æœ¬æœºå·²å­˜åœ¨çš„sshå¯†é’¥</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤ºï¼šNo such file or directory è¯´æ˜ä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨gitã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &#x27;é‚®ä»¶åœ°å€&#x27;</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿ç»­3æ¬¡å›è½¦ï¼Œæœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼Œæ‰“å¼€ç”¨æˆ·ç›®å½•ï¼Œæ‰¾åˆ°<code>.ssh\id_rsa.pub</code>æ–‡ä»¶ï¼Œè®°äº‹æœ¬æ‰“å¼€å¹¶å¤åˆ¶é‡Œé¢çš„å†…å®¹ï¼Œæ‰“å¼€ä½ çš„githubä¸»é¡µï¼Œè¿›å…¥ä¸ªäººè®¾ç½® -&gt; SSH and GPG keys -&gt; New SSH keyï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_143914_495_9084.png" alt="SH key"></p>
<p>å°†åˆšå¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°keyé‚£é‡Œï¼Œtitleéšä¾¿å¡«ï¼Œä¿å­˜ã€‚</p>
<h2 id="æµ‹è¯•æ˜¯å¦æˆåŠŸ"><a href="#æµ‹è¯•æ˜¯å¦æˆåŠŸ" class="headerlink" title="æµ‹è¯•æ˜¯å¦æˆåŠŸ"></a>æµ‹è¯•æ˜¯å¦æˆåŠŸ</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ ssh -T git@github.com # æ³¨æ„é‚®ç®±åœ°å€ä¸ç”¨æ”¹</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæç¤º<code>Are you sure you want to continue connecting (yes/no)?</code>ï¼Œè¾“å…¥yesï¼Œç„¶åä¼šçœ‹åˆ°ï¼š</p>
<blockquote>
<p>Hi liuxianan! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<p>çœ‹åˆ°è¿™ä¸ªä¿¡æ¯è¯´æ˜SSHå·²é…ç½®æˆåŠŸï¼</p>
<p>æ­¤æ—¶ä½ è¿˜éœ€è¦é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ git config --global user.name &amp;quot;liuxianan&amp;quot;// ä½ çš„githubç”¨æˆ·åï¼Œéæ˜µç§°</span><br><span class="line">$ git config --global user.email  &amp;quot;xxx@qq.com&amp;quot;// å¡«å†™ä½ çš„githubæ³¨å†Œé‚®ç®±</span><br></pre></td></tr></table></figure>

<p>å…·ä½“è¿™ä¸ªé…ç½®æ˜¯å¹²å˜›çš„æˆ‘æ²¡ä»”ç»†æ·±ç©¶ã€‚</p>
<h1 id="ä½¿ç”¨hexoå†™åšå®¢"><a href="#ä½¿ç”¨hexoå†™åšå®¢" class="headerlink" title="ä½¿ç”¨hexoå†™åšå®¢"></a>ä½¿ç”¨hexoå†™åšå®¢</h1><h2 id="hexoç®€ä»‹"><a href="#hexoç®€ä»‹" class="headerlink" title="hexoç®€ä»‹"></a>hexoç®€ä»‹</h2><p>Hexoæ˜¯ä¸€ä¸ªç®€å•ã€å¿«é€Ÿã€å¼ºå¤§çš„åŸºäº Github Pages çš„åšå®¢å‘å¸ƒå·¥å…·ï¼Œæ”¯æŒMarkdownæ ¼å¼ï¼Œæœ‰ä¼—å¤šä¼˜ç§€æ’ä»¶å’Œä¸»é¢˜ã€‚</p>
<p>å®˜ç½‘ï¼š <a href="http://hexo.io">http://hexo.io</a></p>
<p>github: <a href="https://github.com/hexojs/hexo">https://github.com/hexojs/hexo</a></p>
<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>ç”±äºgithub pageså­˜æ”¾çš„éƒ½æ˜¯é™æ€æ–‡ä»¶ï¼Œåšå®¢å­˜æ”¾çš„ä¸åªæ˜¯æ–‡ç« å†…å®¹ï¼Œè¿˜æœ‰æ–‡ç« åˆ—è¡¨ã€åˆ†ç±»ã€æ ‡ç­¾ã€ç¿»é¡µç­‰åŠ¨æ€å†…å®¹ï¼Œå‡å¦‚æ¯æ¬¡å†™å®Œä¸€ç¯‡æ–‡ç« éƒ½è¦æ‰‹åŠ¨æ›´æ–°åšæ–‡ç›®å½•å’Œç›¸å…³é“¾æ¥ä¿¡æ¯ï¼Œç›¸ä¿¡è°éƒ½ä¼šç–¯æ‰ï¼Œæ‰€ä»¥hexoæ‰€åšçš„å°±æ˜¯å°†è¿™äº›mdæ–‡ä»¶éƒ½æ”¾åœ¨æœ¬åœ°ï¼Œæ¯æ¬¡å†™å®Œæ–‡ç« åè°ƒç”¨å†™å¥½çš„å‘½ä»¤æ¥æ‰¹é‡å®Œæˆç›¸å…³é¡µé¢çš„ç”Ÿæˆï¼Œç„¶åå†å°†æœ‰æ”¹åŠ¨çš„é¡µé¢æäº¤åˆ°githubã€‚</p>
<h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><p>å®‰è£…ä¹‹å‰å…ˆæ¥è¯´å‡ ä¸ªæ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li>å¾ˆå¤šå‘½ä»¤æ—¢å¯ä»¥ç”¨Windowsçš„cmdæ¥å®Œæˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨git bashæ¥å®Œæˆï¼Œä½†æ˜¯éƒ¨åˆ†å‘½ä»¤ä¼šæœ‰ä¸€äº›é—®é¢˜ï¼Œä¸ºé¿å…ä¸å¿…è¦çš„é—®é¢˜ï¼Œå»ºè®®å…¨éƒ¨ä½¿ç”¨git bashæ¥æ‰§è¡Œï¼›</li>
<li>hexoä¸åŒç‰ˆæœ¬å·®åˆ«æ¯”è¾ƒå¤§ï¼Œç½‘ä¸Šå¾ˆå¤šæ–‡ç« çš„é…ç½®ä¿¡æ¯éƒ½æ˜¯åŸºäº2.xçš„ï¼Œæ‰€ä»¥æ³¨æ„ä¸è¦è¢«è¯¯å¯¼ï¼›</li>
<li>hexoæœ‰2ç§<code>_config.yml</code>æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ ¹ç›®å½•ä¸‹çš„å…¨å±€çš„<code>_config.yml</code>ï¼Œä¸€ä¸ªæ˜¯å„ä¸ª<code>theme</code>ä¸‹çš„ï¼›</li>
</ol>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo</span><br></pre></td></tr></table></figure>

<h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><p>åœ¨ç”µè„‘çš„æŸä¸ªåœ°æ–¹æ–°å»ºä¸€ä¸ªåä¸ºhexoçš„æ–‡ä»¶å¤¹ï¼ˆåå­—å¯ä»¥éšä¾¿å–ï¼‰ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯<code>F:\Workspaces\hexo</code>ï¼Œç”±äºè¿™ä¸ªæ–‡ä»¶å¤¹å°†æ¥å°±ä½œä¸ºä½ å­˜æ”¾ä»£ç çš„åœ°æ–¹ï¼Œæ‰€ä»¥æœ€å¥½ä¸è¦éšä¾¿æ”¾ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ cd /f/Workspaces/hexo/</span><br><span class="line">$ hexo init</span><br></pre></td></tr></table></figure>

<p>hexoä¼šè‡ªåŠ¨ä¸‹è½½ä¸€äº›æ–‡ä»¶åˆ°è¿™ä¸ªç›®å½•ï¼ŒåŒ…æ‹¬node_modulesï¼Œç›®å½•ç»“æ„å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_115922_773_1148.png" alt="ç›®å½•ç»“æ„"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo g # ç”Ÿæˆ</span><br><span class="line">$ hexo s # å¯åŠ¨æœåŠ¡</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä»¥ä¸Šå‘½ä»¤ä¹‹åï¼Œhexoå°±ä¼šåœ¨publicæ–‡ä»¶å¤¹ç”Ÿæˆç›¸å…³htmlæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶å°†æ¥éƒ½æ˜¯è¦æäº¤åˆ°githubå»çš„ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_120700_028_2426.png" alt="æäº¤åˆ°github"></p>
<p><code>hexo s</code>æ˜¯å¼€å¯æœ¬åœ°é¢„è§ˆæœåŠ¡ï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <a href="http://localhost:4000">http://localhost:4000</a> å³å¯çœ‹åˆ°å†…å®¹ï¼Œå¾ˆå¤šäººä¼šç¢°åˆ°æµè§ˆå™¨ä¸€ç›´åœ¨è½¬åœˆä½†æ˜¯å°±æ˜¯åŠ è½½ä¸å‡ºæ¥çš„é—®é¢˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å› ä¸ºç«¯å£å ç”¨çš„ç¼˜æ•…ï¼Œå› ä¸º4000è¿™ä¸ªç«¯å£å¤ªå¸¸è§äº†ï¼Œè§£å†³ç«¯å£å†²çªé—®é¢˜è¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="http://blog.liuxianan.com/windows-port-bind.html">http://blog.liuxianan.com/windows-port-bind.html</a></p>
<p>ç¬¬ä¸€æ¬¡åˆå§‹åŒ–çš„æ—¶å€™hexoå·²ç»å¸®æˆ‘ä»¬å†™äº†ä¸€ç¯‡åä¸º Hello World çš„æ–‡ç« ï¼Œé»˜è®¤çš„ä¸»é¢˜æ¯”è¾ƒä¸‘ï¼Œæ‰“å¼€æ—¶å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_132443_202_6848.png" alt="æ­å»ºæˆåŠŸ"></p>
<h2 id="ä¿®æ”¹ä¸»é¢˜"><a href="#ä¿®æ”¹ä¸»é¢˜" class="headerlink" title="ä¿®æ”¹ä¸»é¢˜"></a>ä¿®æ”¹ä¸»é¢˜</h2><p>æ—¢ç„¶é»˜è®¤ä¸»é¢˜å¾ˆä¸‘ï¼Œé‚£æˆ‘ä»¬åˆ«çš„ä¸åšï¼Œé¦–å…ˆæ¥æ›¿æ¢ä¸€ä¸ªå¥½çœ‹ç‚¹çš„ä¸»é¢˜ã€‚è¿™æ˜¯ <a href="https://hexo.io/themes/">å®˜æ–¹ä¸»é¢˜</a>ã€‚</p>
<p>ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„2ä¸ªä¸»é¢˜ï¼š<a href="https://github.com/pinggod/hexo-theme-jekyll">hexo-theme-jekyll</a> å’Œ <a href="https://github.com/litten/hexo-theme-yilia">hexo-theme-yilia</a>ã€‚</p>
<p>é¦–å…ˆä¸‹è½½è¿™ä¸ªä¸»é¢˜ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ cd /f/Workspaces/hexo/</span><br><span class="line">$ git clone https://github.com/litten/hexo-theme-yilia.git themes/yilia</span><br></pre></td></tr></table></figure>

<p>ä¸‹è½½åçš„ä¸»é¢˜éƒ½åœ¨è¿™é‡Œï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_134500_245_0912.png" alt="ä¸»é¢˜"></p>
<p>ä¿®æ”¹<code>_config.yml</code>ä¸­çš„<code>theme: landscape</code>æ”¹ä¸º<code>theme: yilia</code>ï¼Œç„¶åé‡æ–°æ‰§è¡Œ<code>hexo g</code>æ¥é‡æ–°ç”Ÿæˆã€‚</p>
<p>å¦‚æœå‡ºç°ä¸€äº›è«åå…¶å¦™çš„é—®é¢˜ï¼Œå¯ä»¥å…ˆæ‰§è¡Œ<code>hexo clean</code>æ¥æ¸…ç†ä¸€ä¸‹publicçš„å†…å®¹ï¼Œç„¶åå†æ¥é‡æ–°ç”Ÿæˆå’Œå‘å¸ƒã€‚</p>
<h2 id="ä¸Šä¼ ä¹‹å‰"><a href="#ä¸Šä¼ ä¹‹å‰" class="headerlink" title="ä¸Šä¼ ä¹‹å‰"></a>ä¸Šä¼ ä¹‹å‰</h2><p>åœ¨ä¸Šä¼ ä»£ç åˆ°githubä¹‹å‰ï¼Œä¸€å®šè¦è®°å¾—å…ˆæŠŠä½ ä»¥å‰æ‰€æœ‰ä»£ç ä¸‹è½½ä¸‹æ¥ï¼ˆè™½ç„¶githubæœ‰ç‰ˆæœ¬ç®¡ç†ï¼Œä½†å¤‡ä»½ä¸€ä¸‹æ€»æ˜¯å¥½çš„ï¼‰ï¼Œå› ä¸ºä»hexoæäº¤ä»£ç æ—¶ä¼šæŠŠä½ ä»¥å‰çš„æ‰€æœ‰ä»£ç éƒ½åˆ æ‰ã€‚</p>
<h2 id="ä¸Šä¼ åˆ°github"><a href="#ä¸Šä¼ åˆ°github" class="headerlink" title="ä¸Šä¼ åˆ°github"></a>ä¸Šä¼ åˆ°github</h2><p>å¦‚æœä½ ä¸€åˆ‡éƒ½é…ç½®å¥½äº†ï¼Œå‘å¸ƒä¸Šä¼ å¾ˆå®¹æ˜“ï¼Œä¸€å¥<code>hexo d</code>å°±æå®šï¼Œå½“ç„¶å…³é”®è¿˜æ˜¯ä½ è¦æŠŠæ‰€æœ‰ä¸œè¥¿é…ç½®å¥½ã€‚</p>
<p>é¦–å…ˆï¼Œ<code>ssh key</code>è‚¯å®šè¦é…ç½®å¥½ã€‚</p>
<p>å…¶æ¬¡ï¼Œé…ç½®<code>_config.yml</code>ä¸­æœ‰å…³deployçš„éƒ¨åˆ†ï¼š</p>
<p>æ­£ç¡®å†™æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:liuxianan/liuxianan.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯å†™æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: github</span><br><span class="line">  repository: https://github.com/liuxianan/liuxianan.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>

<p>åé¢ä¸€ç§å†™æ³•æ˜¯hexo2.xçš„å†™æ³•ï¼Œç°åœ¨å·²ç»ä¸è¡Œäº†ï¼Œæ— è®ºæ˜¯å“ªç§å†™æ³•ï¼Œæ­¤æ—¶ç›´æ¥æ‰§è¡Œ<code>hexo d</code>çš„è¯ä¸€èˆ¬ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Deployer not found: github æˆ–è€… Deployer not found: git</span><br></pre></td></tr></table></figure>

<p>åŸå› æ˜¯è¿˜éœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>å…¶å®ƒå‘½ä»¤ä¸ç¡®å®šï¼Œéƒ¨ç½²è¿™ä¸ªå‘½ä»¤ä¸€å®šè¦ç”¨git bashï¼Œå¦åˆ™ä¼šæç¤º<code>Permission denied (publickey).</code></p>
<p>æ‰“å¼€ä½ çš„git bashï¼Œè¾“å…¥<code>hexo d</code>å°±ä¼šå°†æœ¬æ¬¡æœ‰æ”¹åŠ¨çš„ä»£ç å…¨éƒ¨æäº¤ï¼Œæ²¡æœ‰æ”¹åŠ¨çš„ä¸ä¼šï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_140441_769_5024.png" alt="æäº¤"></p>
<h2 id="ä¿ç•™CNAMEã€README-mdç­‰æ–‡ä»¶"><a href="#ä¿ç•™CNAMEã€README-mdç­‰æ–‡ä»¶" class="headerlink" title="ä¿ç•™CNAMEã€README.mdç­‰æ–‡ä»¶"></a>ä¿ç•™CNAMEã€README.mdç­‰æ–‡ä»¶</h2><p>æäº¤ä¹‹åç½‘é¡µä¸Šä¸€çœ‹ï¼Œå‘ç°ä»¥å‰å…¶å®ƒä»£ç éƒ½æ²¡äº†ï¼Œæ­¤æ—¶ä¸è¦æ…Œï¼Œä¸€äº›émdæ–‡ä»¶å¯ä»¥æŠŠä»–ä»¬æ”¾åˆ°sourceæ–‡ä»¶å¤¹ä¸‹ï¼Œè¿™é‡Œçš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šåŸæ ·å¤åˆ¶ï¼ˆé™¤äº†mdæ–‡ä»¶ï¼‰åˆ°publicç›®å½•çš„ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160818_141037_580_8035.png" alt="publicç›®å½•"></p>
<p>ç”±äºhexoé»˜è®¤ä¼šæŠŠæ‰€æœ‰mdæ–‡ä»¶éƒ½è½¬æ¢æˆhtmlï¼ŒåŒ…æ‹¬README.mdï¼Œæ‰€æœ‰éœ€è¦æ¯æ¬¡ç”Ÿæˆä¹‹åã€ä¸Šä¼ ä¹‹å‰ï¼Œæ‰‹åŠ¨å°†README.mdå¤åˆ¶åˆ°publicç›®å½•ï¼Œå¹¶åˆ é™¤README.htmlã€‚</p>
<h2 id="å¸¸ç”¨hexoå‘½ä»¤"><a href="#å¸¸ç”¨hexoå‘½ä»¤" class="headerlink" title="å¸¸ç”¨hexoå‘½ä»¤"></a>å¸¸ç”¨hexoå‘½ä»¤</h2><p>å¸¸è§å‘½ä»¤</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new &amp;quot;postName&amp;quot; #æ–°å»ºæ–‡ç« </span><br><span class="line">hexo new page &amp;quot;pageName&amp;quot; #æ–°å»ºé¡µé¢</span><br><span class="line">hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•</span><br><span class="line">hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ&amp;#39;ctrl + c&amp;#39;å…³é—­serverï¼‰</span><br><span class="line">hexo deploy #éƒ¨ç½²åˆ°GitHub</span><br><span class="line">hexo help  # æŸ¥çœ‹å¸®åŠ©</span><br><span class="line">hexo version  #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬</span><br></pre></td></tr></table></figure>

<p>ç¼©å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo n == hexo new</span><br><span class="line">hexo g == hexo generate</span><br><span class="line">hexo s == hexo server</span><br><span class="line">hexo d == hexo deploy</span><br></pre></td></tr></table></figure>

<p>ç»„åˆå‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo s -g #ç”Ÿæˆå¹¶æœ¬åœ°é¢„è§ˆ</span><br><span class="line">hexo d -g #ç”Ÿæˆå¹¶ä¸Šä¼ </span><br></pre></td></tr></table></figure>

<h2 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h2><p>è¿™é‡Œé¢éƒ½æ˜¯ä¸€äº›å…¨å±€é…ç½®ï¼Œæ¯ä¸ªå‚æ•°çš„æ„æ€éƒ½æ¯”è¾ƒç®€å•æ˜äº†ï¼Œæ‰€ä»¥å°±ä¸ä½œè¯¦ç»†ä»‹ç»äº†ã€‚</p>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹æ˜¯ï¼Œå†’å·åé¢å¿…é¡»æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚</p>
<h2 id="å†™åšå®¢"><a href="#å†™åšå®¢" class="headerlink" title="å†™åšå®¢"></a>å†™åšå®¢</h2><p>å®šä½åˆ°æˆ‘ä»¬çš„hexoæ ¹ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new &amp;#39;my-first-blog&amp;#39;</span><br></pre></td></tr></table></figure>

<p>hexoä¼šå¸®æˆ‘ä»¬åœ¨<code>_posts</code>ä¸‹ç”Ÿæˆç›¸å…³mdæ–‡ä»¶ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160823_183047_352_1475.png" alt="ç”Ÿæˆç›¸å…³mdæ–‡ä»¶"></p>
<p>æˆ‘ä»¬åªéœ€è¦æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥å¼€å§‹å†™åšå®¢äº†ï¼Œé»˜è®¤ç”Ÿæˆå¦‚ä¸‹å†…å®¹ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160823_183325_470_9306.png" alt="å¯ä»¥å¼€å§‹å†™åšå®¢äº†"></p>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ç›´æ¥è‡ªå·±æ–°å»ºmdæ–‡ä»¶ï¼Œç”¨è¿™ä¸ªå‘½ä»¤çš„å¥½å¤„æ˜¯å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆäº†æ—¶é—´ã€‚</p>
<p>ä¸€èˆ¬å®Œæ•´æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: postName #æ–‡ç« é¡µé¢ä¸Šçš„æ˜¾ç¤ºåç§°ï¼Œä¸€èˆ¬æ˜¯ä¸­æ–‡</span><br><span class="line">date: 2013-12-02 15:30:16 #æ–‡ç« ç”Ÿæˆæ—¶é—´ï¼Œä¸€èˆ¬ä¸æ”¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä»»æ„ä¿®æ”¹</span><br><span class="line">categories: é»˜è®¤åˆ†ç±» #åˆ†ç±»</span><br><span class="line">tags: [tag1,tag2,tag3] #æ–‡ç« æ ‡ç­¾ï¼Œå¯ç©ºï¼Œå¤šæ ‡ç­¾è¯·ç”¨æ ¼å¼ï¼Œæ³¨æ„:åé¢æœ‰ä¸ªç©ºæ ¼</span><br><span class="line">description: é™„åŠ ä¸€æ®µæ–‡ç« æ‘˜è¦ï¼Œå­—æ•°æœ€å¥½åœ¨140å­—ä»¥å†…ï¼Œä¼šå‡ºç°åœ¨metaçš„descriptioné‡Œé¢</span><br><span class="line">---</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹æ˜¯æ­£æ–‡</p>
<p>é‚£ä¹ˆ<code>hexo new page &#39;postName&#39;</code>å‘½ä»¤å’Œ<code>hexo new &#39;postName&#39;</code>æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page &#x27;my-second-blog&#x27;</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆå¦‚ä¸‹ï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160823_184852_854_6502.png" alt="æ•ˆæœ"></p>
<p>æœ€ç»ˆéƒ¨ç½²æ—¶ç”Ÿæˆï¼š<code>hexo\public\my-second-blog\index.html</code>ï¼Œä½†æ˜¯å®ƒä¸ä¼šä½œä¸ºæ–‡ç« å‡ºç°åœ¨åšæ–‡ç›®å½•ã€‚</p>
<h3 id="å†™åšå®¢å·¥å…·"><a href="#å†™åšå®¢å·¥å…·" class="headerlink" title="å†™åšå®¢å·¥å…·"></a>å†™åšå®¢å·¥å…·</h3><p>é‚£ä¹ˆç”¨ä»€ä¹ˆå·¥å…·å†™åšå®¢å‘¢ï¼Ÿè¿™ä¸ªæˆ‘è¿˜æ²¡å»æ‰¾ï¼Œä»¥å‰è‡ªå·±ä½¿ç”¨editor.mdç®€å•å¼„äº†ä¸ªï¼Œå¤§å®¶æœ‰å¥½ç”¨çš„hexoå†™åšå®¢å·¥å…·å¯ä»¥æ¨èä¸ªã€‚</p>
<h3 id="å¦‚ä½•è®©åšæ–‡åˆ—è¡¨ä¸æ˜¾ç¤ºå…¨éƒ¨å†…å®¹"><a href="#å¦‚ä½•è®©åšæ–‡åˆ—è¡¨ä¸æ˜¾ç¤ºå…¨éƒ¨å†…å®¹" class="headerlink" title="å¦‚ä½•è®©åšæ–‡åˆ—è¡¨ä¸æ˜¾ç¤ºå…¨éƒ¨å†…å®¹"></a>å¦‚ä½•è®©åšæ–‡åˆ—è¡¨ä¸æ˜¾ç¤ºå…¨éƒ¨å†…å®¹</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„åšæ–‡ç›®å½•ä¼šæ˜¾ç¤ºå…¨éƒ¨çš„æ–‡ç« å†…å®¹ï¼Œå¦‚ä½•è®¾ç½®æ–‡ç« æ‘˜è¦çš„é•¿åº¦å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯åœ¨åˆé€‚çš„ä½ç½®åŠ ä¸Š<code>&amp;lt;!--more--&amp;gt;</code>å³å¯ï¼Œä¾‹å¦‚ï¼š</p>
<h1 id="å‰è¨€-1"><a href="#å‰è¨€-1" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä½¿ç”¨github pagesæœåŠ¡æ­å»ºåšå®¢çš„å¥½å¤„æœ‰ï¼š</p>
<ol>
<li>å…¨æ˜¯é™æ€æ–‡ä»¶ï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼›</li>
<li>å…è´¹æ–¹ä¾¿ï¼Œä¸ç”¨èŠ±ä¸€åˆ†é’±å°±å¯ä»¥æ­å»ºä¸€ä¸ªè‡ªç”±çš„ä¸ªäººåšå®¢ï¼Œä¸éœ€è¦æœåŠ¡å™¨ä¸éœ€è¦åå°ï¼›</li>
<li>å¯ä»¥éšæ„ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œä¸ä»”ç»†çœ‹çš„è¯æ ¹æœ¬çœ‹ä¸å‡ºæ¥ä½ çš„ç½‘ç«™æ˜¯åŸºäºgithubçš„ï¼›</li>
<li>æ•°æ®ç»å¯¹å®‰å…¨ï¼ŒåŸºäºgithubçš„ç‰ˆæœ¬ç®¡ç†ï¼Œæƒ³æ¢å¤åˆ°å“ªä¸ªå†å²ç‰ˆæœ¬éƒ½è¡Œï¼›</li>
<li>åšå®¢å†…å®¹å¯ä»¥è½»æ¾æ‰“åŒ…ã€è½¬ç§»ã€å‘å¸ƒåˆ°å…¶å®ƒå¹³å°ï¼›</li>
<li>ç­‰ç­‰ï¼›</li>
</ol>
<p>æœ€ç»ˆæ•ˆæœï¼š</p>
<p><img src="http://image.liuxianan.com/201608/20160823_184633_653_1893.png" alt="æœ€ç»ˆæ•ˆæœ"></p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="http://www.cnblogs.com/zhcncn/p/4097881.html">http://www.cnblogs.com/zhcncn/p/4097881.html</a></p>
<p><a href="http://www.jianshu.com/p/05289a4bc8b2">http://www.jianshu.com/p/05289a4bc8b2</a></p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>GitTalk</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/12/22/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html">Deployment</a></p>
<h1 id="åšå®¢è½¬ç§»æˆåŠŸ"><a href="#åšå®¢è½¬ç§»æˆåŠŸ" class="headerlink" title="åšå®¢è½¬ç§»æˆåŠŸ"></a>åšå®¢è½¬ç§»æˆåŠŸ</h1><p>ä»Šå¤©æŠŠåšå®¢ä»emlogè½¬ç§»åˆ°äº†hexoï¼Œè¿™ä¸ªhexoè‡ªå¸¦çš„åšæ–‡å°±ä¸åˆ é™¤äº†ï¼Œç•™ç€ä½œä¸ºä¸€ä¸ªæ—¶é—´çº¿å§ã€‚</p>
]]></content>
      <categories>
        <category>ç¬¬ä¸€æ¬¡</category>
      </categories>
      <tags>
        <tag>ä½ å¥½ä¸–ç•Œ</tag>
        <tag>ç¬¬ä¸€æ¬¡</tag>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitç›¸å…³å·¥å…·(MarkdownPadç­‰ç­‰)é¿å…è¸©å‘çš„ä¸€äº›è¡¥å……ç¬”è®°</title>
    <url>/2020/12/14/About-Git-Err-2/</url>
    <content><![CDATA[<h1 id="å•°é‡Œå•°å—¦"><a href="#å•°é‡Œå•°å—¦" class="headerlink" title="å•°é‡Œå•°å—¦"></a>å•°é‡Œå•°å—¦</h1><p>å¥½åƒå¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œä»Šå¹´ç–«æƒ…å¾ˆå¤šäººéƒ½è¿‡çš„ä¸æ˜¯å¾ˆå¥½ï¼Œåˆåˆ°å¹´åº•äº†ï¼Œæå‰ç¥å¤§å®¶æ–°å¹´å¿«ä¹å§ğŸ˜‚ï¼Œå¸Œæœ›å„ä½è¯»è€…èƒ½å¤Ÿåœ¨æ–°çš„ä¸€å¹´è’¸è’¸æ—¥ä¸Šï¼Œæ—©æ—¥æ‘†è„±ä¸å¼€å¿ƒï¼Œå¿ƒæƒ³äº‹æˆã€‚ğŸ˜å“ˆå“ˆ~</p>
<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><h2 id="1ä¸¶hexoå‘½ä»¤æ“ä½œæ—¶å‡ºç°çš„é—®é¢˜"><a href="#1ä¸¶hexoå‘½ä»¤æ“ä½œæ—¶å‡ºç°çš„é—®é¢˜" class="headerlink" title="1ä¸¶hexoå‘½ä»¤æ“ä½œæ—¶å‡ºç°çš„é—®é¢˜"></a>1ä¸¶hexoå‘½ä»¤æ“ä½œæ—¶å‡ºç°çš„é—®é¢˜</h2><h3 id="hexo-vå‡ºç°çš„é—®é¢˜"><a href="#hexo-vå‡ºç°çš„é—®é¢˜" class="headerlink" title="hexo -vå‡ºç°çš„é—®é¢˜"></a>hexo -vå‡ºç°çš„é—®é¢˜</h3><span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo -v</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(Use `node --trace-warnings ...` to show where the warning was created)</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:9876) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">hexo: 4.2.0</span><br><span class="line">hexo-cli: 3.1.0</span><br><span class="line">os: Windows_NT 10.0.18363 win32 x64</span><br><span class="line">node: 14.0.0</span><br><span class="line">v8: 8.1.307.30-node.30</span><br><span class="line">uv: 1.37.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.7</span><br><span class="line">ares: 1.16.0</span><br><span class="line">modules: 83</span><br><span class="line">nghttp2: 1.40.0</span><br><span class="line">napi: 6</span><br><span class="line">llhttp: 2.0.4</span><br><span class="line">openssl: 1.1.1f</span><br><span class="line">cldr: 36.1</span><br><span class="line">icu: 66.1</span><br><span class="line">tz: 2019c</span><br><span class="line">unicode: 13.0</span><br></pre></td></tr></table></figure>

<h3 id="hexo-d-å’Œ-hexo-g-å‡ºç°çš„é—®é¢˜"><a href="#hexo-d-å’Œ-hexo-g-å‡ºç°çš„é—®é¢˜" class="headerlink" title="hexo d å’Œ hexo g å‡ºç°çš„é—®é¢˜"></a>hexo d å’Œ hexo g å‡ºç°çš„é—®é¢˜</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo d -g</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(Use `node --trace-warnings ...` to show where the warning was created)</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#x27;lineno&#x27; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#x27;column&#x27; of module exports inside circular dependency</span><br><span class="line">(node:3908) Warning: Accessing non-existent property &#x27;filename&#x27; of module exports inside circular dependency</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Files loaded in 94 ms</span><br><span class="line">INFO  0 files generated in 22 ms</span><br><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">FATAL Something&#x27;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">TypeError [ERR_INVALID_ARG_TYPE]: The &quot;mode&quot; argument must be integer. Received an instance of Object</span><br><span class="line">    at copyFile (fs.js:1890:10)</span><br><span class="line">    at tryCatcher (D:\Blog\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at ret (eval at makeNodePromisifiedEval (D:\Node\node_global\node_modules\hexo-cli\node_modules\bluebird\js\release\promisify.js:184:12), &lt;anonymous&gt;:13:39)</span><br><span class="line">    at D:\Blog\node_modules\hexo-fs\lib\fs.js:144:39</span><br><span class="line">    at tryCatcher (D:\Blog\node_modules\bluebird\js\release\util.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:\Blog\node_modules\bluebird\js\release\promise.js:547:31)</span><br><span class="line">    at Promise._settlePromise (D:\Blog\node_modules\bluebird\js\release\promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (D:\Blog\node_modules\bluebird\js\release\promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (D:\Blog\node_modules\bluebird\js\release\promise.js:729:18)</span><br><span class="line">    at Promise._fulfill (D:\Blog\node_modules\bluebird\js\release\promise.js:673:18)</span><br><span class="line">    at Promise._resolveCallback (D:\Blog\node_modules\bluebird\js\release\promise.js:466:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:\Blog\node_modules\bluebird\js\release\promise.js:559:17)</span><br><span class="line">    at Promise._settlePromise (D:\Blog\node_modules\bluebird\js\release\promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (D:\Blog\node_modules\bluebird\js\release\promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (D:\Blog\node_modules\bluebird\js\release\promise.js:729:18)</span><br><span class="line">    at Promise._fulfill (D:\Blog\node_modules\bluebird\js\release\promise.js:673:18)</span><br><span class="line">    at Promise._resolveCallback (D:\Blog\node_modules\bluebird\js\release\promise.js:466:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:\Blog\node_modules\bluebird\js\release\promise.js:559:17)</span><br><span class="line">    at Promise._settlePromise (D:\Blog\node_modules\bluebird\js\release\promise.js:604:18)</span><br><span class="line">    at Promise._settlePromise0 (D:\Blog\node_modules\bluebird\js\release\promise.js:649:10)</span><br><span class="line">    at Promise._settlePromises (D:\Blog\node_modules\bluebird\js\release\promise.js:729:18)</span><br><span class="line">    at Promise._fulfill (D:\Blog\node_modules\bluebird\js\release\promise.js:673:18)</span><br></pre></td></tr></table></figure>


<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>å‡ºç°ä»¥ä¸Šçš„è¿™äº›é—®é¢˜ï¼Œåšä¸»å¤§èƒ†çŒœæµ‹æ˜¯å› ä¸ºnodeç‰ˆæœ¬å¤ªé«˜å¯¼è‡´çš„ï¼Œåˆ‡æ¢æˆä½ç‰ˆæœ¬çš„nodeæ¥å®‰è£…å’Œç¼–è¯‘Hexoå°±å¯ä»¥äº†ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ˜¯çŒœæµ‹å‘¢ï¼Œå› ä¸ºåšä¸»åŸå…ˆæ˜¯å®‰è£…äº†æœ€æ–°ç‰ˆnode14.15.1.0ï¼Œç„¶åå¸è½½é‡æ–°å®‰è£…äº†ä¸€ä¸ªä¹‹å‰å­˜åœ¨Uç›˜é‡Œçš„node12.5.0.0ç‰ˆæœ¬ï¼Œè¿™ä¸ªé—®é¢˜å°±è§£å†³äº†ã€‚ğŸ˜‚çŸ¥é“å…·ä½“åŸå› çš„æœ‹å‹ä¹Ÿå¯ä»¥åœ¨ç°æˆ¿è¯„è®ºåŒºå‘Šè¯‰åšä¸»ï¼Œä¹ˆä¹ˆå“’~</p>
<h2 id="2ä¸¶MarkdownPadå‘ç”ŸHTMLæ¸²æŸ“ç»„ä»¶å‡ºé”™çš„"><a href="#2ä¸¶MarkdownPadå‘ç”ŸHTMLæ¸²æŸ“ç»„ä»¶å‡ºé”™çš„" class="headerlink" title="2ä¸¶MarkdownPadå‘ç”ŸHTMLæ¸²æŸ“ç»„ä»¶å‡ºé”™çš„"></a>2ä¸¶MarkdownPadå‘ç”ŸHTMLæ¸²æŸ“ç»„ä»¶å‡ºé”™çš„</h2><p>æ­¤å‰æ˜¯WIN7å¾—åˆ°ç”µè„‘ï¼Œå†™è¿™ç¯‡åšæ–‡çš„æ—¶å€™åšä¸»æ¢æˆäº†WIN10ç³»ç»Ÿçš„ç”µè„‘ï¼Œç„¶åMarkdowPadå°±å‘ç”Ÿäº†é”™è¯¯ï¼Œæç¤ºå¦‚å›¾:</p>
<p><img src="/img/GitalkErr2/MarkdowPad.png" alt="MarkdowPadé”™è¯¯"></p>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><p>å‡ºç°é—®é¢˜å½“ç„¶ç¬¬ä¸€æ—¶é—´æ˜¯è¯·æ•™ä¸‡èƒ½çš„ç½‘å‹äº†ï¼Œäºæ˜¯åšä¸»å°±ç™¾åº¦äº†ä¸€ä¸‹ç›¸å…³çš„å…³é”®è¯ï¼Œ æœç„¶å‘ç°æœ‰ç½‘å‹ä¹Ÿå‡ºç°è¿‡è¿™ä¸ªé—®é¢˜ï¼Œäºæ˜¯åšä¸»ä¸è¦è„¸çš„ä½œä¸ºæœ¬åšæ–‡çš„ä¸€èŠ‚å€Ÿé‰´ï¼ˆæŠ„ï¼Ÿï¼‰äº†è¿‡æ¥ï¼Œä¹Ÿç®—æ˜¯ç»™è‡ªå·±åšäº†ä¸€ä¸ªå°å°çš„ç¬”è®°å§ã€‚ğŸ¤£</p>
<p>åæ­£å°±æ˜¯win8è·Ÿwin10éƒ½ä¼šå‘ç”Ÿï¼Œä¸Šé¢ä¹Ÿåˆšåˆšè¯´äº†ï¼Œåšä¸»æ­¤å‰æ˜¯ç”¨çš„WIN7åˆšæ¢çš„WIN10ç³»ç»Ÿå˜›ã€‚</p>
<p>å…·ä½“åŠæ³•ï¼š</p>
<p>ä¸‹è½½è¿™ä¸ªä¸œè¥¿ï¼š Awesomium 1.6.6 SDK</p>
<p>ä¸‹è½½å®Œä¸€è·¯ç‚¹å®‰è£…å°±è¡Œã€‚</p>
<p>é‡åˆ°æœ‰2ä¸ªç‚¹ä¸äº†nextçš„æ—¶å€™ï¼Œæ˜¯æœ‰ä¸€ä¸ªéœ€è¦åŒæ„ç”¨æˆ·åè®®ï¼Œå‹¾é€‰ä¸ŠåŒæ„å°±å¯ä»¥ä¸‹ä¸€æ­¥äº†ï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯è¦é€‰æ‹©å®‰è£…ç±»å‹ï¼Œå®‰è£…ç±»å‹çš„åœ¨å·¦è¾¹ç‚¹å‡»æœ€é¡¶éƒ¨çš„typicalæ ‡å‡†å¥—é¤å°±å¯ä»¥äº†ã€‚</p>
<p>æœ€åï¼Œé‡å¯MarkdownPadå°±è§£å†³é—®é¢˜äº†ã€‚ </p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿˜æ˜¯é‚£å¥è€è¯äº†ï¼Œé‡åˆ°é—®é¢˜æ—¶å–„ç”¨æœç´¢å·¥å…·ï¼Œå…ˆè‡ªå·±å®è·µçš„å°è¯•å»è§£å†³ï¼Œå¯¹äºé‡è¦çš„æ–‡ä»¶ä¸€å®šè¦å¤šå¤‡ä»½æ•°æ®ï¼Œæœ€å¥½åœ¨å¤‡ä»½æ•°æ®ä¸ŠåŠ¨æ‰‹ï¼Œä»¥å…æŸåæºæ–‡ä»¶ä»€ä¹ˆçš„ã€‚</p>
<p>å’±æœ‰ä¸€ä¸ªé—®é¢˜å°±è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œä¸èƒ½è®©é—®é¢˜å †ç§¯å¦‚å±±ï¼Œ2333â€¦</p>
<p>æ‹æ¸…æ€è·¯ä¹‹åï¼Œæœ‰é’ˆå¯¹çš„å„ä¸ªå‡»ç ´ï¼Œé—®é¢˜å°±ç®€å•äº†</p>
<p>æ„Ÿè°¢é˜…è¯»ï¼Œä¹ˆä¹ˆæ‰~~</p>
<p>æ–°å¹´å¿«ä¹ï¼ğŸ˜</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>åæ§½</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>MarkdownPad</tag>
        <tag>ç¬”è®°</tag>
        <tag>çŸ¥è¯†ç‚¹</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‰ä¸°äº‘å…è´¹ä¸»æœºå’ŒæœåŠ¡å™¨çš„ä½¿ç”¨ä½“éªŒå’Œæ„Ÿå—</title>
    <url>/2020/05/10/test_sfy/</url>
    <content><![CDATA[<h1 id="å¼€ç¯‡ç¢ç¢å¿µ"><a href="#å¼€ç¯‡ç¢ç¢å¿µ" class="headerlink" title="å¼€ç¯‡ç¢ç¢å¿µ"></a>å¼€ç¯‡ç¢ç¢å¿µ</h1><p>ä»Šå¤©æ¯äº²èŠ‚å•Šï¼Œè®°å¾—ç»™è‡ªå·±çš„æ¯äº²å¤§äººæ‰“ä¸ªç”µè¯ä»€ä¹ˆçš„å“¦~~</p>
<p>åšä¸»ä»Šå¤©çªç„¶æƒ³æ‰¾ä¸€ä¸ªå…è´¹ä¸»æœºè¯•ç©è¯•ç©ï¼Œåœ¨ç»è¿‡ä¸€ç•ªçš„æœç´¢å¼•æ“ç¿»æ¥è¦†å»çš„çœ‹äº†ä¹‹åï¼Œçœ‹åˆ°äº†ä¸‰ä¸°äº‘ï¼Œç½‘è·¯ä¸Šå…³äºå®ƒçš„æ–‡ç« ä¹Ÿä¸å°‘ï¼ˆæ¨å¹¿ç»­æœŸï¼Œåé¢ä¼šè®²åˆ°ï¼‰ï¼Œè²Œä¼¼è¿˜ä¸é”™ï¼Œäºæ˜¯ä¹ï¼Œå°±å»ä»–ä»¬å®˜ç½‘æ³¨å†Œäº†ä¸ªè´¦æˆ·æƒ³ä½“éªŒä¸€ç•ªã€‚</p>
<h1 id="å…³äºä¸‰ä¸°äº‘"><a href="#å…³äºä¸‰ä¸°äº‘" class="headerlink" title="å…³äºä¸‰ä¸°äº‘"></a>å…³äºä¸‰ä¸°äº‘</h1><p>ä»–ä»¬è‡ªå·±è¯´æ˜çš„æ˜¯åŒ—äº¬å¤ªæä¸‰ä¸°äº‘è®¡ç®—æœ‰é™å…¬å¸æ——ä¸‹ç½‘ç»œæœåŠ¡å“ç‰Œï¼Œåå…«å¹´IDCè€å…µå›¢é˜Ÿè›°ä¼ä¸‰å¹´åæŠ•èµ„åƒä¸‡äº2018å¹´10æœˆ1æ—¥åˆ›å»ºã€‚å…¬å¸è‡´åŠ›äºä¸ºå¤§ä¼—æä¾›æœ€ä¼˜è´¨çš„äº’è”ç½‘åŸºç¡€æœåŠ¡å’Œç‰©è”ç½‘æœåŠ¡ï¼ŒåŒ…æ‹¬ï¼šåŸŸåæ³¨å†Œã€è™šæ‹Ÿä¸»æœºã€äº‘æœåŠ¡å™¨ã€ä¸»æœºæ‰˜ç®¡ç§Ÿç”¨ã€CDNç½‘ç«™åŠ é€Ÿã€ç‰©è”ç½‘åº”ç”¨ç­‰æœåŠ¡ã€‚ä»¥å¸®åŠ©å®¢æˆ·è½»æ¾ã€ é«˜é€Ÿã€é«˜æ•ˆçš„åº”ç”¨äº’è”ç½‘/ç‰©è”ç½‘ï¼Œæé«˜ä¼ä¸šç«äº‰èƒ½åŠ›ã€‚</p>
<span id="more"></span>

<p>ç„¶åè¿™è¾¹å†ç»™ä¸Šå…è´¹æœåŠ¡å™¨çš„æˆªå›¾ï¼š</p>
<p><img src="/img/sfy/sf01.png" alt="å…è´¹æœåŠ¡å™¨"></p>
<h1 id="ç”³è¯·ä¸‰ä¸°äº‘å…è´¹æœåŠ¡å™¨çš„æ¡ä»¶"><a href="#ç”³è¯·ä¸‰ä¸°äº‘å…è´¹æœåŠ¡å™¨çš„æ¡ä»¶" class="headerlink" title="ç”³è¯·ä¸‰ä¸°äº‘å…è´¹æœåŠ¡å™¨çš„æ¡ä»¶"></a>ç”³è¯·ä¸‰ä¸°äº‘å…è´¹æœåŠ¡å™¨çš„æ¡ä»¶</h1><p>1ã€çœŸå®æ‰‹æœºå·ç éªŒè¯ï¼ˆæµ‹è¯•é˜¿é‡Œå°å·æ— æ³•éªŒè¯ï¼‰</p>
<p>2ã€çœŸå®èº«ä»½è¯ä¿¡æ¯éªŒè¯ï¼ˆå¯èƒ½åªèƒ½ç”¨è‡ªå·±çš„èº«ä»½è¯äº†â€¦ï¼‰</p>
<p>3ã€å®åè®¤è¯æ¯æ¬¡1å…ƒï¼Œæµ‹è¯•æœŸæ¯æ¬¡0.3å…ƒäººæ°‘å¸ï¼Œä¸ç®¡æœ‰æ²¡æœ‰éªŒè¯æˆåŠŸæ‰£0.3å…ƒï¼ˆå¹¶ä¸”å¹³å°å……å€¼æœ€ä½ä¸º1å…ƒï¼Œå‘ï¼è¿™é‡Œä¸ºäº†æ¼”ç¤ºï¼Œåšä¸»è¡€äºäº†1å…ƒã€‚ï¼‰</p>
<p><img src="/img/sfy/sf06.png" alt="å®åè®¤è¯å……å€¼1å…ƒ"></p>
<p>4ã€å…è´¹ç”¨æˆ·ä½¿ç”¨windowsç³»ç»Ÿéœ€è¦ç¼´2å…ƒå®‰è£…è´¹ï¼Œé»˜è®¤çš„æ˜¯CentOSï¼Œå®‰è£…CentOSå°±ä¸éœ€è¦å®‰è£…è´¹ã€‚ï¼ˆæœï¼ï¼‰</p>
<p><img src="/img/sfy/sf02.png" alt="æ“ä½œç³»ç»Ÿå®‰è£…è´¹"></p>
<p>å…è´¹æœåŠ¡å™¨æ”¯æŒä»¥ä¸‹ç³»ç»Ÿç‰ˆæœ¬ï¼š</p>
<p>CentOSï¼š6.5 7.0â€”â€”7.6ï¼ˆçº¯å‡€ç‰ˆï¼‰ï¼Œ7.0å®å¡”é¢æ¿ï¼ˆä¸“ç”¨ç‰ˆï¼‰</p>
<p>Ubuntuï¼š14.0 16.04çº¯å‡€ç‰ˆ</p>
<p>windowsï¼šServre 2003ï¼Œ2008R2ï¼Œ2012R2</p>
<p>windowsï¼š7ï¼Œ10</p>
<p><img src="/img/sfy/sf03.png" alt="æœåŠ¡å™¨å®å¡”ç™»å½•é¢æ¿"></p>
<h1 id="å…³äºæœ‰æ•ˆæœŸå’Œå…è´¹å»¶æœŸ"><a href="#å…³äºæœ‰æ•ˆæœŸå’Œå…è´¹å»¶æœŸ" class="headerlink" title="å…³äºæœ‰æ•ˆæœŸå’Œå…è´¹å»¶æœŸ"></a>å…³äºæœ‰æ•ˆæœŸå’Œå…è´¹å»¶æœŸ</h1><h2 id="æœ‰æ•ˆæœŸ"><a href="#æœ‰æ•ˆæœŸ" class="headerlink" title="æœ‰æ•ˆæœŸ"></a>æœ‰æ•ˆæœŸ</h2><p>é¦–æ¬¡å¼€é€šï¼š</p>
<p>ä¸ºäº†èŠ‚çº¦ç³»ç»Ÿèµ„æºï¼Œå…è´¹äº‘æœåŠ¡å™¨åˆå§‹å¼€é€šæ—¶24å°æ—¶çš„ä½¿ç”¨æ—¶é—´ï¼Œå¼€é€š6å°æ—¶åæ‚¨å¯ä»¥è¿›è¡Œå…è´¹å»¶æœŸæ“ä½œã€‚æ¯æ¬¡å…è´¹å»¶æœŸå°†å¯ä»¥å…è´¹å»¶é•¿ä¸€å®šçš„æ—¶é—´ï¼Œé€šè¿‡å…è´¹å»¶æœŸæ‚¨å¯ä»¥æ°¸ä¹…å…è´¹ä½¿ç”¨ã€‚</p>
<p>å»¶æœŸæ—¶é—´ï¼šæ¯æ¬¡æœ€é•¿å»¶æœŸ5å¤©ã€‚ï¼ˆå…è´¹ä¸»æœºæ˜¯30å¤©ï¼‰</p>
<p>é‡è¦æç¤ºï¼š</p>
<p>ä¸ºäº†èŠ‚çº¦ç³»ç»Ÿèµ„æºï¼ŒæŠŠå…è´¹äº‘æœåŠ¡å™¨ç»™æœ€éœ€è¦çš„äººä½¿ç”¨ï¼Œé¿å…ç”¨æˆ·ä¸€ç›´é‡å¤å¼€é€šå…è´¹äº‘æœåŠ¡å™¨ã€‚ç°åœ¨ç³»ç»Ÿå·²ç»è®¾å®šä¸ºæ¯ä¸ªç”¨æˆ·å…è´¹å¼€é€š1æ¬¡ï¼Œè¶…è¿‡æ¬¡æ•°å†æ¬¡å¼€é€šå°†æ”¶å–ä¸€å®šçš„æ‰‹ç»­è´¹ã€‚</p>
<p><img src="/img/sfy/sf04.jpg" alt="å…è´¹å»¶æœŸè¯´æ˜"></p>
<p><img src="/img/sfy/sf07.png" alt="å…è´¹æœåŠ¡å™¨"></p>
<p><img src="/img/sfy/sf08.png" alt="å…è´¹è™šæ‹Ÿä¸»æœº"></p>
<h2 id="å…è´¹å»¶æœŸ"><a href="#å…è´¹å»¶æœŸ" class="headerlink" title="å…è´¹å»¶æœŸ"></a>å…è´¹å»¶æœŸ</h2><p>å°±æ˜¯è¦ä½ å»å„ç§ç¤¾äº¤ç½‘ç«™æˆ–è€…è®ºå›ä¸Šé¢å‘å¸–ï¼Œéå¸¸éå¸¸å¤è€çš„æ¨å¹¿æ–¹å¼äº†ï¼Œä¸æ„§æ˜¯åå‡ å¹´çš„è€IDCäº†ã€‚å¹¶ä¸”å‘å¸–æ ¼å¼ä»–è¿˜æœ‰ä¸€äº›é™åˆ¶ï¼Œå…·ä½“çœ‹ä¸‹é¢æˆªå›¾å§ï¼š</p>
<p><img src="/img/sfy/sf05.jpg" alt="å‘å¸–ç½‘ç«™æ¨è"></p>
<p><img src="/img/sfy/sf09.png" alt="å‘å¸–é™åˆ¶æ ¼å¼"></p>
<h1 id="åæ§½æ€»ç»“"><a href="#åæ§½æ€»ç»“" class="headerlink" title="åæ§½æ€»ç»“"></a>åæ§½æ€»ç»“</h1><p>å…è´¹ç©ç©è¿˜è¡Œï¼Œæ­å»ºå¥½ç½‘ç«™çš„é€Ÿåº¦æ–¹é¢å…¶å®è¿˜æ˜¯æŒºä¸é”™çš„ï¼Œä¸æ€ä¹ˆå»ºè®®ä¸€ç›´ä½¿ç”¨ï¼Œé™¤éä½ ç¡®å®æŒºå–œæ¬¢å‘å¸–å­æˆ–è€…æ—¶é—´å……æ²›ï¼Œèƒ½æŒ‰æ—¶çš„å»ç”³è¯·å»¶æœŸã€‚</p>
<p>æœ€ååšä¸»ä¹Ÿå°±æ˜¯ç©è€äº†ä¸€ä¸‹åˆè¿™ä¸ªä¸‰ä¸°äº‘ï¼Œç”¨æ˜¯ä¸ä¼šç”¨çš„ã€‚</p>
<p>å¥½äº†ï¼Œä»Šå¤©çš„æ›´åšå°±è¿™æ ·å§ï¼Œæ¬¢è¿è¯„è®ºåŒºç•™è¨€ã€‚</p>
<p>PSï¼šè¯´æ˜¯å…è´¹ï¼Œåšä¸»å¥½åƒä¸ºäº†æ¼”ç¤ºå®åè®¤è¯è¿˜å……å€¼äº†1å…ƒå•Šï¼Œè¡€äºï¼ï¼</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
        <tag>å…è´¹ä¸»æœº</tag>
        <tag>ä¸‰ä¸°äº‘</tag>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title>å½“ä½ æ›´æ¢ç”µè„‘è®¾å¤‡ï¼Œæ€ä¹ˆé‡æ–°éƒ¨ç½²è‡ªå·±çš„Hexoåšå®¢</title>
    <url>/2020/04/07/hexo-rep/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ç»å¸¸ä¼šåœ¨ä¸åŒçš„ç”µè„‘è®¾å¤‡ä¸Šé¢è¿›è¡Œæ›´æ–°åšå®¢ï¼Œæ‰€ä»¥åšä¸»å°±éœ€è¦ç»å¸¸çš„é‡æ–°é…ç½®åšå®¢ç¯å¢ƒã€‚</p>
<p>ä»Šå¤©å°±æ›´æ–°ä¸€ç¯‡åšæ–‡ï¼Œæ•´ç†ä¸€ä¸‹è¿™ä¸ªä¸œè¥¿ã€‚</p>
<p>ç»™å¤§å®¶çœ‹ï¼Œä¹Ÿæ˜¯ç»™æˆ‘è‡ªå·±çœ‹ï¼Œç»å¸¸ä¼šå¿˜è®°ä¸€äº›ä¸œè¥¿ï¼Œè¿™å°±å½“æ—¶ä¸€ä¸ªç¬”è®°å¥½äº†ã€‚</p>
<h1 id="å¤‡ä»½æ•°æ®"><a href="#å¤‡ä»½æ•°æ®" class="headerlink" title="å¤‡ä»½æ•°æ®"></a>å¤‡ä»½æ•°æ®</h1><p>å“ªäº›æ˜¯æˆ‘ä»¬å¿…é¡»æ‹·è´æ–‡ä»¶ï¼š</p>
<span id="more"></span>

<p>â”œâ”€â”€_config.yml  #ç«™ç‚¹çš„é…ç½®<br>â”œâ”€â”€ theme   # ä¸»é¢˜<br>â”œâ”€â”€ scaffolds  # æ–‡ç« æ¨¡æ¿<br>â”œâ”€â”€ package.json  # è¯´æ˜ä½¿ç”¨å“ªäº›åŒ…<br>â”œâ”€â”€ .gitignore  # é™å®šåœ¨æäº¤çš„æ—¶å€™å“ªäº›æ–‡ä»¶å¯ä»¥å¿½ç•¥<br>â””â”€â”€ source  #è‡ªå·±å†™çš„åšå®¢æ–‡ä»¶</p>
<p>å…¶ä»–æ–‡ä»¶è‡ªå·±é…Œæƒ…å¤‡ä»½å°±å¥½ã€‚</p>
<p>åšä¸»æ˜¯ç›´æ¥åœ¨Uç›˜ä¸Šé¢è¿›è¡Œæ“ä½œçš„ï¼Œæ‰€ä»¥æœ¬åˆ†è¿™ä¸ªä¸œè¥¿ç›¸å¯¹æ¥è¯´å°‘äº†ä¸€æ­¥ï¼Œä¸è¿‡ä¸ºäº†é˜²æ­¢Uç›˜æŸå/ä¸¢å¤±ä¹‹ç±»çš„ï¼Œè¿˜æ˜¯éœ€è¦å†å¤šå¤‡ä»½ä¸€ä¸ªåœ¨åˆ«çš„è®¾å¤‡ä¸Šé¢å»çš„ã€‚</p>
<h1 id="ç¯å¢ƒéƒ¨ç½²"><a href="#ç¯å¢ƒéƒ¨ç½²" class="headerlink" title="ç¯å¢ƒéƒ¨ç½²"></a>ç¯å¢ƒéƒ¨ç½²</h1><h2 id="å®‰è£…-Git"><a href="#å®‰è£…-Git" class="headerlink" title="å®‰è£… Git"></a>å®‰è£… Git</h2><p>1ä¸¶æœ€å¥½æ˜¯ä»å®˜ç½‘Gitä¸‹è½½gitï¼Œåœ¨æ–°ç”µè„‘ä¸Šå®‰è£…ã€‚</p>
<p>å› ä¸ºhttpsé€Ÿåº¦æ…¢ï¼Œè€Œä¸”æ¯æ¬¡éƒ½è¦è¾“å…¥å£ä»¤ï¼Œå¸¸ç”¨çš„æ˜¯ä½¿ç”¨sshï¼Œä½¿ç”¨ä¸‹é¢æ–¹æ³•åˆ›å»ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">$ git config --global user.name &quot;username&quot;</span><br><span class="line"></span><br><span class="line">$ git config --global user.email &quot;username@example.com&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2ä¸¶åœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹è¿è¡Œï¼š </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">ssh-keygen -t rsa -C â€œyouremail@example.comâ€</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æŠŠå…¶ä¸­çš„é‚®ä»¶åœ°å€æ¢æˆè‡ªå·±çš„é‚®ä»¶åœ°å€ï¼Œç„¶åä¸€è·¯å›è½¦</p>
<p>3ä¸¶æœ€åå®Œæˆåï¼Œä¼šåœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹ç”Ÿæˆ.sshç›®å½•ï¼Œé‡Œé¢æœ‰id_rsaå’Œid_rsa.pubä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯SSH keyå¯†é’¥å¯¹ï¼Œid_rsaæ˜¯ç§é’¥ï¼Œåƒä¸‡ä¸èƒ½æ³„éœ²å‡ºå»ï¼Œid_rsa.pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚</p>
<p>4ä¸¶ç™»é™†GitHubï¼Œæ‰“å¼€ã€ŒSettingsã€-&gt;ã€ŒSSH and GPG keysã€ï¼Œç„¶åç‚¹å‡»ã€Œnew SSH keyã€ï¼Œå¡«ä¸Šä»»æ„Titleï¼Œåœ¨Keyæ–‡æœ¬æ¡†é‡Œç²˜è´´å…¬é’¥id_rsa.pubæ–‡ä»¶çš„å†…å®¹ï¼ˆåƒä¸‡ä¸è¦ç²˜è´´æˆç§é’¥äº†ï¼ï¼‰ï¼Œæœ€åç‚¹å‡»ã€ŒAdd SSH Keyã€ï¼Œä½ å°±åº”è¯¥çœ‹åˆ°å·²ç»æ·»åŠ çš„Keyã€‚</p>
<p>ã€åšä¸»æ˜¯æŠŠæ—§ç”µè„‘çš„.SSHæ–‡ä»¶å¤¹ç›´æ¥æ‹·è´åˆ°äº†Uç›˜ï¼Œæ‰€ä»¥æ¢ç”µè„‘ä¹‹åï¼Œæ˜¯å¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶å¤¹å¤åˆ¶è¿‡å»å°±è¡Œäº†ã€‚ã€‘</p>
<h2 id="å®‰è£…Node-JS"><a href="#å®‰è£…Node-JS" class="headerlink" title="å®‰è£…Node.JS"></a>å®‰è£…Node.JS</h2><h2 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h2><p>æ‰“å¼€git bashå®¢æˆ·ç«¯ï¼Œè¾“å…¥ npm install hexo-cli -gï¼Œå¼€å§‹å®‰è£…hexo<br>ç”±äºä¹‹å‰æˆ‘æ˜¯ç”¨ npm install hexo -g å®‰è£…çš„ï¼Œæ­¤å¤„æˆ‘ä½¿ç”¨è¿™ä¸ªå‘½ä»¤ã€‚å› ä¸ºæˆ‘ç”¨ npm install hexo-cli -gå‘½ä»¤å®‰è£…åå‡ºç°æ— æ³•æäº¤çš„æƒ…å†µï¼Œå¯èƒ½ç‰ˆæœ¬é—®é¢˜ã€‚</p>
<h1 id="å®‰è£…æ¨¡å—"><a href="#å®‰è£…æ¨¡å—" class="headerlink" title="å®‰è£…æ¨¡å—"></a>å®‰è£…æ¨¡å—</h1><p>åœ¨git bashä¸­åˆ‡æ¢ç›®å½•åˆ°æ–°æ‹·è´çš„æ–‡ä»¶å¤¹é‡Œï¼Œä½¿ç”¨ npm install å‘½ä»¤ï¼Œè¿›è¡Œæ¨¡å—å®‰è£…ã€‚</p>
<p>ä¸è¦ç”¨hexo initåˆå§‹åŒ–ï¼Œéƒ¨åˆ†æ–‡ä»¶å·²ç»æ‹·è´ç”Ÿæˆï¼Œå¦‚æœä¸æ…ä½¿ç”¨ï¼Œåˆ™ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlä¼šè¢«åˆå§‹åŒ–ä¸ºé»˜è®¤å€¼</p>
<h1 id="åŒæ­¥è‡³Github"><a href="#åŒæ­¥è‡³Github" class="headerlink" title="åŒæ­¥è‡³Github"></a>åŒæ­¥è‡³Github</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">hexo d</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h1><h3 id="bash-hexo-command-not-found-é—®é¢˜"><a href="#bash-hexo-command-not-found-é—®é¢˜" class="headerlink" title="bash: hexo command not found é—®é¢˜"></a>bash: hexo command not found é—®é¢˜</h3><p>æ£€æŸ¥nodejsæ˜¯å¦å®‰è£…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">node -v</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥npmæ˜¯å¦å®‰è£…</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">npm -v</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥ä¹‹åï¼Œèƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜é—®é¢˜ä¸æ˜¯å‡ºåœ¨è¿™é‡Œã€‚</p>
<p>æ£€æŸ¥hexoç›¸åº”æ¨¡å—æ˜¯å¦å®‰è£…ï¼Œè¿›å…¥ä½ çš„æ–‡ä»¶å¤¹ï¼ŒæŸ¥çœ‹node_modulesã€‚</p>
<p>æ£€æŸ¥ç¯å¢ƒå˜é‡ï¼ˆç‰¹åˆ«æ˜¯win7çš„ç¯å¢ƒä¸‹ï¼‰ï¼Œåœ¨ â€œè®¡ç®—æœºâ€å³å‡»å±æ€§ï¼Œè¿›å…¥ é«˜çº§ç¯å¢ƒé…ç½® ï¼Œé€‰æ‹©ç¯å¢ƒå˜é‡ï¼Œåœ¨ Path å±æ€§é‡Œæ·»åŠ ä½ çš„node_modulesæ–‡ä»¶å¤¹ä¸‹çš„ .bin æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</p>
<h1 id="å…¶å®ƒç»„ä»¶"><a href="#å…¶å®ƒç»„ä»¶" class="headerlink" title="å…¶å®ƒç»„ä»¶"></a>å…¶å®ƒç»„ä»¶</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">$ npm install npm install hexo-deployer-git --save #åŒæ­¥å†…å®¹è‡³githubï¼Œè‹¥å‰é¢åŒæ­¥ä¸æˆåŠŸå°±å®‰è£…è¿™ä¸ª</span><br><span class="line"></span><br><span class="line">$ npm install hexo-generator-feed --save #RSSè®¢é˜…</span><br><span class="line"></span><br><span class="line">$ npm install hexo-generator-sitemap --save #ç«™ç‚¹åœ°å›¾</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>åšä¸»æ˜¯ç›´æ¥åœ¨Uç›˜ä¸Šé¢æ“ä½œçš„ï¼Œæ‰€ä»¥å¯ä»¥çœç•¥ä¸€äº›æ­¥éª¤ï¼Œåªéœ€è¦å®‰è£…å¿…è¦çš„è½¯ä»¶ç¨‹åºï¼Œç„¶åæŠŠç§˜é’¥æ–‡ä»¶å¤åˆ¶åˆ°ç”µè„‘çš„ç”¨æˆ·æ ¹ç›®å½•å°±å¯ä»¥äº†ã€‚</p>
<p>ç›¸å¯¹æ¥è¯´ç®€å•ä¸å°‘ã€‚</p>
<p>OKï¼Œä»Šå¤©å°±è¿™æ ·ï¼Œæ„Ÿè°¢é˜…è¯»ã€‚</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
        <category>Hexo</category>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>HEXO</tag>
        <tag>åšå®¢æ¬å®¶</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠŠè‡ªå·±åšçš„ä¸€äº›å°å·¥å…·appå½’ç±»åˆ°äº†ç½‘ç«™ä¸Š</title>
    <url>/2020/04/03/mylist-app/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>è›®ä¹…æ²¡æœ‰æ›´æ–°åšå®¢äº†ï¼Œå®åœ¨æ˜¯å› ä¸ºhexoæ›´æ–°åšæ–‡ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œè€Œä¸”ï¼Œå› ä¸ºä¸€äº›ç‰¹æ®ŠåŸå› å‘¢ï¼Œåšä¸»æ‰€åœ¨ç”¨çš„ç”µè„‘ç»å¸¸è¢«é‡è£…ï¼Œå¯¼è‡´ç³»ç»Ÿä¹‹åï¼Œç¯å¢ƒä¹Ÿç»å¸¸è¦é‡æ–°é…ç½®ï¼Œè¿™å¾ˆéº»çƒ¦ã€‚ç´¢æ€§å°±ä¸æ€ä¹ˆæ›´æ–°äº†ã€‚å“ˆå“ˆå“ˆ2333â€¦.</p>
<p>ç„¶åï¼Œæœ€è¿‘åœ¨ç¾¤é‡Œé¢å‘¢ï¼Œç»å¸¸çœ‹åˆ°ä¸€äº›æœ‰æ„æ€çš„ä¸œè¥¿ï¼Œæ‰‹åŠ¨å»å¤„ç†å°±ä¼šæ˜¾å¾—ç•¥å¾®çš„éº»çƒ¦ï¼Œæ‰€ä»¥å‘¢ï¼Œåšä¸»å°±æ˜¯åˆ©ç”¨è‡ªå·±ä»…æœ‰çš„é‚£ä¹ˆä¸€ä¸¢ä¸¢çš„å®‰å“å¼€å‘çš„çŸ¥è¯†ï¼Œåœ¨æ‰‹æœºä¸Šé¢è¿›è¡Œäº†ä¸€äº›å°å°çš„å·¥å…·å¼€å‘ï¼Œå®ç°ä¸€äº›è‡ªå·±æƒ³è¦çš„åŠŸèƒ½ï¼Œå¦ç™½è¯´ï¼Œå†™è¿™äº›å·¥å…·çš„ç›®çš„å®Œå…¨æ˜¯ä¸ºäº†æ–¹ä¾¿è‡ªå·±ï¼Œä½†æ˜¯æ—¢ç„¶æœ‰æœ‹å‹æƒ³è¦ï¼Œé‚£å°±åˆ†äº«å‡ºå»å‘—ã€‚</p>
<p>æŒºæœ‰æ„æ€çš„æ˜¯ï¼Œç¾¤é‡Œé¢æœ‰ä¸€äº›ä»12å¹´å°±å¼€å§‹è·Ÿç€æˆ‘çš„æœ‹å‹ï¼ŒæŒºå¥½çš„ï¼Œæˆ‘å¾ˆæ¬£æ…°ã€‚æ¯•ç«Ÿï¼Œäººæ¥äººå¾€ï¼Œæ²¡æœ‰ä¸æ•£çš„å®´å¸­ï¼Œèƒ½ä¸€è·¯èµ°æ¥è¿™ä¹ˆä¹…ï¼Œä¹Ÿæ˜¯æŒºå¼€å¿ƒçš„å§ã€‚</p>
<h1 id="APPç›¸å…³"><a href="#APPç›¸å…³" class="headerlink" title="APPç›¸å…³"></a>APPç›¸å…³</h1><p>è´´å›¾å°±ä¸è´´äº†ï¼Œä¸ºæ‰‹æœºç«¯çœç‚¹æµé‡ï¼Œå°±ç®€å•çš„è®²ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦å†™è¿™äº›Appå¥½äº†ã€‚</p>
<span id="more"></span>

<p>è¯¸å¦‚ï¼Œçœ‹åˆ°ä»€ä¹ˆæˆè¯­æ¥é¾™çº¢åŒ…å•¦ï¼Œæƒ³ä¸åˆ°ä»€ä¹ˆæˆè¯­ï¼Œå°±åƒåšä¸€ä¸ªæŒ‰ä½ç½®æœç´¢æˆè¯­çš„å·¥å…·ï¼Œäºæ˜¯ä¹å°±è¯ç”Ÿäº†é‚£ä¸ªâ€œæŒ‰éœ€æˆè¯­â€çš„app</p>
<p>å†ä¾‹å¦‚ï¼Œé€›åšå®¢çš„æ—¶å€™ï¼Œè¦è®°å½•å¤ªå¤šçš„åšå®¢åœ°å€ï¼Œæˆ–è€…æ‰“å¼€åšå®¢æœ‰çš„çœ‹èµ·æ¥ç‰¹æ•ˆå¤ªå¤šäº†ï¼ŒèŠ±é‡Œèƒ¡å“¨çš„ï¼Œæˆ‘æ˜¯æ¯”è¾ƒå–œæ¬¢é‚£ç§ç¨å¾®ç®€æ´çš„ï¼Œæ‰€ä»¥å‘¢ï¼Œå°±åšäº†ä¸€ä¸ªrssè®¢é˜…æºçš„è½¯ä»¶ï¼Œè¿™ä¸ªçš„è¯ä¸Šä¸€ç¯‡åšæ–‡é‡Œå·²ç»ä»‹ç»è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸åœ¨å¤šè¯´ã€‚</p>
<p>ç„¶åè¿˜æœ‰ï¼ŒæŸçŸ­è§†é¢‘å¹³å°çš„è§†é¢‘ä¸‹è½½ï¼Œå®˜æ–¹åº”ç”¨ä¸‹è½½çš„è§†é¢‘éƒ½æ˜¯å¸¦æ°´å°çš„ï¼Œå¾ˆä¸èˆ’æœï¼Œå°½ç®¡æ³¨é‡ç‰ˆæƒæ²¡æœ‰ä»€ä¹ˆé”™ï¼Œä½†æ˜¯å§â€¦..ä½ æ‡‚çš„ã€‚äºæ˜¯ä¹ï¼Œè§†é¢‘è§£æç¨‹åºå°±æœ‰äº†é‚£æ ·ä¸€ä¸ªè§†é¢‘è§£æappã€‚</p>
<p>å…¶ä»–çš„å°±ä¸å•°å—¦äº†ï¼Œè¿™æ¬¡æŠŠåº”ç”¨å¼„åˆ°ä¸€ä¸ªå•é¡µåˆ—è¡¨ä»€ä¹ˆå±•ç¤ºï¼Œæ—¢èƒ½å¿«é€Ÿçš„æŸ¥æ‰¾åˆ°ï¼Œåˆèƒ½å¿«é€Ÿçš„ä¸‹è½½ï¼Œæ–¹ä¾¿å¤šäº†ã€‚</p>
<h1 id="åœ°å€"><a href="#åœ°å€" class="headerlink" title="åœ°å€"></a>åœ°å€</h1><p>å–è¿œzzy åŸåˆ›å®‰å“Appä¸‹è½½åˆ—è¡¨ï¼š<a href="http://app.hzv5.cn" title="http://app.hzv5.cn">http://app.hzv5.cn</a></p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>å¦‚æœä½ æœ‰ä»€ä¹ˆæƒ³è¦å¯¹æˆ‘æçš„å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºå›å¤ï¼Œæˆ–è€…åœ¨é¦–é¡µçš„å…³äºç•Œé¢ï¼Œæ‰¾åˆ°æˆ‘çš„å…¶ä»–ç›¸å…³è”ç³»æ–¹å¼è”ç³»æˆ‘ã€‚<br>æ„Ÿè°¢é˜…è¯»ã€‚</p>
]]></content>
      <categories>
        <category>æ°´æ–‡</category>
        <category>åæ§½</category>
        <category>å¿ƒæƒ…</category>
      </categories>
      <tags>
        <tag>å®‰å“è½¯ä»¶</tag>
        <tag>åŸåˆ›è½¯ä»¶</tag>
        <tag>android App</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€æ¬¾åšä¸»è‡ªå·±å†™çš„åšå®¢è®¢é˜…å®‰å“APP</title>
    <url>/2019/11/30/add-rssblog/</url>
    <content><![CDATA[<h1 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h1><p>æˆ‘å‘ç°æˆ‘å¥½æƒ³å¾ˆå–œæ¬¢ç¼˜èµ·è¿™ä¸ªè¯ï¼Œ2333â€¦</p>
<p>ä¸Šä¸ªæ˜ŸæœŸï¼Œåœ¨åå¹´ä¹‹çº¦åšä¸»ç¾¤çœ‹åˆ°æœ‰typechoçš„å®¢æˆ·ç«¯è½¯ä»¶ï¼Œç„¶åå°±æƒ³HEXOæ€ä¹ˆæ²¡æœ‰ï¼Ÿ</p>
<p>åšä¸»å°±å¼€å§‹ç€æ‰‹å†™è¿™ä¹ˆä¸ªè½¯ä»¶äº†ï¼Œè¯´å‡ºæ¥ä½ å¯èƒ½ä¸å¤ªç›¸ä¿¡ï¼Œè¿™ä¸ªè½¯ä»¶æ˜¯çº¯æ‰‹æœºç«¯æ’¸çš„ï¼Œå®Œå…¨æ²¡æœ‰ç”¨åˆ°ç”µè„‘ã€‚</p>
<p>ä¸‹é¢é™„å‡ å¼ è½¯ä»¶ç•Œé¢æˆªå›¾ï¼š</p>
<span id="more"></span>

<p><img src="/img/RssBlog/rss-blog00.jpg" alt="è½¯ä»¶å…³äº"></p>
<p><img src="/img/RssBlog/rss-blog01.jpg" alt="è®¢é˜…åšå®¢åˆ—è¡¨"></p>
<p><img src="/img/RssBlog/rss-blog02.jpg" alt="åšå®¢æ–‡ç« åˆ—è¡¨"></p>
<h1 id="ç¢è¨€"><a href="#ç¢è¨€" class="headerlink" title="ç¢è¨€"></a>ç¢è¨€</h1><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆå†™ç€å†™ç€å°±å†™æˆäº†è¿™ä¸ªæ ·å­ï¼Œå¼€å§‹æ˜¯å•çº¯çš„å®¢æˆ·ç«¯æµè§ˆåšå®¢å°±è¡Œäº†ï¼Œå†™ç€å†™ç€å°±å‡ºæ¥äº†ä¸€ä¸ªè®¢é˜…ã€‚23333â€¦</p>
<p>é¦–é¡µä¸€å±ï¼šè‡ªå®šä¹‰ä¸»æµè§ˆçš„åšå®¢</p>
<p>é¦–é¡µäºŒå±ï¼šè‡ªå®šä¹‰è®¢é˜…çš„RSSæºï¼ˆç†è®ºæ”¯æŒä»»æ„rssæºï¼Œä¸ä»…ä»…æ˜¯é™äºåšå®¢ç±»çš„ï¼‰ï¼Œé•¿æŒ‰é€‰é¡¹å¯ä»¥ç¼–è¾‘æˆ–åˆ é™¤é¡¹ç›®</p>
<p>é¦–é¡µä¸‰å±ï¼šè½¯ä»¶çš„å…³äº</p>
<p>å·¦æ»‘èœå•ï¼šæ”¯æŒä¸‰è®¾ç½®å¤´åƒï¼Œåšå®¢åç§°è‡ªåŠ¨æ˜¾ç¤ºé¦–é¡µä¸€å±çš„ Titleï¼Œæ”¶è—å¤¹åŠŸèƒ½ï¼ˆåŒ…å«ä½ æ”¶è—çš„æ–‡ç« åˆ—è¡¨ï¼Œé•¿æŒ‰æ”¶è—å¤¹åˆ—è¡¨æ”¯æŒç¼–è¾‘å’Œç§»é™¤æ”¶è—ï¼‰</p>
<p>é¦–é¡µäºŒå±ç‚¹å‡»RSSæºï¼Œæ‰“å¼€æ–‡ç« åˆ—è¡¨ï¼Œç‚¹å‡»æ¡ç›®ï¼Œæ‰“å¼€æ˜¾ç¤ºæƒ³è¦é˜…è¯»çš„æ–‡ç« ï¼Œé•¿æŒ‰æ”¯æŒæ·»åŠ åˆ°æ”¶è—å¤¹æˆ–å»é™¤æ”¶è—ã€‚</p>
<p>è½¯ä»¶æ²¡ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼ŒæŸ¥æ‰¾äº†ä¸€äº›å¿…è¦çš„å¼€æºèµ„æ–™å’Œæ•™ç¨‹ã€‚</p>
<p>å°±æ˜¯åŸºæœ¬ä¸Šéƒ½åªæ˜¯ç®€å•çš„ webniew ä»¥åŠ listview çš„ç»“åˆä½¿ç”¨ï¼Œä»è€Œè¯ç”Ÿäº†è¿™ä¹ˆä¸€ä¸ªè½¯ä»¶ã€‚</p>
<p>è½¯ä»¶è¿˜æ˜¯ä¸ªæµ‹è¯•ç‰ˆï¼Œå¯èƒ½å­˜åœ¨è¯¸å¤šçš„æœªçŸ¥bugï¼Œè‹¥ä½ ä¸‹è½½ä½¿ç”¨æˆ–è€…ä½“éªŒåˆšå¥½é‡åˆ°äº†ï¼Œå¸Œæœ›ä½ èƒ½é€šè¿‡è½¯ä»¶è”ç³»æ–¹å¼æˆ–è€…åšå®¢ç•™è¨€åé¦ˆç»™æˆ‘ã€‚</p>
<p>æ„Ÿè°¢ï¼ï¼</p>
<h1 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h1><p>æš‚æ—¶æ²¡æœ‰å¥½çš„å…¶ä»–åœ°å€å­˜ï¼Œæä¾›ç™¾åº¦äº‘ä¸‹è½½åœ°å€</p>
<p>é“¾æ¥:<a href="https://pan.baidu.com/s/1GdjZGnOMyNqBFAIQuRv2vA">https://pan.baidu.com/s/1GdjZGnOMyNqBFAIQuRv2vA</a></p>
<p>æå–ç :41e3</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>å¥½åƒæœ‰ä¸€æ®µæ—¶é—´æ²¡æœ‰æ›´æ–°åšå®¢æ–‡ç« äº†ï¼Œå°±å€Ÿæ­¤appæ›´æ–°ä¸€æ³¢æ°´æ–‡ï¼Œè®©å®ƒçœ‹èµ·æ¥å¥½åƒè¿˜æ´»ç€ï¼</p>
<p>2333â€¦</p>
<p>æ„Ÿè°¢é˜…è¯»ï¼Œä¹ˆä¹ˆå“’~</p>
]]></content>
      <categories>
        <category>åæ§½å¤§ä¼š</category>
        <category>çŸ¥è¯†ç¬”è®°</category>
      </categories>
      <tags>
        <tag>åšå®¢è®¢é˜…</tag>
        <tag>å®‰å“è½¯ä»¶</tag>
        <tag>åŸåˆ›è½¯ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>å¹æ°´ä¸€æ³¢ï¼Œç”Ÿæ´»éœ€è¦ä¸€ä¸¢ä¸¢çš„è°ƒèŠ‚å‰‚</title>
    <url>/2019/09/17/cnb-huawei/</url>
    <content><![CDATA[<h1 id="åä¸ºMate30çœŸæœºæå‰æ³„éœ²"><a href="#åä¸ºMate30çœŸæœºæå‰æ³„éœ²" class="headerlink" title="åä¸ºMate30çœŸæœºæå‰æ³„éœ²"></a>åä¸ºMate30çœŸæœºæå‰æ³„éœ²</h1><p>æœ€è¿‘æ‰‹æœºè¡Œä¸šè®¨è®ºæ¯”è¾ƒç«çƒ­ï¼Œå®¹æ˜“å¼•èµ·è¯é¢˜çš„æ— éå°±æ˜¯åä¸ºäº†ã€‚</p>
<p>æ­¤å‰å¼€å‘è€…å¤§ä¼šï¼Œå…¬å¸ƒäº†é¸¿è’™ç³»ç»Ÿä»¥åŠå¼€æºäº†æ–¹èˆŸç¼–è¯‘å™¨ï¼Œç€å®è®©äººä½©æœåä¸ºçš„çœ¼ç•Œã€‚</p>
<p>ä½†æ˜¯ä»Šå¤©è¦åæ§½çš„æ˜¯ï¼Œåä¸ºå°†åœ¨æœ¬æœˆ19å·åœ¨æ…•å°¼é»‘å‘å¸ƒçš„æ–°æ——èˆ°æœºMate30ï¼Œåæ§½çš„ç‚¹ä¸æ˜¯æ‰‹æœºæœ¬èº«ï¼Œè€Œæ˜¯åœ¨äºä»–çš„ä»£ç†å•†èŒä¸šç´ å…»å’ŒèŒä¸šé“å¾·ã€‚</p>
<span id="more"></span>

<p>æœ¬èº«çš„è¯ï¼Œå¯¹äºä¸€ä¸ªæ——èˆ°æ‰‹æœºçš„å‘å¸ƒå¤§å®¶éƒ½æ˜¯å……æ»¡äº†æœŸå¾…çš„ï¼Œè™½ç„¶ç½‘ç»œä¸Šå„ç§çŒœæµ‹å’Œçˆ†æ–™ï¼Œä¹Ÿä¸å¤ªå½±å“å¯¹è¯¥æœºçš„æœŸå¾…ã€‚</p>
<p>ä»Šå¤©æµè§ˆç½‘é¡µçªç„¶ä¸€ç‰‡åä¸ºâ€œåä¸ºMate30çœŸæœºä¸Šæ‰‹â€çš„è§†é¢‘è¿æ¥å¸å¼•äº†æˆ‘ï¼Œé¡¶è¿›å»æ‰“å¼€ä¸€çœ‹è¿˜çœŸçš„æ˜¯è¯¥æœºçš„çœŸæœºã€‚</p>
<p>é™„å›¾ä¸¤å¼ ï¼š</p>
<p><img src="/img/HWMate30/M-01.jpg" alt="åä¸ºMate30æ­£é¢"><br><img src="/img/HWMate30/M-02.jpg" alt="åä¸ºMate30èƒŒé¢"></p>
<p>è¦çŸ¥é“è¿™æ˜¯19å·æ‰å¼€å‘å¸ƒä¼šçš„æœºå‹ï¼Œè§†å±æ‹æ‘„è€…å±…ç„¶è§†ä¿å¯†åè®®äºä¸é¡¾ï¼Ÿ</p>
<p>è™½ç„¶åªæ˜¯å¤§æ¦‚å±•ç¤ºäº†ä¸€ä¸‹æ‰‹æœºçš„å¤–è§‚å’Œå¼€æœºæ¡Œé¢ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰æ‹è§†é¢‘çš„è¿™ä½å…„å¼Ÿå·²ç»å‡‰äº†ã€‚2333â€¦</p>
<h1 id="æ³¨é”€ä¸€äº›ç¤¾äº¤è´¦å·"><a href="#æ³¨é”€ä¸€äº›ç¤¾äº¤è´¦å·" class="headerlink" title="æ³¨é”€ä¸€äº›ç¤¾äº¤è´¦å·"></a>æ³¨é”€ä¸€äº›ç¤¾äº¤è´¦å·</h1><p>è¿™ä¸¤å¤©æ–°æ³¨å†Œäº†ä¸€ä¸ªæ‰‹æœºå·ç ï¼Œç°ä»£ç½‘ç»œæ—¶ä»£æ¢ä¸ªå·ç çœŸçš„æ˜¯åŠå…¶çš„éº»çƒ¦ï¼Œå„ç§çš„éªŒè¯æ¢ç»‘ï¼ŒéªŒè¯ç çŸ­ä¿¡æ¥æ¥å›å›æ”¶äº†ä¸ä¸‹å››äº”åæ¡ã€‚</p>
<p>æŠŠä¸€äº›ä¸»æµçš„ç¤¾äº¤è½¯ä»¶ï¼ˆQQ/å¾®ä¿¡/å¾®åšç­‰ç­‰â€¦ï¼‰æ›´æ¢äº†ç»‘å®šï¼Œä¹Ÿæ³¨é”€äº†ä¸€äº›ç¤¾äº¤ç½‘ç«™çš„è´¦å·ï¼š</p>
<p>ç®€å•è¯´å‡ ä¸ªï¼Œä¾‹å¦‚ï¼šçŸ¥ä¹ï¼ˆç§èŠâ€œçŸ¥ä¸€å£°â€å¯è·å¾—æ³¨é”€çŸ¥ä¹è´¦å·ä¸“å±é“¾æ¥ï¼‰ï¼Œé…·å®‰ï¼ŒsoulAppï¼ˆè¿™äº›appè®¾ç½®é‡Œé¢å°±å¯ä»¥è‡ªåŠ©ç”³è¯·æ³¨é”€ï¼‰ç­‰â€¦</p>
<p><img src="/img/HWMate30/zhihu-01.jpg" alt="æ³¨é”€çŸ¥ä¹1"><br><img src="/img/HWMate30/zhihu-02.jpg" alt="æ³¨é”€çŸ¥ä¹2"></p>
<p>ç„¶å</p>
<p>è¿™å‡ å¤©è¿˜å¾—æŠ½ç©ºå»é“¶è¡Œï¼ˆä¸­å›½é“¶è¡Œ/å·¥å•†é“¶è¡Œ/å†œä¸šé“¶è¡Œâ€¦ï¼‰ï¼ŒæŠŠé“¶è¡Œå¡çš„é¢„ç•™å·ç ä¹Ÿæ›´æ”¹ä¸€ä¸‹ï¼Œæƒ³æƒ³å°±å¾ˆç´¯ï¼Œæ‰€ä»¥æ²¡å•¥äº‹ä¸è¦éšä¾¿çš„æ¢å·ç ï¼Œå¦å¤–å°±æ˜¯ä¸€å®šè¦æ³¨æ„ä¿æŠ¤è‡ªå·±çš„ä¸ªäººéšç§ã€‚2333â€¦</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>ååæ§½ï¼Œæ›´æ–°ä¸€æ³¢æ°´æ–‡ï¼Œè°ƒå‰‚ä¸€ä¸‹åšå®¢çš„æ°›å›´ï¼Œè®©å®ƒçœ‹èµ·æ¥æ›´ç”Ÿæ´»åŒ–ï¼</p>
<p>æ„Ÿè°¢é˜…è¯»ï¼Œä¹ˆä¹ˆå“’~</p>
]]></content>
      <categories>
        <category>åæ§½å¤§ä¼š</category>
      </categories>
      <tags>
        <tag>ä¿å¯†åè®®</tag>
        <tag>èŒä¸šç´ å…»</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºGitä»¥åŠç›¸å…³å·¥å…·(Gitalkç­‰ç­‰)åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›é”™è¯¯åŠè§£å†³åŠæ³•</title>
    <url>/2019/08/17/About-Git-Err/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><h2 id="1ä¸¶Gitalkè¯„è®ºå·¥å…·ä¸€ç›´Logging"><a href="#1ä¸¶Gitalkè¯„è®ºå·¥å…·ä¸€ç›´Logging" class="headerlink" title="1ä¸¶Gitalkè¯„è®ºå·¥å…·ä¸€ç›´Logging"></a>1ä¸¶Gitalkè¯„è®ºå·¥å…·ä¸€ç›´Logging</h2><p>ä»Šå¤©çªç„¶åœ°å‘ç°ï¼Œyiliaä¸»é¢˜é…ç½®çš„Gitalkè¯„è®ºç»™ä½ ï¼Œç‚¹å‡»ç™»é™†åä¸€ç›´å¤„äºLoggingçŠ¶æ€ã€‚</p>
<p>å¯èƒ½gitmentä½œè€…é‚£ä¸ªæœåŠ¡å™¨è¿‡æœŸäº†ï¼Œç™»é™†æ—¶ä¸€ç›´æŠ¥Object ProgressEventã€‚</p>
<p>å¾ˆå¤§éƒ¨åˆ†åŸå› æ˜¯å› ä¸ºjsç›¸å…³çš„ä¸œè¥¿æ²¡æœ‰åŠ è½½å‡ºæ¥å¯¼è‡´çš„ã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<span id="more"></span>

<p><img src="/img/GitalkErr/logging.png" alt="ä¸€ç›´å¤„äºç™»é™†ä¸­"></p>
<h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æœç„¶ä¸å‡ºæ‰€æ–™çš„å°±è§£å†³äº†ï¼Œå·²yiliaä¸»é¢˜ä¸ºä¾‹ï¼š</p>
<p>æ‰“å¼€åšå®¢ç›®å½• <code>themes\yilia\layout\_partial\post\gitment.ejs</code> å°†ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;//imsun.github.io/gitment/style/default.css&quot;&gt;</span><br><span class="line">&lt;script src=&quot;//imsun.github.io/gitment/dist/gitment.browser.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://jjeejj.github.io/css/gitment.css&quot;&gt;</span><br><span class="line">&lt;script src=&quot;https://jjeejj.github.io/js/gitment.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…æ˜¯æ”¹ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;https://jjeejj.github.io/css/gitment.css&quot;&gt;</span><br><span class="line">&lt;script src=&quot;https://www.wenjunjiang.win/js/gitment.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¿®æ”¹æºæ–‡ä»¶ä¹‹åï¼Œç™»é™†æ—¶å°±ä¸ä¼šå†æŠ¥é”™äº†ï¼Œè¿™ä¹Ÿæ˜¯åˆ«äººçš„æœåŠ¡å™¨ï¼Œå¦‚æœä½ æ€•å†æ¬¡å¤±æ•ˆä¹‹ç±»çš„ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æ­å»ºä¸€ä¸ªæºæ–‡ä»¶æœåŠ¡å™¨æ¥æ”¯æŒä½ çš„éœ€æ±‚2333ã€‚</p>
<h2 id="2ä¸¶Gitalkæ— æ³•è¿›è¡Œåˆå§‹åŒ–åˆ›å»ºIssueè¯„è®ºåŒº"><a href="#2ä¸¶Gitalkæ— æ³•è¿›è¡Œåˆå§‹åŒ–åˆ›å»ºIssueè¯„è®ºåŒº" class="headerlink" title="2ä¸¶Gitalkæ— æ³•è¿›è¡Œåˆå§‹åŒ–åˆ›å»ºIssueè¯„è®ºåŒº"></a>2ä¸¶Gitalkæ— æ³•è¿›è¡Œåˆå§‹åŒ–åˆ›å»ºIssueè¯„è®ºåŒº</h2><p>é”™è¯¯æç¤ºä¸ºï¼šError: Validation Failedï¼ˆå¦‚å›¾ï¼‰</p>
<p><img src="/img/GitalkErr/zs.png" alt="æ— æ³•åˆå§‹åŒ–"></p>
<p>è¿™ç§æƒ…å†µæ˜¯å› ä¸ºIssueæœ‰å­—æ•°é™åˆ¶çš„å’¯</p>
<h2 id="è§£å†³-1"><a href="#è§£å†³-1" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>1.æ§åˆ¶è‡ªå·±çš„æ–‡ç« åç§°æ•°å­—é•¿åº¦ï¼ŒåŠ ä¸Šæ–‡ç« å‰é¢çš„åœ°å€å’Œæ—¥æœŸï¼Œæ€»å…±ä¸èƒ½è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚</p>
<p>2.ä¿®æ”¹ä¸»é¢˜çš„Gitalkè¯„è®ºIDè·å–é¡¹ç›®ï¼ŒæŠŠè·å–åœ°å€æ”¹ä¸ºè·å–æ ‡é¢˜ï¼Œç”µè§†å†™æ–‡ç« çš„æ—¶å€™åŒæ ·è¦æ§åˆ¶æ ‡é¢˜çš„é•¿åº¦ä¸è¦è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚</p>
<p><img src="/img/GitalkErr/zs02.png" alt="ä¿®æ”¹æ–‡ä»¶"></p>
<p>åšä¸»ç”¨çš„æ˜¯yiliaä¸»é¢˜ä¸ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id: &quot;&lt;%=url%&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ä¸º</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">id: &quot;&lt;%=page.title%&gt;&quot;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥æŠŠè¿™ä¸ªé—®é¢˜è§£å†³ï¼Œå¯ä»¥æ„‰å¿«åœ°åˆ›å»ºè¯„è®ºå’¯ã€‚</p>
<h2 id="3ä¸¶æ¢ç”µè„‘åï¼Œæ‰§è¡Œ-hexo-d-å‘½ä»¤æç¤ºæ²¡æœ‰-Git-æ–‡ä»¶å¤¹"><a href="#3ä¸¶æ¢ç”µè„‘åï¼Œæ‰§è¡Œ-hexo-d-å‘½ä»¤æç¤ºæ²¡æœ‰-Git-æ–‡ä»¶å¤¹" class="headerlink" title="3ä¸¶æ¢ç”µè„‘åï¼Œæ‰§è¡Œ hexo d å‘½ä»¤æç¤ºæ²¡æœ‰ .Git æ–‡ä»¶å¤¹"></a>3ä¸¶æ¢ç”µè„‘åï¼Œæ‰§è¡Œ hexo d å‘½ä»¤æç¤ºæ²¡æœ‰ .Git æ–‡ä»¶å¤¹</h2><p>å‰ä¸¤å¤©ä¹Ÿæ˜¯åœ¨æ›´æ¢è®¾å¤‡å»æ›´æ–°åšå®¢ï¼Œåšä¸»æ˜¯ç›´æ¥æŠŠåšå®¢æ ¹ç›®å½•ä¸‹æ•´ä¸ªæ–‡ä»¶å¤¹æ‹·è´ï¼Œæ”¾åˆ°Uç›˜é‡Œé¢å‚¨å­˜ã€‚</p>
<p>åœ¨æ–°ç”µè„‘ä¸Šæ“ä½œç›´æ¥æ‹·è´ .ssh ç§˜é’¥åˆ°ç›¸åº”çš„æ–‡ä»¶å¤¹é‡Œå°±å¯ä»¥å¼€å§‹å¯¹åšå®¢è¿›è¡Œæ“ä½œäº†ã€‚</p>
<p>ä½†æ˜¯çªç„¶å‡ºç°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šåšå®¢èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘(å³ hexo g)ï¼Œä¹Ÿèƒ½æ­£å¸¸æœ¬åœ°é¢„è§ˆ(å³ hexo s)ï¼Œå°±æ˜¯æäº¤åˆ°è¿œç¨‹Gitä»“åº“çš„æ—¶å€™æ€»æŠ¥æ²¡æœ‰ <code>.Git</code> æ–‡ä»¶å¤¹:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fatal: not a git repository (or any of the parent directories): .git</span><br></pre></td></tr></table></figure>

<h2 id="è§£å†³-2"><a href="#è§£å†³-2" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>æœç´¢å¼•æ“ç»™å‡ºçš„ç­”æ¡ˆï¼Œå¤§éƒ¨åˆ†ç”¨æˆ·éƒ½æ˜¯èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ <code>git init</code> è¿›è¡Œåˆå§‹åŒ–æ¢å¤ï¼Œä½†æ˜¯æˆ‘è¿™è¾¹ä½¿ç”¨è¯¥æŒ‡ä»¤å¹¶æ²¡æœ‰è¾¾åˆ°æƒ³è¦æ•ˆæœï¼Œç”šè‡³è¿˜äº§ç”Ÿäº†å…¶ä»–çš„é—®é¢˜æˆ–é”™è¯¯ã€‚</p>
<p>ç„¶åè§£å†³åŠæ³•å°±æ˜¯ï¼š</p>
<p>åˆ é™¤åšå®¢æ ¹ç›®å½•çš„ <code>.deploy_git</code> æ–‡ä»¶å¤¹</p>
<p>ç„¶åä½¿ç”¨å‘½ä»¤ <code>hexo deploy</code> é‡æ–°åˆ›å»ºè¯¥æ–‡ä»¶å¤¹</p>
<p>å°±ä¼šè‡ªåŠ¨ç”Ÿæˆ <code>.git</code> æ–‡ä»¶å¤¹åœ¨é‡Œé¢ï¼Œæ”¯æŒåšä¸»çš„é—®é¢˜ä¹Ÿå°±è§£å†³äº†ï¼Œé¡ºåˆ©å‘å¸ƒäº†ä»Šå¤©è¿™ç¯‡æ–‡ç« ã€‚ </p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ€»ç»“å•¥ï¼Œçº¯ç²¹æ˜¯ä¸ºäº†è®©å¶çœ‹èµ·æ¥æ›´åŠ å®Œæ•´è€Œå·²ã€‚</p>
<p>é‡åˆ°ä¸€ä¸ªé—®é¢˜å°±è§£å†³é—®é¢˜ï¼Œä¸èƒ½è®©é—®é¢˜å †ç§¯å¦‚å±±ï¼Œ2333â€¦</p>
<p>æ‹æ¸…æ€è·¯ä¹‹åï¼Œæœ‰é’ˆå¯¹çš„å„ä¸ªå‡»ç ´ï¼Œé—®é¢˜å°±ç®€å•äº†</p>
<p>ä¹ˆä¹ˆæ‰~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>ç¬”è®°</tag>
        <tag>çŸ¥è¯†ç‚¹</tag>
        <tag>Gitalk</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoå®ç°æ–‡ç« åŠ å¯†å’Œæ–‡ç« ç½®é¡¶çš„æ–¹æ³•ä¸æ¼”ç¤º</title>
    <url>/2019/07/15/encode-top-test/</url>
    <content><![CDATA[<div id="hbe-security">
  <div class="hbe-input-container">
  <input type="password" class="hbe-form-control" id="pass" placeholder="å¯†ç æ˜¯[ä½ å¥½]ä¸¤ä¸ªå­—çš„æ‹¼éŸ³å­—æ¯" />
    <label for="pass">å¯†ç æ˜¯[ä½ å¥½]ä¸¤ä¸ªå­—çš„æ‹¼éŸ³å­—æ¯</label>
    <div class="bottom-line"></div>
  </div>
</div>
<div id="decryptionError" style="display: none;">Incorrect Password!</div>
<div id="noContentError" style="display: none;">No content to display!</div>
<div id="encrypt-blog" style="display:none">
U2FsdGVkX1+lJcX2RB767QTA83kN5ChPEkbeK7PZVd1QUW1h0KL2lodOVH8hKi/Wpm/27Mk+yAqKsBaJgNJ+YXwn1y88PPHKpE23YJb7P4bulkt8TKCo3/3c0M4j7le6WU4IbCS0JNj+LZ2geFVU6MkuA0cHJFHnvYzYf3GymArLUGbkoTe6dNZ8Mazw6qyw79ONRhd+Rh9jvoDPrK6c6dmCs+jC6kKIEkhNRLw6Wzldi4IiDkStdtzlRmZaz3tNnuI4jV0etSe/0jvTzcxsrepGeSmyfbUb8EfWcRli3R+JOQHZkNVQE3f0dx2vhOL/oIBPwMLcN05DF7jBHxKUzV9K5lzvDxjJH2HJyeGy1lyJL5Uy/jtjioJ6V+UDZL1zz+oKtaRn7Vfr39NBowFcDdTyBpOT6L7enjoCMome9isHzffATpAW4fs5zQPrxWNvJS78DD7Bpgey6+9pb0OsA6Gify6UP4BInzLVeCzKOjTi2cWLlxtU/BKFOAJCRm0PkrVn2gSJZPAI3IEf1agmtIsYpYfTA/u4mF1rh8Ag/32poCsZQgIONY5sB+9wi9BXq8djQXjhyzmja6NiYOo7icJrM27NZpBPrY+wEJ8t34INup1g8iWBP+FMFKV2C/wJ3ToIErtM3pAC81yYsrvvlH1qgLUmNZeooHOic2/dCb2QzyfpVdpEpaaaQpk+PEzHmUv555js9arA3WG2K0GCjjT/i4y/vnaVJscay8m+imc13JAeWRVA0ntv5GaXU6wuo+HK32skQXD7D/7ng75ywlcl3I84rrOm+m/jTX0u3uiYkMrmlvapA32T9O9w1omPmAm8XCNngukvDkCg6wmxXgt1Yb2uBjs6wDJuvCGCaLpc5OOu5w+GEjlEXmYW+EsSPp3eynoxgYRJWnPdqvkqqSZaJhUE2nZWWJIr7yzPtqvQXlUlFOjlldyiwCBCiWJqB2hYpvQvwrCDvVCaLt4Cp3m74rQTlRIslpuFZPitllrYwTTnria/lchE4siXmzKvY+WUpnp90mVEOrSkdKs4fgmCWaot3Pm9VptkZF5ZJ3a8yyLyK2rTrUJXRUzrPs0PYCuxyQfkG3zvyb0jdXA48IrjA2dosNFW7JmBjlcX/Yn2iBWpH2FVnbkQyQmSNysZ/iFvvq/MyoXdlgSTO0oUdCdxH4YFGS1UsEmHicMlpJDcZFsW/7BQ7dTIeSUyEIg5heOiE7XpOANmMZOCTe/zVAL0CLLG0kcLWyLABx6wf8g+Cp+24opQ0t57UEbzCSW1AtKHIZ/AzFqzgrZkVhtXejN76x7RiRrwolbSrGNenixs/eU868DJVRTl3+vPwcO5/R+liGr7Vd/ldY85TtLNSGDWId2HpazXbPncTAeHH1i2cjkwMnX3etM3OIDl90KXEEFZAGu6e4yNoGxZACFr1UBfJTmIzHCMW/HMfD/H8DDQOPwkfZNQNn5MaNIulZF5VE0XsyPB20FW4LZPenUY06lLPU5LXjSi/9UPp4oT05pKvaoVrnqhgGr/Ufc2Xmko512Tj31Zd8+8lhPrymzcZlc39iu6mUUvhgxnFfed7UyWQQujOkgaexEchuwBy6WyniV1oDzU2usejBEb/D6FzD6ZXJyH7DWfgG+Yukdat4qWLC75pETiGGfACp+sHiTTIzgZGEZ9jjwKebSyO3INKBLKP0IGE2qFdrB8IAZ1M2YyKGfrWxfKeluaTing78myCFYeE8yw0E26E+K929ychqm/o5xMXR3PhBf/9cBxdBuQ7TZbUe8LFahsFAL7egPXry0oPXaVgZnrO4BV/wgVVrtb2nkI4V8i5zypIz6Md481CfskBY+GmEh18o1UsPiaOPim0OrdBGAr/vQkvfMX3V5t6f3Adxvye7VQZonvXwdaRWusGB6NzdTadEBtAGaKXYeW16V3l+iC/VJnmhm9NQdJIchy22bRH0pn34aZ5KHs0tLeA3UJ+ICkvgoCB6S2QT2Rpjbc4bvTtTUFDEj7x2XGPmP2KZ90TpOLjzw4FYBou+yU1QMBLgVKMjThECdlofdpv28hOBw0HMxnV0gYptHXOZN9tFOn6zh5OHBoq+JPq3LaMx+Ds1MYbXCNgI2gv88w/gzRe/TkZbi/A+CB8iLV4CYNgxOzrCEaBsaQbUEFSoRAnQVUoaRa4JiDe46m4sPxisOTFRUumxt0Yq+7o3z5CSg/WYGvp0AiY/MnBAoXe6/fPbvYU2Lcc5SR1y6lL0kd9VzMY5pY0dxEx40ErEDpq8WS0/SkWISdzrwCgkH2ZJoWUA6WlhqqtCHg49dhfsooamtrxM2X251BahjubRktzA0Mvjr5WdXIMcJKRu4/JybJROOi4WmlCeU4vgMiUtlmI/FZF/9UETAuJ/8gGN/q7RvCFrBtsqnOWQPGbv4mcIONgzzXx5xGhJykCLvG958DPcSLH4pbjb4OXUqfdV8A7ApBMPjNI/3mjIEgszQ/7DZHvoy4TX3xwtLOKYtJFxTZpW+5vi2snqK5RlmLKmriD7OW+v4Erste6hzojpGbE6yNn3f+5QqSLuqMuvA4InLw6bgbyPuev7EujGLjSI96f6aWKbq6q+19TSI+oDulcOooXf+E9c0kbyMrXTee8D3KnjBcYGO7aaf8oq7SyRtgdGlK+SiSTycK+5+HkciiBF4Em7TVVrZ6tHx3cikssZRvlIVwggaVsCC+ac8ym2pmOWminYyxtxpRF8s4ASmRdRmdf0PpUuDsn5vWXt3mlBPhcxBROqAtKvqXGsfyl8vqma3HE13IcxUEj5rfTVHN0AZTNDVPpfA5Z/KbgnEXk+d+kodm0lxwDgIvqloKetOB6lfcbBrAvuEOJqNUJx3WH2y8bL1v4cRQG1M7jrZnkC543S1z+T6gl0qzrAMm1ECCrzehQr6pWCDcK9eSVcVBxQCxAZO5VQwDMkb3VQYum39M+GCrrOT05U+7JP2CoUCh1K4G9/lIeJ7LbY+BdriiHimp2ZDdR7YFa2YdWWQTbi0owzNG51B7+cgusC93QVeTA7GUEmsPQnR2cStnpAN6tR+GV4+UTb5DwG+s5Jy9Occ4ykNcJQhrACk27htkva/Ru8BVt1i7IL9sb5Iwegt1y7en79fCyjEIEAWRXA0bk8IScN6PpMLAaxthKKi0XZ+RcEZV4OWIQpOI4sNR122Fa4pB33ZUO6XgtEHNuzZh4CtA6VGktStHtwACNFLpuzOeGBQCXpEQWOuWydr3l5LIRPY72YvkGoPCWQye43KDjje7kFn+qykf3cUzTbUDB+b/pEcRa8/7PwcXuSZGlwCtqwopNTHo7WfY5CSuAscQfK3V1Kw7Voyl7n2q1AbsnSWKkbgMo9R/3i5c3NW+bM+d+G13XxkFyPQ0/4+M8OEEfJW6ibEgR6YSRp9JHgPLYfYg3YoIstxH6bzxIE+wyEW8HJ4uy+2seEZD+15ajefku85e2v/PwgzJkkTbKIaESO2rfXnkK6oMjYZrgr7Z6LT9kyoInwhDHOEgBVdWTzmtmo00HaPeS9lHMVtSBV8lKML1YQw1cm4r2b2Q15yD5VgAu6T1RoLKnMUZAHSbpiaQ21/zMMExgRbHcuvke1yBDn5F4T8kjQSG/krIfWT1c35KmKTtXd9PrvZ26Ue5Jf202xwxgOrO+nsyby68MtXaaHoePN2Z/DsFMDCyGxmQcj+A5UPBfFPtHDG5XineZgn4x0SmAcHih9a2NHs/YcariX5X9XpmAk63pGC2zSGkNN0otdwTk2pgJg1707BBMoElGGj7tvzj2UTD9lr8y2ObuRIqv5X2stQmFEnDBt8kDcaeWfIFgMD0y0nQlZojw4xJgXgc5JxWXYaiublqD2tRvagg7ArSN3uyMRNeYdbAjOqOSqkuHYmhrlzgqmj1UnF5xlEH7q8X39VAG5dxzT1rIrhdOISZwDLhk6pAlr3mkA6gMopNAYV6jIDZozRvbKcHKfoIiN3BRPoy/mOl6Ov6j5DyGyJW+q6/mBX/ou9eC2Dq92pE3RsLA+/IXvVh9Nf8GSYJvEdNaDBfAHqcL0/IIQRHyYEzicaV3AtKztnliB0hkwoszNiH3eHoTDC8/7yMxAahZkNfZyvBC1BbJy+8m12xhuJo6M8VvYJ44pgVhMbp/H0zzqUKtJO41NH7g7ZVOFGF7fYIdz+Xuh5HP2rs+TGOm1iphcGW6TMSECh9JDdjU01GT8feziYWcpaJdF8g+K17IyA+vVfEIleqOhKDhYkLBq+3780M1u1eim2Opb6B3T3DUu/yS59iERRdipFHDOlpmZRFfySOcqZrqWnK1zSunq+aPPhLknmMIGXcMEKS/h+oyt9lysC7z4JlGQEyfoemHreMqRoCvrgoryOfU4gu6Y6364EgMPI6Z2Ki2snLqx3JM+E7zhaGy1lFsXRmqW5ElGzamhWrKubwG4uIAAdkeMd1sUb7o1A5prSlvOJbSalnxYHCW9HfDE0SUBY9bXFTozXHft2t9mD0xC4ZOBTyeMnm9wvwwU54Gw1Mhvqu6XP0ltxUiqQWi300Bvo36lzfjJNbLbiN9J+DL5fpOlxfJDmLgLorlfbrEcch4nneKA0355duudP/brzFSY2ZEdAVxkWm7mGg9RQGdXKlrT3cbt7RvXU5vYNFlQqWzO8sQBjKR6dP9yiRNaI7Dl8MExYmj5rqWoz/sMfc2nWnR/oeGnuCXp+pyCWrq9IoJ12B5lh9GCzZT8L2VyAIeLztTR2lnRXLRkEWclg9tQ5xwUlQK2w9ofpBeDOWCdEcX6QTWSenrxFX/s5H6hP/UadP4vYYUcHGU4hWDnfovb2feMYPpnfVEa/v0RlHspye1gG7huoph7ywaexwpDKm1ZesedIlEsNL9v3Ku5CtzBd/Lk5eAsLltOv9szPauvmVQzy51SbtL/+GT0P6g42zuiCB8f03K4Jvump95ST0YheYMa/iJtWIMWciNiBN8Et35CAaoNzqblksgDIXBP/ggZVuGRYUf2TWRwJ+TVzGKybVeszOGoprcFmymeLhMCxcMt6xvHnafHypqaZAN35B4pQIVVxwcnsX7a+D20eLRkK4NPLb9GUF35KLbnZrZnum2P37JbEflVWSrc+1HARUGbDygeqYIegdR/nyJHWKrAqs9UVqT837wFz066xaBER3r/kbPtlAb+UK29LAJ7p5VLKxWmiPEPDmBXKfvnUIa+bF3ctGRaJgCJEiG1WbnfWN8gP7RPsBC3YSqrYujHl8E/1weybjqVa51tixuwFDcK5Nl4btEl6NLM//lDq8ttkqbHi2QzPmtcbLB7vm2RVaHBGoN4Aqhf5z/7hAytWvg7tli8fXxtyUeQgTJ8DOGEbhJazOwxM9kHyeLOv1ik1dRfkebPayeinDfFEfF7SMVVMRBla6P/id6KEDTFfqH4AB16gNLrF+B7cWKThZvid4hd7sv4mGA6rbHgn/jekkAAx1PI3l2cZB0glmutB9rJkNM1hPHbeHp374JNFOCSKpi6B7xpzm0apcv6qQXrEVFrUrSQZjm8WkZQ7hHlY3VIVGYal81P4IeG8vc1iCLiKYQhx2SGdFCDyauJxXPL7x4zVzmU7IocRXsYzyre55AhPYVsXrPvJFyT4fth1bX11YTNWKtfybY2OZiHc7u+ttAgJ0uezSW2MPIUU5RdFsiZe46A9kC1zVijwrYDq7QJshOd41Oz6heFELKmnmMlq+/gUIccCqKI4GJ5fKHXAoI+yCDXzIz0X94kzSCqJbCji48kMY5BN/Ue4V8T0PcEpHKrWATgWoGTbigZO0NhUOCOajSA1g0kw0ihnLYbn4FOugTjIVHsYaSNf9SYNQPPNlHvclF5dwED8Oevcam7JWCNrF9xJ+SL0qsLRrDd9d13fpJeLiMZ4P0SOz+y1q4RiBD54ICxNI2PtIxLKIWGgweRCQGjGqKMT5d+R99RbztufNA41TvkEgsd12uWSuqjzuXyUgGpXZzTmnl4lFWoB/IzqCUEwlpTG8wcYsMRA0xJcS2r7INuQrzxeTdXZv5BGVqxNtsGnC6Vrj8b7kkV0tbNaLvp9FfsMoLVMt/jUzcobpi/A2P0tzIHJJVgnvZLuH2INPK1kLF5hg19OQnVhvxAMnYd7TpnvjPtt0RurXkdkkMnLUce5X5QaP4EVolzwfDcwc4PYj0nCxXzlSTI0gMGMPPIItu7ZyAptibopHfhA4XkAjwSGsSbxfkQRUA98Sn4rBRctVAeM9dP3mLQqq3PGHf2hawerOwMi5CqrqP5LGVXRiVJ3PbkCxiReBmpgctiFzqxs9xBwnN+4DN2DDPC3va4zJNxgcCOtr2CmvwGYsNtFi6M/8JnZuwZIyWGYcwdniLxjHxNdx4J9GpbrcX5x3JkQNZlarY2YeCuG6PuaqwY8nH7fLwIyqkORK3wQNmBKrB2YCYiPgdtCcAvJQiR//WebaUwMYLS0Oq8yB9RdAGqsyLj2PnC5Y47Q8td3OBQ3c9uzT7CEr7LZcBokd0GL33aW6Z7Qo1oOuY84m4gFu6/ZQMo3YqQ938XsEb4WWhyz1k6akz5fHw6JEecI8NtZOk/PjOby8mdJwtTi0CdroFEoSIIr03L1QQUTQ5Gj9BS2UG1T1+XrE6QS5ezFgTksE9y74A7qV09ytj+USUzY9gYWAEgqLNb/MQ9I6cKVnyweF3PdNV36dUzUdwkErFhdO+471ZLfMZnBefjX5/Nu7m8xNl3vSRO0k+czx2iHkMyzP+lvDO+/zifrkhaFawys+9TYT3h+j957zk7Qyietssx5lkgcW/Rfj6lp0fvI0317xh5kjCw6ZsVYIAopeZY7iNIs6T3zubW4ekTlDkWnv7OeHsQPXgsm/tlap6LSzEHs6IjtjxpE1Cz795dLLwmt8r4zwy0GcjQ7pxSoS26XaJzOou8ADvXRj3fKp0eN10RTqheL7jIFG3nnLc+30PgVVvxP4eG6D4bViS68NgKe0MbljN7Uv3EKB/E6zznF9n/Hxvb5T4GexRznzLu6aovCKUZAIEx24ovTz+RNbt4+sQ75ZePF4ZYl0wOeVxKVqm4WFf3RDcVDv9s6o2tYe0vxg8bQkkNqitb870ZF7B2fpQPpQkWEiwpJNlqEIgjO5PwdUPdLFWTxn4QqZ0mDYcQcDcet0ntPgnpn/kPS5Rm8mClCtVCrAbxvqfC7pgEvnMtpxhGRMuPcT2WWPQ6XsUaqUZkJ4N9iiz/8DdjdQYtlZM7kWfZ5u7neJ86wpTqWKyeD9C8RtQUx8EWuTtTssC6l9x4wy8wkeBXXQQ0mO/yvU3P6VCxujB52UWXwKlH/rpMeW6mvkiHwUaezaWafFF/C70Vp1d4LtSe6LZojb184ejhetxfE2W0Ljrl/xJXOqUMam+wXLyPE9T2hvBAsOOY+y3juQm0PaQs10PegWfY/4xI00yK62CiYX0yqJmzQzkh4NfF6AX0RGVOcomdv0egdOJ9119oi0Wgl8enPwaJV44M31hcgqi8tR9MI9KfQJI9zbFmI22T246j++YaKZEeKjrhXYPFhbFHwF0VVs5s1+Gi8ihRUUe4o3CaDNhzLhUKbIS+qL1VGCQ8gEIUGHA71W/gpr5bA1bKlm0BFp+bYWIZNtEdMao388IsDxUgd/q1AZdqPyek/ucAEcLDGqRGQVUc6utVaAjlEiZjwf6kv2mQ596pMxNITJEoW83X7B6uJD7O38BwnQMRfST/DhV39DPXrJyeyF4xEntOvJF1FvVF/Zs1j2ovw1371BN/JP+EKPdIxnMdSM0sgkupHeFH1GEksafxfOyt0RTxLqO1fyZsODrbhJwv1H+onDKX5/43tRmK8Hqj2ZPhFNAMAa2JXRqBL0MTuBCdaGO4OKL+OTtyCncjBS9Icf6DPod7qjgrGKWhy+mhVrO2LGPgrRF8oc2kznEpQrk0gpdUXcPVcmSnBu5PuFZeFcFyhWJRvHH8S2PFCTfB1RUvYfd+ZdpZkass9JDn1u9WGA4rAEIzFBYJ4EkpDgYWTo4DCcuC1TgZW63NZ9q69e3KAX36cakdVOfb/vAS9tUVABckRInzIFsIzT41OwwZiAbxFLhERoTsufXxgVkwZ10HuKtjYzgWCi3GvT88vNSfee8Ym9GzFsOsiGb9cmrP/UFnIqL/joDQmMgrW0RZ8jCMaYu0PsXM//vKRLi0P+buYzhBc9u58ejYXukkzgWN6i4bht7UoyKS2HI7HBoWRWBU/NMKXNLUt3OftAuzcs37jlXrH+Wsys59E+60tbzPLfU1azmnYar2ozqoDi5M0oh3Kyn6Q432Xzoyk/UlAE8JfpOlFOi81RDXyWlw2x4UTReTkhyi0K8L9TPgom23Lrk7EMD5xgPJNDqNWaluNvpB4NVZ9+rvfMJfNwLQXVdisEeNaeT2xlIOIb41WVC1DIX1sM51wT6VXjRqZZag9bjpjto68kdkjLSH4zQcsKlm2QXh+LQgZAqV4t4o4Q+8ybGDCdSENFcnLNWaZQxy1zPWOXO6vvp9KfXiFXHlDroFyCRr9IuLDerSasuJAbKiK7eVrFh2/YXg+lWnLKCVDv7ZjXW2K7w4oieVqEJ2MXFqx7UDWnHUHBJQDgQNRed/guDrKBwh//KPWZ34uehM35R/0gYkH/cZEwpStN/RavzDOSY0VS6jJ0VS06jzCRw3O5QMPAjthhrmKC1mqNquP1uA+pYenTwV+Nr1zSqNC3yNJngI6MOo12p30ENCmgOM5xrz5L0pTVpDuDqLbWqBqhJ7efG0dP1FAvM5r3tT9PtF35Pm6UTqq4XuK2omeO2C8sn/djHzvp5eBkBqdaxg6BjZZWmdtcZ/J7zpvZLCmqPlPckkzUZRpY0Ae0wjPWBVLxPsJDo2Q/jpJdAToqFo4Q6eDvcIr7W0YmJcZFloWw8kT5Jg4ZqTKuc0/aA2999OzXjjPmDh0MQeOlEmVk7mdKYROe39Cj8av8vloBgt8LqlBIhe1oPFg4vJUUZsnRZwwGeLmXqilY4y3HFLcU7fVV2HBOOpn8yzi+OL0L8Xlgh87Lk3zzVCR9YtReCS3z3RPuk9soOvLoVlLzUAW7+KW98p7tzh3mSUF4qYXMnvclOZIczfUwJKM1VQWHf+hEo/ctmbvErAxGFlOtsuGrm1qJtYY240UbgySsjRxzWb8sjhWnSgdGdIm9eanBVLjGwBZhoCohK/ssnZ04Ct+7hIBZO3nP2M3xpIJ0ZF1n1VEDVI0OH4NfQilG14XUXgozCOYaRkk9JRLBfFBK3GMyVE/LeACflu8i/MAF6eZPAcd3/CQ0KM1sIhdPLB+G/X6deGFM8fFjyG05CmZ+KKLsqEaUR9+P180UMXfWEXKF46cf4xJyBiB3/ilQX3rlMMPa1T8qLQIWr/KHtkwBqAwEAPrBc8tm3QdTJNAGofveUrvhK9BG59SPzF2GvAITvUgj6ywOaBw2o9PslDRQFhAq6940nUUD0OMjJRthD/lTx5kvWHz6JcJyNkraCJ8mQqkZ16YYK4IFxmHjWhEiLDFH1tqGmp8S1zWaePmwrelY4h9/eCBj0xlsTZgt/e3W7q7h373iilPGXFH73zeUtOivDjajJbMbESvg1CDu62n1sPDmnRRKWhymidzHm1UDMobnho6qZl+aGemJzsdxTaTPt0hja/3YEfFgBBzLGQr7ANfuUC304sw8dDevJm6zNmCFmN742J4x86PI2uqZ0I3PRF3NOb1/HisKAHv4J/SgNG7cs91LJncqHeBARMX7APP5im3BuVa0719JwLhKI9aaduU+eT2EA7H8mMovXeuivIlXnppo96vN5FcCEt/q5AgHxenojjhLLHolfX0Iq0c3WJTqRc/1SmEc2DXy8cSFdRxiG/jqRFoZWMzToHNsg4wcad9Y/ZKV025uWkiHXcxMWlsXlGYadgwfy/FmbXidAWXowaitkYjfF3jvts2Ldx/94OTjPz1o32Ar/r+YBE9WZmbMg+0qnt33Ijh6Xqsa3l/5BiHZrVwAnna0WZHgcBWD1MzrM44wZlDQPYT9MxgkQe/ravZP/PcA7814LPc6Gxp7Zl/bRB0Lvt6llUaWMPzIk0lLFBpcAc3MTL3X9x4GtMgpYNgcUxy7cP3NUKURViQWtMYEs+E7GTMPNrcfR8wnXGfjJmHM1ixa1bN0lklC2K7kgYrVBmKOWGZJhL2xdMhdB9hCcJ0JydMcu2Xc/5CJiHG++2gdnxcT4P4siOsFgBMqsLFNq5xE45Tgv9qFhfmM59RsWrMrpNhKnrAsdGRIrsO/yC1yqFxTcwkxZryJMRhxjzzi2Ij8AP0A/YmSQRrO80QxbVbLQpHVmJUbuYv+PNGOepD+fCyH/TpWOz8YvDRlewd+nwLq1VNGh2D7If7Zx7aEJ83leFhMdhen9x25S4TEGPsXFvLStxqlQ12OKW69HqeU0dkM8y/GBmtWM6dYDq76oVq6QSGTuh+a2lGOQuEfjwkALT01PxJJVT+tbASAoHN2D+1KHl/YQpDbgSaPr5fjTVKsHPr1T8ThWfxtC6IekVN/i8wN2JbRiR+E3z5pbpB7Y6XYuA489TVI+Uc5jWV3Y4Sjc/OQaf5RDMxs6prwAiTWwxSnYZdTgtUUjQ8lLLToJEr0Mrc3kRNBX5UEiE1p6OFygMVJ8BVBzQsEAnGjnpePaofMsEz49g+VvcQTIvp4etgWmXpbC7Op0t2l/Wwvbkvdj+qVeGsDuhfJspEwflcYfoCx43egIQYu6amOv2L2eFFupRAypRcKEmtEwigXs5hdazmbDVjLX/HSNgHVK8SZKHghh46DJK+96EEoAV/gZcUdThG4/mAcWX5Wdw9BHxS84CDVvcUS/NvQsyf/hPdfmCQyzPK6niH7oZfTCg6lmK6zKBgJP17tCdmGLHoog6NEqlrs+tcBIEjHJUWMjdpwYAe6QKWDJTS13HTwPzzmdJz7VRytD0ChvQG35ku/3QjesDCgiNY5Tj3jzLBTEHoJ/4NMj4TfGq0oiaOmeTi8hvVZlyaFlsA0LBPatzp/1/Sr239e6yzpqtyCMD4QJtfBA0z3zv6QEqUpfeazvt9KhCr8jHt4/WWv2phEWWajxplVGdz8HYvVm2sPe/WX6jUQXjmLKhiZDy3rCu54agfjdIOSw8dkVWMJHy2JzgGTvkCKprpONOLRU4ujXTCsJtWMsyx7Zso7oG1cyWb+0Hj/yzplnbE2cHE8N46WyhhDT1PVlmHo+jWwAIdOFTAqGxt3KMR/ibPWuguDW88lcdAC1XEpBaKNpF2kNAzucfpdXsxqwD/sH3/2hz3ZIw74FSasdIh8JMZ3Flobd41liyAvIN6NzwnORZeFN80oxNotDpDWE5n+dzFwChNk6n4aFkMTjJ6hWfCTW24Gsq0cRR636N0rtQMwvHRQhN87fmmPTYtWSBMsJXlalLj7b++TE4bwJe2/OM4uRl/E91s0pTat6VHuESlAkEOa5NzJU1BCjDjhKcQg1EIE393BkxucgtTLu9uf6LkxJOx7doWfzhxDnoeVHYqpieF97bZ2ZjKXANyC9KHPIT4ieEnt+IXdrhpOWLl+m/+8HvjUY8oBtvDrZoQD2/t4Y+hpbPcQoejctbyfPDk/sn1xoZi20zelAka2xdYhSNpb8HAUlGFRESi2P2mEv8LxrkljftBbXk35lQmizWyStyYpffLgd5biNJ/gZsZH877nMgjEnizAM/9y/QoriUfHDLMQ5szILKaOLX+xBDmpTicgWSETAkJ2gMtUf32ZuFvHEkPIyBMfWCb0VMoZpPbI1qLO3npT/9YuvrW41aL67ZEz2WPeIr0CyaFR/SJPvfAdG2hDqntoyk064OoSgDHFu2P+8I49DdF8j0DzQvNNs3XvgNedvtKOcsJ7QpGnQoL/t3EnhLb96AThSa2vCKHTjKyD85noLYVYkF6RuI31FydmGXpTzAsWyAEnbpXUGk8V1hcd7mcrr74I1T7G88Nnr/KMxOxBaVGHBfpqJQlGdYx4iyZLAwR4pMtft0CZL/lsSxN9KLcnq5EhbcWfVLYRuOQhSxuaDGHjogudbM3hjMnbRDxji2segPyZNGygd92q+PkJ8FOavcT5weZRpUGIJ0rvUQ5dHoLsrwjJkd2mALmJYcx/pABt6ZqUUe6RIfgCyrvUIhE7dDLWthZTMoVddhgYjqT8SoGC6t2nsVQUpoD5W0fios0/svXjq0KQNSe+D1CW7UfJZIZublYMG+1NKgJRfCgcw1zENr6vzk3xbcoDOSSqLY5ClzRdtMulBq9tQQw2xM+nAJhXAfMraYsfie2zovZ1P5wx39jRzz0FCRYh0m9o+OL6g+b/Cu3bd8bIxXBlwDqxVC3Q40LFx/20KaUVDyPwKh6rEC8+AIzM0cYdNkUATfsrcmFpUAkKTTJVspoi3mpJNgbEqFQTUnNKgOMD7RsaYMSkm1K1PuxBGH2oZZQ4rGZ2g/TgmHAYX/cYLssUbt77iWUOy9r6R72oMl9O27qqtsZ7xFHi5DdrdGs6tTj46hK3KgyxT1ZLzL5uuT48s26KUlzYdEdQ5cvU9ivX14KAEV7XupprmBWERRb9gf0BmW8yCyZm2KdhEJuL/FLvp4sceSoRxhX8RfIv2wudZJcH9VMb7/h1LFvicI8/TqHo8+7wf89nR7YX/WO+gtTLJ10F4+UbXQmRhDMl1152oOs5vgbsDcRHZBet61FeEyfLi3g+CCFla/jA6tWEIpZY4Fc95IimGCTHsAcSTK0HY72gc79tRzQiAf8qDQb/jGVPn/XJUKIsV2/4Z2BE3drRheGvSwNRCpiKaCxh4M2h3v+uHolIRbxObUUSOcL9/1TkYd3G/HynZgb7lHsm9JD2mUrCj4pWa4NG46FRm+IoIjnG/jTKUgOfYgqfaratD0hWU5xQF1xqbIdHwbT5ReUDc0O0sa5olr/er9f/LLI+MgutbhRg+A1/VfrXEjycFCO1DRigxwAu2qttGQPN94wEhf+M9AIbBRaFN7aDIPPKXqm7jkveag4iA8Pf1llt9M94J2tWcgQqjom1aTZ0+ahbV39aFojzJnorMJVXUSkPye3ffQ+HF31O+GEg1jUPDsrliHdK2CcPkDi0wkvRfEBzBJvNgs4uDe17SZiMrhLRpwl/zsJ8McQEyOJ5A38oe2wuHrD/IWhZTfEAO2daJlpiucOiK3G6lxHQBNf4FVzU8Px4u6cLrXsrgHsbl2csoBejhHXo9hIvDBlyspndf0OjVC9xR5di7Zk5BSe5jzRB5dMREvuTcq5ap5vC1XQCftnZiY5oi5o6dd1AJZ2AlWotWOAWrkIZivAHzCEs91qtXRiYvquvQ0RcDq1S7hwjAFv/orhet236MATY+deFkmPSG1Fw60EW7tEikpCM8wpXqB2I6X/I4f8W4PhuECLuJjqYKxVz2LJj3Kz4hxIHF3sPBu2TjcsgLzLhPaoqQdp6dL5iS9VACypyDDx+wxPGF2l6rovKAkdgUawnUMYG2pw9KPOxmVW3ITjR+qibtRHa5OYKxKLxF4DXGFI69uC6rfQBeDpZV0t2Hw1wPTxF98+nPKol+LFYwWqWj83014NxWp8ULcBEPhb1M5V9Gxs32TsKYMu08hxHQfjj06cMpib+zCgaRT9cchykulvM2tXdgNZRrm/hPPah7FhqFYGD4RLoohzm3U5csLsTyplqjXef9+ZvnmTTZsQTOtUz4+Iq5EGmG1YkPPVjuNnX309lb0dz3crQec3g9DXgJqRGXypayFBg1p9QvO32hS+PYppSu2ch0pe7Ph8YLXZv5KdtAWzpi1GE93SFHMVb+VqRKw4I2LPc2V0uRRd7i86+mF5UGiE97AeXcFzRAz4TJoLEoyyvR23apKy9EmDaQGaPh+KDJrkPzda8/YNDUEY0vaB1pKzyK9DdVUB+6hHbZexN9jL7UgYvybet+MwAZ2JtiqRsKKMqmjtwcRCzeGQZpncWtNXwW1AFBXBvVdWJnTMi0bFqlf6GSei1owRyuOy1PTAL2jJqSVmNo5ozuGuxHm3FdjwkZtk/HCR3kV6KYijsufjZHmyf32Iran5Kn5yGE1dWn7HQH/eyL0rA8eBs2tYgltM9Fz+e2akm66TUNSY/M6KDJjl2nTPJR3eJqwJnPiE0s8rAD20GA73TxMZ7rJWkYPGgDu4ABbC4m5D0mruJzR9PD2abnZGPbIS+P8rBPJDh1n657oHVqIasTB1odBYkfk84DzToz6KKcQ8ZnthwxwBABKA1hvrqxTANDE9Cd76/CMc2ysTb5b0vCP7XqKkmmqvFElkYn9N6GsPWkGVH57q3LEGh1KeMjvcn9xVMBaSpZc8SiFsCwtNvRRexjUx/s3RtH+lp1vOp8TjBC3WIzKBKbH8ZUrDH4MG25ubwGV2m5hopBe0/4clBiUmdEYiBURKAylg9+EHFZ+E4KXh8LnF3+EwuOEdHDaJaIDpUoUFBWSigq0eGN+ZREwW2DDg48+Bx+SAuVT4DuQJExF0S+w8SsFMnn/Bj/i3a/mSTxT2uU35RZf3XxMfPPXuK5EgMc9ths773wkeuoZfzUJqoptglZ5hhuZeeT8RMYCc9/8GvjC9gpoIYcYt6qba3tO1AxrDC0NrLXw2N5gm2cuOqYYbBYXApJ9D/ydM2IA4+440GQ9s3dlcu7KBlnvMuhtw4YFupZeGnfHTNT8oca83PqoyALUCMlTq2d1Cc3rvxbrpN8AYrnvlBVGVIbR+Wk6bhliO35WQOfG0DiElxEPGMIGNVmd0IxGjzRmIe+UGA1FVrLDnnopBAYXEVqOixM5QwG3FH4Fv4is0k3rY04Uq/SYbZNEa+xSPn6cZxGRVtWuUN92ahZAKhhpSzoiBWHIpj5ahXU9RuiyWiUdPUTWLsPhWUaXTo5+28SfxC7FQ1OC6KYqvfwgmXqJ+6jQcgxomHTbNx1IHRLHhJmJnEA/iLQWaX0x5OeV7uaK+moHSZqEgnmIj2zDyDVZZJcBJbDMhxyztcz1qtHbtiUL+ZRtCh0WsILk1+9MIueIa+kspf9qjIdNz2VH3NJUBNGGpssbyAj7jGCvgwPVei/iQnlTok+gnAJ4m3BQ4MSDARyYNBtXE5KUEcuxuDi4yEpEPaghUT/4wCfJnu92gJ2a2otMOrZHvGv/l363jL37Zls63xHGDWrxjkpXlMioZZ/SCLuoyJctF5h43Vvd313T0kkGnq3eYieW5xAkdqdupzyQ4n1aQuMkqvUh02AgaQHpzOKzs1pKZvuadQui0rWJ8//k/tYVChbxeCq4q4LMkp5IBSou9aF04CwJn5rTTFvvEeYhOD8tesgMD4f7ZYfV9ozch+vqJldJF8RNXkrAkA6ZA8U9KjH4Qx1SYcQSQTB7h3UiBmJsjsgZ9Rh8ndBY8VgE9E7wIFstBRz+0QnfCRT1APsVNzfvC7byAKK85I5RmkiNYzGW9qJ8UKhnDtCCr+YxpXCtRUKkufxR96Z6dSaDh3Y+/qCzVtEFfUOJHoWkE8kAAEHGVU+N/7dWtANUMLxopJIfNM0IHl8xJtY7OFKKTMW9Hz5hrfXV/hsdSJrXkjbnuKGExKiA2gIGAEsKNsXV94QY5qb0AbB40+EowuCz0dsU6hLjCAF/y3q9O6zjPvYhPldR52XGOyY1038t2AnlfhzFqfBda/4MDOm3FbyspKsI0lomiGoQg+SDh99Cf+rQeUimehOCgK49oRyeofU1dK/vngyOfyVYRSuIMA1fuWY2h2wVK6SiTEv5x8xIXIlXtzf89rLsj6vxGCTu9ZraIeqXS+WwIpm3EuTNWplTZwfd3xE4fZnEYMYCsXlQG2QGL2GBvatuc9mQquSYZ1h+hoAkYjtBg4XVKQKofeXL2LVCXH3+kwYigS6QxbP9/ffMTh2/ggM/ldedcS47f/Wkre+K4OdXiLCoeOe7+zjWumqEVS0/LWuv1YlKWR1t+Hmzlslb7rgemsGEhMaKiUpWozv6bQRHhcK/uZ2ifAcpLDItBXfcK1QVJVv8lUYZv/DNAsiND0fQwC9Nvyr9mLKJaP5pE20HIKsoeAdtv0AxG+u1FvhwZf+5NUmVUVetDbAKhu2UPQFPhjtvY1W3liwojyptdR/q4Xk9uuxdQ/f88Pvzumm5UNfIbUx99zQwgg93mxRIz4+xpZd7VK5cuNAa1qaUAPMJuqQ04uaMpco7HnjfF1KiygymBKIGDhzAnSnn9tZcd8ahk5Z3zzd7xW8EL+YLIuzJT6DV3q81o0Po+NBfpLsRNDSOx+BuZ56JwleEaYSTpoPjAIn9drKuPI/7kP9lm6kgJoZRQ03U5rBN9G6m7OcE3d+3oAtnBZ+wqRoSGddxMdCZ4VqM7u2vauTf+7fR2mAsEtsA2Jq00Jdha/L/slinrc35Jp816nmDJe1mAYazHy9LNxT3IUthqkzhBMOcHlgo8Qr7fQC2jkf45G2sj7i+/Y8z0TCegQT1dmOxub/b3/PTJloXA7GpfRNTuX++3cx4QkpuA11Bha6+kDbWPsx3F9bomqoYPKWOIX3h7cQf5uIzREWQcoywrXin8c0idxE/QtzHhA8KCXAK9DBATvJwCATqkDcQs93hQ3TlVoOtzi+5UVixByI50SEeofFoDL9TkvraQR2lqRGp7koASYCls6c5NKIXikasRbPcN9GG+R6GBbcv9RyCQrD8qzDQnefd/g/nOQRb2J2E2Vc1DeMypT0iiLdXNAYsXGDM7CPMi/spy1YBxtkD0MKdhggXbcZXwitNTuWsn64IeSnmjO+/0lAnlqKN4eQSuPl5QFa8pnHsVpqZ2F7smqzXMngpD7gXIIq6WjzfQib3Xy4h81UmpWRloTgoxJtnyFqZRVvsdSr7QgkgK7cC8xZ6HkrriKCTmvtdPmNoEMkqElvoDvooyRc/M1iHvehApMNGUZ15wOQZPUCIZ7sGXVWwVnwp/W2WtcXG/Ad6Sz7I0SSh+f/+Zny7ouEndRP/dnvTCKIGM6OxbK/exnpmNwGJtWCW0azqnT2h51p+6SbXks9bzlPUSnR2H4NZLQiDTAWmDlYldfo7Z3dP62ragJSr0UHOgaZiB874fybsF/ozC19enEf27byUxSXVtD8Uh+eWUGmbZt01X5+CId/OaYhbOtBdS4JzeKCVYmJT8AigiFHLJ+Zrro5tZkmwUr1ARx9TUlMnCLEQFz10X1tTSucuyaEhuHn3rvSm28i3sJ0EqYh3nPHILh8xXSA02q2vSitvEgIrvdmTBBY5aeH2gHoGodFphQh9ZZUrC8JFSo8SRjpsf1j9eEZRqFiMaFAoyMT2Bt2If4fADKHrCOwFffTcVt+6fYHDh1pEUsBILLqUV+ZU3SbJ6b3VmHti4gIbmF3Bub0qHSBhlxY+VKn1FGOkhrZHZpDvkaQbZ0462nihAl43OWkuetd8m4gN7+O2K+jQ7hhdy145Ix2uqcUFj0unSe+mFbueGWk98mxn386HMUdwPS5z5H1vFHOHXuvtsb4Oxvrky0RdvKsGypDHLL4d5J0O3kY6iLB+PQ/LUcNZgGy3fOwzwFekCBS782tXX+ULl0WpvRhP8WJICI1X1CeRFgA4sliUMGiN9yhtx4nu6la+IRS9XWkHGkqInoyVe89MtwxN9JCh70HGSRNSjBAfIYn+FlJw96336PnuxuNJyr9ZxOCh//noA0cnEsuw4VMNhLVfIu0ko/qHFiln8vVIIVraDPKMnLb136MtPvnUuw/e2oND2vHUCwp4lLhy4rPFQ0cPR+j0UQaFyVA4ZwPZesOL93VAmLmZmaE+lu/Ev/japqFLxDI3qJzKUkYkocOZFVy8EmzouPYbBwbVmLNmtYcsDkvErhb/ephL+R35oFqbYl3xc9O2M0PvK8BbC3pV1ohSSNa7h2WuI5+JPPmy4ih8nhW7i32jcLI0yX7CO9kRBds25ULrni4Ix/EaGn32j3jcumUlm4PpH7s6IRFiU3uJNiGknnlzaDiWxHk5Mh7wYXyw1x7cxvQiwV6vrHaXVzT6H0mq3M2D6KqBb/ICGuD4PKL94BKVBcfDzAGrFSd2shhJgLESM/kA/RB/VQJZo2Pe5jfg1wGoPyr82P80cv917kvdgjZ/kfaEGJ1izCjCJxJkGXRZp9kgV2K2c9EOhB7ZLpEcHXIdsa0Ll9fqx1EQ5fvh1hhwD6VO3JKmRwp9Rt1JZ9JYTo6TS/TVJkbMfe5ZHuYQPWZjpu6QWKKshU+4DZ5VOSrd+Q7AhCercvV25PgQu90+X/4Z5dMLFtaEwPOYS1tmkU+0sZlAkhux00vDmfC9Eh3R1JXe9ztiWZn0Gw1rc8Ud390Mv9FxvspnT6W02sHiU3j9F/aZl+F1QUf4jP06xPonysUPIGQCSjPHzMLQRhlOIHb7KL+FQmsd7EumnCzNLu5eVEVnud96l/7ErqhscF13nzOnATIw1VukmaZYk7AMwGiOBMvLuSl5ctc7ibBuuGDi9c1QyfqsTt2AZFxlNzptgrguwnSlaU+DCEZerGpJigFOgG3a5Xi3cjwvbxY6lCTvm95d7gHbozV/t+IPvqQzqo+0Nqq0tSAxoeyI9NOxo2+WlgpXr9EjPmcHE0Isnh8axqsvVBFRt/6GTvsyIsvLejkD4TY6sKUFzVlKxT5K3bFUnF6AjWhsH0FgBqxiQxvrbzY9DOKrVGSCK78RWSA2oa82JXg/Ns12wwu0/TNIv1e1pn7fGKWId9uuyS5JrTjT0mx7nTWHqPX2rJ0wqxHndcdIkbfGRdDCWzGE62gUi3GWZ5pOdEnDeE8YdNc6dUZkXfVGLgytE/OVZ6sX1X5NeKoYo88ix3BCIOGu8uZBeXhUQG2y5wQcqFy3J8rJTBBg39+6v0U90oy+k74pUmoUUBnRn+K3y0fVD+1Z3L9vvGUyQCfFwGSd8JKAxBVq2nqcFIhYMfGao7038WC67m2llL8yNw+nfOs4ZDYes3FgcpQiXuPpqpVdCa+bz64Kxb3n5X7KbiDcKVMLwV0V8wuOdlLgrbiaLm3F5JO7X1SqxuFuV+R3L9/iBkfRepjCmAoGCVbXizwedMZV9TmReEUB/uY8avbTIZVMr1g75prZkWEyAbY5fNgf1jg6mKvKXluQKPBffF26MsyE7Tf73gW1GlX8/xgBMoBVaaDAU4PCSy+zkCxHDy6RS9aop9JYF7ZZVWdTpgsqH0+0fdOjG5rj1XTUhLJrrZZDOjVK/C+pMs/HNagj9LZJz3tJvpTi4YMdCvUmYfTfhnptvxInLpwWqdVP7S0LzZJ6F87dWblKlOgAigbRCUTMsPDrhAGoDu5kTi3UYLd/4UbQXGbgUMyXeBe5ZUHoNwF8yD1RUpL7mwYrtcWIEHtzkUfaD/YOyLi1TVIpZc5PfV4DKINXk0dfAkN9z8YUEKYRyur/QtYe4XJz77wmsjxz/XxFTcB/5VdotPQof9nH3hOSnz+SDgJjXTAPYEloQDu1Y3RD29DMTkyrN8Wbg6db3KYKUHuiBXYqvM34di6EiWl1Hlvy9M3IHjd1HWlRH/wuYj9KQ9s/MdZddFdh1ZU54IfZs35544RqQ0ITR6RXgqV/OJHSFGGFCl33aZRwSkLAwe1ThcbH83yQKBGP/NnDmotaAHbDn7ClCFyFLj9oef6KoI1/BtnVTedswSn4hSCJxfXEWXBKHXg3D0na9dTp9ZoIVuBz0LjXOPt49L6iJ3HPQHVqOoNyI+FvjJfmsWmxCZedTN3rWy6wZ3iKHN3gyjQIKo9DTISWH3OJAEHmGPzD2R87ULRvcBXD0Bs0MRJr1Ldh2yR1W94EbUlhhXXdXxmPekktBzcBjHStfBrvx8QlSzAZz4/P1cS9E625fP4btLialN6klZpO2ohw012EqBH6pkZMaDCGsJMwI/B29VC3aNRDmrAZyEvRzh9O3nDSED38EPZXUWJZQH6YzKowam3JmkyYzvSugXA/iyhB+BKTwaN6aFPTH7eXfviFCS3g5iZPiK03/5zmxTIKKyZF3lE901ChkqpHr6QxuMCulWAnWtnF9fkGAfuFArjOTWPu/i16o5EfCORgeZXCGtmY21yyJ0N2HRB0CEJZHOwPWWsxiem3oYF7y+tB4/g4OKsSQkbcgev5fLQ+j9ZRojnP/BF1PgzG7jK7FIMK+TpYDlCMaJTjK5WgRuGbFj0JaLF4TsHRRl2WKNcHGeSAUNBt1FHqkWVqlNYfpX20VlM8Lj8zwelaEgttFotd9pXAPKdBe9u79nAIELcHiWalrdBPGjWCnd1NeiqKwqKonUUKXiv4ax5x3N1ncsSfPlTqIJfyZRHT3ZXE5l/zRLDOYEJVI9suuEBLprYLPnX0hd3N2ChjAh/ocGs8vkilEpGZT3ujbuYolM1gMkZ4PJ/G7FPlGub67t366pThI/WN6FOYrfBX19c6zAWZmNGCbb/WkC3uZ7WGaTzo0TaxPhB2iRJSgRuIDibYPGDs1tx2BJEn746jgD0yV01qZ8B3t+kkH0lSf6TH1wwBPtqN8XDEH5xopIrKsG17T1UYq7CQXA6O15TnklatxrGDUPw7EjxYhHgImYw0JUteuOxG98PxTW/U98ry4TIllrPODiy3/+kuUeOTZ6j7z0jbI+Kpalx3mKvLu7InWt2yghipzXkPCf7lHK0W+vaP+8lD6+KyRuYZ2MoMaQRT294oV1iSchNDFb75d1ff1HxVyB697l3vrG2iW8rbimrUAN4/flyujn3MhNU1ezSiVvA4S/7SpiKdOoblbFeoZ4eSGt8IkqyjqtWodzvPDxa04MhgGbkulP2a5qMzl/daI9cieLXm+byEca+JaHNkvCsKrTJ+s6V/kdGmbmljgda7sCx4FUciGoOYzgml/wnuxa9E628nAkZP4R12289lOMSdNhPCkHM0KIemed1ruEc/ULcrl/3pCEtrmG7sXPodn+E1WR7szWSiP5SrQi+NATNYSEMFH0umk52DlJFROYHQpaZKneI8GZkuYKwhpCJee3IRPdIiWuWW86uBCFGceXFkVyjOsl5hG7OgIw8dtO9vri0cg3f0eaK4UT9UgIXVzH/G/HwuvDvQanusPuWLEDtgOETB80Q1UmMNhDYsgJ30KXlBA1WQ9vjSk40rBd3/BBPDe6tlLUchMcpKCktrGyMKwldupubETztZWO44N66e4bh3HajdkJKk5G5y9nhhyJkOE+TQoBmPOdcNGZqh3wI5tRv3C4yQgOs+aDRphqfO6IXAgi3vTVzDcVFud/P8Oyy5t0u0PRdIiTe9ne63gaK2jRJrioCt5byd52wBCpoQvY8qaPZwK9VsiJdWOieOm5WfwcdMeg5uilTsn64yN5J39KWCeYb+udeZ3HnoGJ+nTZmqSM1cJcE2Rm5e+NvDOoxD9I2dx4MsNqCfYNTGnBey4GNnn0FFKsombFNZSFTK6pHmkAvKVXcbKDsfBvuCZ8F9JScv6luI88Lcc0fODCCPlV8AxRfgXdw8rSW1TlaBbSMISzJJR0AWXVh/xzB36w8CqztYXdZRwHKh7agUtG+7XVJ5KPWhUfhiVNKAehDFRFhBf3LkgF8N3nwnKGvdXJVTXqT/7gaW1TT2Z/2cpLOv7p9d5KMOurwgfkjS/OHJgLISFjl2RWj05lTFgnQhk9QzcwD0n2t0YsU6AjFzEYGRPkQnu4/EMlS0EUFx+QvPWMnOc/Lm/Q+iP9IZ6hXMo4grS0BqUN3oPrY44E50e3dSRwRCGmNLnva1axTj7MDlhPSDpoAxx+yXkFYSpJe6Uovm7AKqsK007EpaTpAtRa7eiUhmwtrYs48+whcy78U7Jg5zWxsSUOFpf9Od1qMRvp1dm9KZcLMC6uw1qYQMpTEYbLjvaI+xXpPKOJ1jXglIi8Vmr92ygwFADi29IP7Y/X+AuT+xwU5lB6oICIWG08XHjPkuzepPqaQB84/hPImCsLWDcK1UQ4/95UlY7uO5HBIm1c3XNg+XkXQIEPm46SMHm5jRRNMVoDfncQvcxcrtUV0J3ZgFKHHnV9oRZ2wYb06Sbxj9W3AAO1CKZEjWxeGQxX16NB2TOl1qSBMxIyjf5ZKtEd7LWQSQ6xQ3AoF56ySQgeEP/6w8T2kDJ76yEr3AFLsD5WCGMwSUkXa/bRbYLvJEmLnkqQucVPffW4dkc15TZvlAl4PiTZoTXi7Tf2orLYxKGD6wP9CCuPVvvE1l0yI9t5pcAyZnpAgPVjLgE+R7jVHFLqzb0+wwDOsSlF9MZL4nfdo8SvMwSpvQ22mmczxhkyQGlsgs3nTKigIa21rap6ekDDujUjW/QFMUyMzyzK8vBlERtjH1QPjFOu8HAZRZjNwhUcwDmGs+bB60hkds1H3cNMmyL06rfgUAZJq1u/lamLGLJPr6yVQCKilSV9O2J7nhG6bA5ws626u7E5cv8bp3DveqfZFhNg6QuoD7cwXtrNvtoValDT8eUd/iQ8XUEMOT4zIbQI7X+L5nkYFkqkKxGHi3qQcTjPn2/lQ2jV/q+SjRm9bmrXfsCMN6/45RWOmjtH2+fLPEQi7qlXXMQPHL9uF5EsSCmEOaPve1a6drRwcbH0AiSk2GyOsRCMWwLlEEsPKqImt8RIr74YHDjznGPWjgQSUDTSOuxSRLL2xsk/exEyN8oD5bmyCDd6XIwPMp8A2KdrlSTGpaFvWnjXXJvpFBDrD2mpy93aWUcgJZzBjw42wLeg9ZQuvR3iLDYOElhlWgZi5MTxzQJEupqyImW4UxPcu7/fdq79IdV/jzWhpz1eLKXfWT1sQpwbpW7YMe42VmEmU1B+2HABexar6C6SfyQwHB1GVFktIQgUhTbU8YUrp/ErKqL1vLxXRLRpb3X0gwPfIdXD3aZ8vSM4cXMLJOHYq917iPtUdpWPjazQ1xbfHY/BN/jQTVWaa19hWk6CsZ1nUgFwGshg9vra9dogaaUxTwC4M11ypCxWSRv00FYXEuzIX3/Nrh+6oKB13sSbujMbfL9Wb+8d5TQ2H3O4f2YSwjMvmB8W54PaJCwyP56vTCX/
</div>
<script src="/lib/crypto-js.js"></script><script src="/lib/blog-encrypt.js"></script><link href="/css/blog-encrypt.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>åšå®¢ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>ç™¾åº¦æ–‡å­—åˆæˆè¯­éŸ³çš„apiæ¥å£ï¼Œä»¥åŠå…¶ä»–å¤±æ•ˆçš„æ¥å£ï¼Œæ‰¾äº†æ–°çš„å…è´¹è¯­éŸ³æ¥å£ï¼</title>
    <url>/2019/01/11/baidu-yuyin/</url>
    <content><![CDATA[<h1 id="æœ€è¿‘"><a href="#æœ€è¿‘" class="headerlink" title="æœ€è¿‘"></a>æœ€è¿‘</h1><p>æœ‰æœ‹å‹åšæ–‡<a href="http://localhost:4000/2018/04/24/my-apis/">è‡ªå†™ä¸æ”¶é›†çš„ä¸€äº›å…è´¹çš„APIæ¥å£ï¼ˆè·å–QQæ˜µç§°ã€å¤´åƒã€QQç§€ç­‰ç­‰â€¦ï¼‰</a>çš„è¯„è®ºé‡Œç•™è¨€è¯´ï¼Œæ”¶é›†çš„apiæ¥å£ï¼Œæœ‰çš„å·²ç»å¤±æ•ˆäº†</p>
<p>ä¹ŸæŠ½ç©ºçœ‹äº†ï¼Œæœ‰å‡ ä¸ªç¡®å®æ˜¯å·²ç»å¤±æ•ˆäº†ï¼ŒQQç§€çš„æ¥å£æš‚æ—¶æ²¡æœ‰æ‰¾åˆ°æ–°çš„</p>
<p>ä»Šå¤©æ˜¯æ‰¾äº†ä¸‹è¯­éŸ³æ¥å£ï¼Œå°±æ˜¯æ–‡å­—è½¬æˆè¯­éŸ³çš„æ¥å£</p>
<p>å…¶ä»–çš„ä¸å¤šè¯´äº†</p>
<p>ç›´æ¥å¼€å§‹è´´æ¥å£åœ°å€ï¼Œå’Œå‚æ•°è¯´æ˜å§</p>
<h1 id="1ä¸¶æ–‡å­—è½¬è¯­éŸ³"><a href="#1ä¸¶æ–‡å­—è½¬è¯­éŸ³" class="headerlink" title="1ä¸¶æ–‡å­—è½¬è¯­éŸ³"></a>1ä¸¶æ–‡å­—è½¬è¯­éŸ³</h1><p>â‘  æ¥å£åœ°å€ï¼š</p>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://ai.baidu.com/aidemo?type=tns2&amp;idx=1&amp;&amp;cuid=baidu_speech_demo&amp;cod=2&amp;lan=zh&amp;ctp=1&amp;pdt=1&amp;spd=5&amp;per=0&amp;vol=5&amp;pit=5&amp;tex=éœ€è¦è½¬æ¢çš„æ–‡å­—å†…å®¹</span><br></pre></td></tr></table></figure>

<h1 id="2ä¸¶æ–‡å­—è½¬è¯­éŸ³"><a href="#2ä¸¶æ–‡å­—è½¬è¯­éŸ³" class="headerlink" title="2ä¸¶æ–‡å­—è½¬è¯­éŸ³"></a>2ä¸¶æ–‡å­—è½¬è¯­éŸ³</h1><p>â‘¡ æ¥å£åœ°å€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://tts.baidu.com/text2audio?idx=1&amp;cuid=baidu_speech_demo&amp;cod=2&amp;lan=zh&amp;ctp=1&amp;pdt=1&amp;spd=5&amp;per=1&amp;vol=9&amp;pit=5&amp;tex=éœ€è¦è½¬æ¢çš„æ–‡å­—å†…å®¹</span><br></pre></td></tr></table></figure>

<h1 id="å‚æ•°è¯´æ˜ï¼š"><a href="#å‚æ•°è¯´æ˜ï¼š" class="headerlink" title="å‚æ•°è¯´æ˜ï¼š"></a>å‚æ•°è¯´æ˜ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cuidï¼šæ˜¯ç¨‹åºidï¼Œé»˜è®¤çš„è¿™ä¸ªæ˜¯ç™¾åº¦æµ‹è¯•demoï¼Œéœ€è¦è‡ªå·±å•ç‹¬çš„idå¯ä»¥å»ç™¾åº¦è¯­éŸ³å®˜ç½‘ç”³è¯·ã€‚</span><br><span class="line">perï¼šç”·å£°0ï¼Œå¥³å£°1</span><br><span class="line">spdï¼šé€Ÿåº¦å‚æ•°ï¼Œ1~10ï¼Œæ•°å­—è¶Šå¤§è¯­éŸ³é€Ÿåº¦è¶Šå¿«</span><br><span class="line">pitï¼šå˜å£°å‚æ•°ï¼Œ1~10ï¼Œæ•°å­—è¶Šå°è¶Šä½æ²‰ï¼Œæ•°å­—è¶Šå¤§éŸ³è°ƒè¶Šé«˜</span><br><span class="line">texï¼šæ–‡æœ¬å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ä½ è¦è½¬æ¢æˆè¯­éŸ³çš„æ–‡å­—</span><br></pre></td></tr></table></figure>

<p>GETè¯·æ±‚æ¥å£ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªaidemoæ–‡ä»¶ï¼Œåç¼€æ”¹æˆä»»æ„èƒ½è¯†åˆ«çš„éŸ³é¢‘æ–‡ä»¶åç§°å³å¯æ’­æ”¾ã€‚</p>
<p>å…¶ä»–å‡ ä¸ªå‚æ•°è²Œä¼¼æ²¡ä»€ä¹ˆå˜åŒ–ï¼Œæš‚æ—¶ä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥è‡ªå·±æ”¹å˜ä¸€ä¸‹æ•°å­—è¯•ä¸€ä¸‹ã€‚</p>
<p>æš‚æ—¶å…ˆè¿™æ ·ï¼Œ</p>
<p>å¤±æ•ˆçš„æ¥å£åˆ°æ—¶å€™æ‰¾åˆ°äº†æ–°çš„å†æ–°å¢åˆ°è¿™é‡Œã€‚</p>
<p>å¤±æ•ˆäº†çš„ï¼Œç›´æ¥è¯„è®ºé‡Œç•™è¨€å³å¯</p>
<h1 id="ä¹ˆä¹ˆæ‰ï¼"><a href="#ä¹ˆä¹ˆæ‰ï¼" class="headerlink" title="ä¹ˆä¹ˆæ‰ï¼"></a>ä¹ˆä¹ˆæ‰ï¼</h1>]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>è¯­éŸ³è¯†åˆ«</tag>
        <tag>è¯­éŸ³åˆæˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>Android åˆ©ç”¨è…¾è®¯å¼€æ”¾å¹³å°çš„å®˜æ–¹SDKï¼Œå®ç°è‡ªå®šä¹‰QQåˆ†äº«ã€‚å¹¶å¤‡ä»½ä¸€ä¸‹android-support-v7å®‰å“æ”¯æŒåŒ…ï¼</title>
    <url>/2018/10/28/android-qq-share/</url>
    <content><![CDATA[<h1 id="å¼€å¤´åºŸè¯"><a href="#å¼€å¤´åºŸè¯" class="headerlink" title="å¼€å¤´åºŸè¯"></a>å¼€å¤´åºŸè¯</h1><p>å‰äº›æ—¥å­æ¢äº†æ‰‹æœºï¼Œæ—§æ‰‹æœºä¸Šçš„æ•°æ®å¿˜äº†è¿ç§»å¤‡ä»½å°±æ€¥æ€¥å¿™å¿™çš„é‡ç½®æ ¼å¼åŒ–äº†ï¼Œå¾ˆéš¾å—ï¼å¼€å‘çš„ä¸€äº›APPæºç ä¹Ÿå°±ç»™ä¸¢å¤±äº†ï¼Œç„¶ååªå¥½å»è‡ªå·±çš„ç¾¤é‡Œé¢ï¼Œæ‰¾åˆ°æ›¾ç»ä¸Šä¼ çš„æ—§ç‰ˆæœ¬ï¼ŒæŠŠä»–åç¼–è¯‘å‡ºæ¥ä¸€ç‚¹ç‚¹çš„è¿˜åŸã€‚</p>
<p>é€†å‘å§‹ç»ˆä¸æ˜¯è‡ªå·±ä¼šç©çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æ•ˆæœå¾ˆä¸ç†æƒ³ï¼Œç‰¹åˆ«æ˜¯æˆ‘è¿™ç§çº¯æ‰‹æœºç«¯è¿›è¡Œç¼–å†™æ“ä½œçš„ç¼–ç¨‹çˆ±å¥½è€…ã€‚è“ç˜¦é¦™è‡ï¼</p>
<p>ä»Šå¤©æƒ³è¦è¯´ä¸€ä¸‹é‚£ä¸ªè‡ªå®šä¹‰QQåˆ†äº«çš„ä¸œè¥¿ï¼Œå®˜æ–¹æ–‡æ¡£ä»¥åŠdemoæœ€è¿‘ä¹Ÿå¥½åƒæ˜¯åšäº†ä¸€ä¸‹æ›´æ–°ã€‚æœ€çƒ¦çš„å°±æ˜¯æ›´æ–°äº†çš„æ–‡æ¡£ä¹Ÿä¸æ˜¯é‚£ä¹ˆçš„ç®€æ´æ˜äº†ï¼Œå®åœ¨ä¸æ˜¯å¾ˆé€‚åˆç»™ä¸€èˆ¬çš„coderçœ‹ï¿£ ï¿£)Ïƒã€‚</p>
<p>å¥½å§ï¼Œè¿˜æ˜¯ç›´æ¥å»å¼€å§‹å§ã€‚</p>
<h1 id="å¼€æ•´"><a href="#å¼€æ•´" class="headerlink" title="å¼€æ•´"></a>å¼€æ•´</h1><span id="more"></span>

<p>1ä¸¶æ‰“å¼€æˆ‘çš„AIDEâ€¦</p>
<p>2ä¸¶æ–°å»ºå·¥ç¨‹é¡¹ç›®</p>
<p>3ä¸¶åˆ°<a href="http://wiki.open.qq.com/wiki/mobile/SDK%E4%B8%8B%E8%BD%BD">QQå¼€æ”¾å¹³å°</a> ä¸‹è½½SDK</p>
<p>4ä¸¶è§£å‹SDKï¼ŒæŠŠä¸¤ä¸ªjaråŒ…å¯¼å…¥å·¥ç¨‹é¡¹ç›®çš„libsæ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹è‡ªå·±æ–°å»ºä¸€ä¸‹</p>
<p>5ä¸¶ç„¶åï¼Œæˆ‘ä»¬å°±å¯å¼€å§‹ç ä»£ç äº†</p>
<p>6ä¸¶é¦–å…ˆé…ç½®ä¸€ä¸‹AndroidManifestæ–‡ä»¶ï¼Œæƒé™è®¾ç½®å’Œæ³¨å†ŒActivity</p>
<p>æƒé™ä»£ç ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- APPè”ç½‘æ‰€éœ€æƒé™ --&gt;</span><br><span class="line">&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</span><br><span class="line">&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;</span><br><span class="line">&lt;!-- åœ¨SDCardä¸­åˆ›å»ºå’Œåˆ é™¤æ–‡ä»¶çš„æƒé™ --&gt; </span><br><span class="line">&lt;uses-permission </span><br><span class="line">	android:name=&quot;android.permission.MOUNT_UNMOUNT_FILESYSTEMS&quot; /&gt; </span><br><span class="line">&lt;!-- å¾€SDCardä¸­å†™å…¥æ•°æ®çš„æƒé™ --&gt;</span><br><span class="line">&lt;uses-permission </span><br><span class="line">	android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œä»¥ä¸Šæƒé™å¹¶ä¸å…¨éƒ½ç”¨çš„ä¸Šæˆ–è€…ä¸å¤Ÿï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå¢å‡ã€‚</p>
<p>ç„¶åæ˜¯SDKéœ€è¦çš„Activityæ³¨å†Œäº†ï¼Œä¸€ä¸‹ä»£ç æ”¾å…¥åˆ°<application>æ ‡ç­¾ä¸­å³å¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- æ³¨å†ŒSDKActivity --&gt;</span><br><span class="line">&lt;activity</span><br><span class="line">	android:name=&quot;com.tencent.tauth.AuthActivity&quot;</span><br><span class="line">		android:noHistory=&quot;true&quot;</span><br><span class="line">		android:launchMode=&quot;singleTask&quot; &gt;</span><br><span class="line">		&lt;intent-filter&gt;</span><br><span class="line">			&lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;</span><br><span class="line">			&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;</span><br><span class="line">			&lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;</span><br><span class="line">			&lt;data android:scheme=&quot;tencentID1106885928&quot; /&gt; &lt;!-- è·å–çš„APPID --&gt;</span><br><span class="line">		&lt;/intent-filter&gt;</span><br><span class="line">	&lt;/activity&gt;</span><br></pre></td></tr></table></figure>

<p>æ–°ç‰ˆçš„SDKå¢åŠ äº†AssistActivityï¼Œæ‰€ä»¥ä¹Ÿè¦åœ¨è¿™é‡Œç»™ä»–åŠ ä¸Šå»</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;activity android:name=&quot;com.tencent.connect.common.AssistActivity&quot;</span><br><span class="line">	android:theme=&quot;@android:style/Theme.Translucent.NoTitleBar&quot;</span><br><span class="line">	android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p>é…ç½®å¥½äº†ä¹‹åï¼Œå°±å¼€å§‹å†™javaä»£ç äº†ã€‚</p>
<p>é¦–å…ˆï¼Œåˆ›å»ºå®ä¾‹ã€‚Tencentæ˜¯SDKçš„åŠŸèƒ½å…¥å£ï¼Œæ‰€æœ‰çš„æ¥å£è°ƒç”¨éƒ½å¾—é€šè¿‡Tencentè¿›è¡Œè°ƒç”¨ã€‚å› æ­¤ï¼Œè°ƒç”¨SDKï¼Œé¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ªTencentå®ä¾‹ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code>private static final String APP_ID = &quot;1106885928&quot;; // appidè·Ÿæ¢æˆä½ è‡ªå·±çš„ï¼Œå¯ä»¥åœ¨å¼€æ”¾å¹³å°æ–°å»ºåº”ç”¨ä¹‹åè·å–
private Tencent mTencent;
    //ä¼ å…¥å‚æ•°APPID
    mTencent = Tencent.createInstance(APP_ID, MainActivity.this.getApplicationContext());</code></pre><p>   æ¥ä¸‹æ¥å°±æ˜¯å®ç°å›è°ƒï¼Œä¹Ÿå°±æ˜¯ä½ åˆ†äº«ä¸œè¥¿å‡ºå»æ˜¯æˆåŠŸäº†è¿˜æ˜¯å¤±è´¥äº†ï¼Œåˆæˆ–è€…æ˜¯ç”¨æˆ·å–æ¶ˆäº†åˆ†äº«å‘¢ï¼Ÿå…·ä½“å°±æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line">* è‡ªå®šä¹‰ç›‘å¬å™¨å®ç°IUiListenerï¼Œéœ€è¦3ä¸ªæ–¹æ³•</span><br><span class="line">*</span><br><span class="line">* onCompleteå®Œæˆ onErroré”™è¯¯ onCancelå–æ¶ˆ</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">private class ShareUiListener implements IUiListener</span><br><span class="line">&#123;</span><br><span class="line">	@Override</span><br><span class="line">	public void onComplete(Object response)</span><br><span class="line">	&#123;</span><br><span class="line">		//åˆ†äº«æˆåŠŸ</span><br><span class="line">		def_note(&quot;æˆåŠŸåˆ†äº«ï¼&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void onError(UiError uiError)</span><br><span class="line">	&#123;</span><br><span class="line">		//åˆ†äº«å¤±è´¥</span><br><span class="line">		def_note(&quot;åˆ†äº«å¤±è´¥ï¼&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	@Override</span><br><span class="line">	public void onCancel()</span><br><span class="line">	&#123;</span><br><span class="line">		//åˆ†äº«å–æ¶ˆ</span><br><span class="line">		def_note(&quot;æ‚¨å–æ¶ˆäº†åˆ†äº«ï¼&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * å›è°ƒ</span><br><span class="line"> *</span><br><span class="line"> * @param requestCode</span><br><span class="line"> * </span><br><span class="line"> * @param resultCode</span><br><span class="line"> * @param data</span><br><span class="line"> */</span><br><span class="line">@Override</span><br><span class="line">protected void onActivityResult(int requestCode, int resultCode, Intent data)</span><br><span class="line">&#123;</span><br><span class="line">	if (null != mTencent)</span><br><span class="line">	&#123;</span><br><span class="line">		mTencent.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œå°±åŸºæœ¬ä¸Šæå¥½äº†ã€‚</p>
<p>ç„¶åå°±æ˜¯å¯¹å®˜æ–¹æ–‡æ¡£é‡Œé¢æåˆ°çš„apiæ•°æ®å°è£…åŠŸèƒ½å‡½æ•°ï¼Œå¯ä»¥åˆ†äº«é“¾æ¥ï¼ŒéŸ³ä¹ï¼Œå›¾ç‰‡ï¼Œåº”ç”¨è¿™äº›ä¸œè¥¿ï¼Œå…·ä½“å°±æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * åˆ†äº«åˆ°QQ</span><br><span class="line"> * @param v</span><br><span class="line"> */</span><br><span class="line">public void qqShare(String t, String s, String u, String p, String w)</span><br><span class="line">&#123;</span><br><span class="line">	final Bundle params = new Bundle();</span><br><span class="line">	params.putInt(QQShare.SHARE_TO_QQ_KEY_TYPE, QQShare.SHARE_TO_QQ_TYPE_DEFAULT);//åˆ†äº«çš„ç±»å‹</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_TITLE, t);//åˆ†äº«æ ‡é¢˜</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_SUMMARY, s);//è¦åˆ†äº«çš„å†…å®¹æ‘˜è¦</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_TARGET_URL, u);//å†…å®¹åœ°å€</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_IMAGE_URL, p);//åˆ†äº«çš„å›¾ç‰‡URL</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_APP_NAME, w);//åº”ç”¨åç§°</span><br><span class="line">	mTencent.shareToQQ(MainActivity.this, params, new ShareUiListener());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * åˆ†äº«åˆ°QQç©ºé—´</span><br><span class="line"> * @param v</span><br><span class="line"> */</span><br><span class="line">public void qqQzoneShare(String t, String s, String u, String p, String w)\r\n	&#123;\r\n        int QzoneType = QzoneShare.SHARE_TO_QZONE_TYPE_NO_TYPE;\r\n        Bundle params = new Bundle();</span><br><span class="line">	params.putInt(QzoneShare.SHARE_TO_QZONE_KEY_TYPE, QzoneType);</span><br><span class="line">	params.putString(QzoneShare.SHARE_TO_QQ_TITLE, t);//åˆ†äº«æ ‡é¢˜</span><br><span class="line">	params.putString(QzoneShare.SHARE_TO_QQ_SUMMARY, s);//åˆ†äº«çš„å†…å®¹æ‘˜è¦</span><br><span class="line">	params.putString(QzoneShare.SHARE_TO_QQ_TARGET_URL, u);//åˆ†äº«çš„é“¾æ¥</span><br><span class="line">	//åˆ†äº«çš„å›¾ç‰‡, ä»¥ArrayList&lt;String&gt;çš„ç±»å‹ä¼ å…¥ï¼Œä»¥ä¾¿æ”¯æŒå¤šå¼ å›¾ç‰‡ï¼ˆæ³¨ï¼šå›¾ç‰‡æœ€å¤šæ”¯æŒ9å¼ å›¾ç‰‡ï¼Œå¤šä½™çš„å›¾ç‰‡ä¼šè¢«ä¸¢å¼ƒï¼‰</span><br><span class="line">	ArrayList&lt;String&gt; imageUrls = new ArrayList&lt;String&gt;();</span><br><span class="line">	imageUrls.add(&quot;http://www.hzv5.cn/logo.jpg&quot;);//æ·»åŠ ä¸€ä¸ªå›¾ç‰‡åœ°å€</span><br><span class="line">	params.putStringArrayList(QzoneShare.SHARE_TO_QQ_IMAGE_URL, imageUrls);//åˆ†äº«çš„å›¾ç‰‡URL</span><br><span class="line">	mTencent.shareToQzone(MainActivity.this, params, new ShareUiListener());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * åˆ†äº«éŸ³ä¹</span><br><span class="line"> * @param v</span><br><span class="line"> */</span><br><span class="line">private void qqAudioShare(String t, String s, String u, String p, String w)</span><br><span class="line">&#123;</span><br><span class="line">	int ii = def_getNum(0, songlist.length - 1);</span><br><span class="line">	final Bundle params = new Bundle();</span><br><span class="line">	params.putInt(QQShare.SHARE_TO_QQ_KEY_TYPE, QQShare.SHARE_TO_QQ_TYPE_AUDIO);</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_TITLE, t);</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_SUMMARY,  s);</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_TARGET_URL,  u);</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_IMAGE_URL, p);</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_AUDIO_URL, songlist[ii]);</span><br><span class="line">	params.putString(QQShare.SHARE_TO_QQ_APP_NAME,  w);</span><br><span class="line">	//params.putInt(QQShare.SHARE_TO_QQ_EXT_INT, QQShare.SHARE_TO_QQ_FLAG_QZONE_AUTO_OPEN);</span><br><span class="line">	mTencent.shareToQQ(MainActivity.this, params, new ShareUiListener());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œæ•´ä¸ªå·¥ç¨‹é¡¹ç›®çš„QQè‡ªå®šä¹‰åˆ†äº«åŸºæœ¬ä¸Šå°±å®Œæˆäº†ï¼Œè¿™é‡Œç®—æ˜¯ç»™è‡ªå·±ä¹Ÿåšäº†ä¸€ä»½å¤‡ä»½ã€‚</p>
<h1 id="V4ï¼ŒV7æ”¯æŒåŒ…"><a href="#V4ï¼ŒV7æ”¯æŒåŒ…" class="headerlink" title="V4ï¼ŒV7æ”¯æŒåŒ…"></a>V4ï¼ŒV7æ”¯æŒåŒ…</h1><p>å¦å¤–å†å¤‡ä»½ä¸¤ä¸ªä¸œè¥¿ï¼Œé‚£å°±æ˜¯å®‰å“çš„android-support-v4ï¼Œå’Œv7æ”¯æŒåŒ…ï¼Œç‰¹åˆ«æ˜¯v7åŒ…ï¼Œç½‘ä¸Šæ‰¾çš„å…¨æ˜¯é‚£ç§ç¼ºèƒ³è†Šå°‘è…¿çš„ï¼Œæ‰¾ä¸ªå®Œæ•´çš„v7æ‰¾äº†æˆ‘ä¸¤å¤©æ—¶é—´ï¼è¿™ä¸ªæ˜¯å®‰å“25ç‰ˆæœ¬çš„ã€‚</p>
<p>ä¸æ˜¯æœ€æ–°ï¼Œä½†æ˜¯å¤Ÿç”¨å°±è¡Œäº†ã€‚</p>
<p>v4ä¸‹è½½é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1aotD4JKcPgwje1a4cPsfqg">ç‚¹å‡»ä¸‹è½½v4 æå–ç ï¼š65o3</a></p>
<p>v7ä¸‹è½½é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1TuK2qB5lzy6JC8ymcJxBbA'">ç‚¹å‡»ä¸‹è½½v7 æå–ç ï¼šn54t</a></p>
<p>OKï¼Œ?å®Œç¾ï¼</p>
<p>ç¬”èŠ¯â¤ï¼</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>QQåˆ†äº«</tag>
        <tag>android</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºAndroidè‡ªå®šä¹‰QQåˆ†äº«æç¤ºæœªæ­£ç¡®æˆæƒï¼Œé”™è¯¯ç 901115</title>
    <url>/2018/08/15/QQshare-Err/</url>
    <content><![CDATA[<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><p>æœ€è¿‘ï¼ŒQQæ›´æ–°äº†ä¸€ä¸ªæˆè¯­æ¥é¾™ç©æ³•çš„çº¢åŒ…</p>
<p>äºæ˜¯ä¹ï¼Œåšä¸»çªç„¶å°±æƒ³æä¸€ä¸ªæˆè¯­æŸ¥è¯¢çš„å·¥å…·2333ï¼Œåœ¨ç»™Appæ·»åŠ ä¸€ä¸ªåˆ†äº«åº”ç”¨åˆ°QQçš„æ—¶å€™ï¼Œå‘ç°å‡ºç°ä¸€ä¸ªé”™è¯¯æç¤ºï¼Œéƒ½æ˜¯æŒ‰ä¹‹å‰çš„appå†™æ³•å†™çš„ï¼Œæ€ä¹ˆå°±æŠ¥é”™äº†ï¼Œäºæ˜¯ä¹æ‰¾åˆ°å‡ ä¸ªä¹‹å‰å†™çš„appå‘ç°ä¹Ÿæ˜¯ä¸€æ ·æŠ¥è¿™ä¸ªé”™è¯¯äº†ï¼š</p>
<p>é”™è¯¯æç¤ºå¦‚å›¾ï¼š</p>
<span id="more"></span>

<p><img src="/img/QQshareErr/01.png" alt="QQåˆ†äº«é”™è¯¯ç¤ºä¾‹"></p>
<p>ç„¶åæ„Ÿè§‰å°±æ˜¯ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºQQäº’è”å®˜ç½‘æ›´æ–°äº†QQåˆ†äº«çš„SDKï¼Œäºæ˜¯ä¹ï¼Œæˆ‘æ‰“å¼€äº†å®˜ç½‘ä¸€çœ‹ï¼Œè¿˜çœŸçš„æ˜¯ï¼Œé¡¶éƒ¨å‡ºç°äº†ä¸€æ¡é†’ç›®çš„å…¬å‘Šæç¤ºï¼Œè¿™ä¸ªæç¤ºå·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæ€ªæˆ‘æœ€è¿‘æ²¡æ€ä¹ˆåšç›¸å…³å¼€å‘ï¼Œæ²¡æ³¨æ„23333â€¦</p>
<p>å‚è€ƒï¼š <a href="https://wiki.connect.qq.com/%E5%8A%A0%E5%BC%BAqq%E4%BA%92%E8%81%94%E7%A7%BB%E5%8A%A8%E5%BA%94%E7%94%A8-android%E5%8C%85%E5%90%8D%E5%92%8C-ios-bundleid-%E6%A0%A1%E9%AA%8C%E7%9A%84%E9%80%9A%E7%9F%A5%EF%BB%BF" title="åŠ å¼ºQQäº’è”ç§»åŠ¨åº”ç”¨ AndroidåŒ…åå’Œ iOS Bundleid æ ¡éªŒ">åŠ å¼ºQQäº’è”ç§»åŠ¨åº”ç”¨ AndroidåŒ…åå’Œ iOS Bundleid æ ¡éªŒ</a></p>
<p>ä¸€çœ‹å…¬å‘Šï¼Œè¿™ä¸ªæ ¡éªŒæ–°æ–¹æ³•å·²ç»æ˜¯5æœˆ30æ—¥å¼€å§‹çš„äº†ï¼Œæˆ‘è¿™æ˜¯å¤šä¹…æ²¡å…³æ³¨ç›¸å…³çš„åº”ç”¨ä½¿ç”¨QQåˆ†äº«äº†23333</p>
<h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><p>æ ¹æ®å…¬å‘Šè¯´çš„ï¼Œæ˜¯ä¸ºäº†ä¿éšœQQç”¨æˆ·çš„å®‰å…¨ï¼Œä»¥å…è¢«æ¶æ„ç›—ç”¨ï¼ŒåŠ å¼ºäº†åº”ç”¨çš„æ ¡éªŒï¼Œå¦‚ä¸è¿›è¡Œä¿¡æ¯å®Œå–„ï¼Œåº”ç”¨å°†æ— æ³•ç™»å½•å’Œåˆ†äº«è‡³QQå¥½å‹å’ŒQQç¾¤ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡¥å…¨ä¿¡æ¯å³å¯ã€‚æˆ‘ä»¬è¿›å…¥QQäº’è”å¹³å°ç™»è®°çš„åº”ç”¨ï¼šQQäº’è”å®˜ç½‘ï¼š<a href="https://connect.qq.com/index.html" title="QQäº’è”å®˜ç½‘ - åº”ç”¨ç®¡ç†">QQäº’è”å®˜ç½‘ - åº”ç”¨ç®¡ç†</a> åº”ç”¨ç®¡ç†ä¸­è¿›è¡Œè¡¥å……ï¼›</p>
<p><strong>ï¼ˆä¿®æ”¹è·¯å¾„ä¸ºï¼šåº”ç”¨ç®¡ç† â€“ ç§»åŠ¨åº”ç”¨ â€“ æŸ¥çœ‹ï¼ˆåº”ç”¨ï¼‰â€“ åŸºç¡€ä¿¡æ¯ â€“ å¹³å°ä¿¡æ¯ â€“ ä¿®æ”¹ï¼‰</strong></p>
<p><img src="/img/QQshareErr/02.png" alt="è¿›å…¥åº”ç”¨"></p>
<p><img src="/img/QQshareErr/03.png" alt="ä¿®æ”¹åº”ç”¨ä¿¡æ¯"></p>
<p>è¿›å…¥ä¿®æ”¹åº”ç”¨ä¿¡æ¯åï¼Œæ·»åŠ ç”¨åˆ°è¯¥APPIDçš„åº”ç”¨åŒ…åä»¥åŠç­¾åï¼Œæ¯ä¸ªAPPIDæœ€å¤šæ”¯æŒ6ç»„appå…±ç”¨ã€‚</p>
<p><img src="/img/QQshareErr/04.png" alt="æ·»åŠ åº”ç”¨åŒ…åä¸ç­¾å"></p>
<p>è¿˜æœ‰å°±æ˜¯åˆ«å¿˜äº†åº”ç”¨æ¥å£æƒé™åˆ«å¿˜äº†çœ‹ä¸€çœ‹æœ‰æ²¡æœ‰è·å–æ‰“å¼€</p>
<p><img src="/img/QQshareErr/05.png" alt="ç®¡ç†åº”ç”¨æƒé™"></p>
<h1 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h1><p>åˆ°è¿™é‡Œå°±è§£å†³äº†è¿™ä¸ªé”™è¯¯ç ä¸º901115çš„QQQåˆ†äº«æŠ¥é”™äº†ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¸€ä¸ªä¸ç®—é—®é¢˜çš„é—®é¢˜ï¼Œå‡ºäºå¹³æ—¶ä½¿ç”¨é¢‘ç‡å°ï¼Œå¯¼è‡´æ²¡æ€ä¹ˆå…³æ³¨è¿™ä¸ªï¼Œå½“ä½¿ç”¨çš„æ—¶å€™å°±ä¸€è„¸æ‡µé€¼</p>
<p>æ‹æ¸…æ€è·¯ä¹‹åï¼Œé—®é¢˜å°±ç®€å•äº†</p>
<p>ä¹ˆä¹ˆæ‰~~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>çŸ¥è¯†ç‚¹</tag>
        <tag>Android</tag>
        <tag>QQåˆ†äº«</tag>
      </tags>
  </entry>
  <entry>
    <title>åæ§½ä¸€ä¸‹ä¸‹ï¼Œå…³äºæœ€è¿‘çš„ç¤¾äº¤è½¯ä»¶å¼€æ”¾çš„è´¦å·é”€æˆ·åŠŸèƒ½ï¼</title>
    <url>/2018/05/04/tucao-sjirji/</url>
    <content><![CDATA[<p>æ­¤å‰ï¼Œæ˜¯åœ¨QQç¾¤é‡Œçœ‹åˆ°QQè´¦å·å¯ä»¥æ³¨é”€çš„æ¶ˆæ¯çš„ï¼Œç”¨äº†åå‡ å¹´QQäº†ï¼Œç¬¬ä¸€æ¬¡å¬åˆ°QQå¯ä»¥æ³¨é”€</p>
<p>ã€PSï¼šæ­¤æ³¨é”€ä¸æ˜¯é€€å‡ºç™»å½•ï¼Œè€Œæ˜¯ç›´æ¥æŠŠQQè´¦å·é”€æˆ·ã€‘ã€‚</p>
<p><img src="/img/tucao/IMG_QQxh_01.png" alt="QQè´¦å·é”€æˆ·"></p>
<p>ä½†æ˜¯è…¾è®¯æ˜¯ä¸æ˜¯å¤ªå¤©çœŸäº†ï¼Ÿ</p>
<p>ç”¨äº†åå‡ å¹´çš„QQæˆ‘ä»¬ä¼šæƒ³è¦æ³¨é”€ï¼Ÿ</p>
<span id="more"></span>

<p>çŸ¥ä¸çŸ¥é“QQå¯¹äºæˆ‘ä»¬å…«é›¶ä¹é›¶æ„å‘³ç€ä»€ä¹ˆï¼Ÿ(ï½¡ï½¥Ë‡_Ë‡ï½¥ï½¡)æ˜¯ä¸æ˜¯è„‘å­æœ‰æ³¡ï¼Ÿ</p>
<p>è¿™ä¸ï¼Œæ‰ä¸Šçº¿æ²¡å¤šä¹…çš„QQå·ç é”€æˆ·å…¥å£ï¼Œä»Šå¤©å†å»çœ‹çš„æ—¶å€™å°±èœœæ±æ¶ˆå¤±äº†ï¼çªç„¶çš„çªç„¶çš„å¼€æ”¾é”€æˆ·åˆçªç„¶çš„å…³é—­ï¼Œä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› ï¼Œå¾ˆè¿·ï¼</p>
<p>ç„¶åä»Šå¤©æ˜¯å› ä¸ºæ”¶åˆ°ä¸€ä¸ªUCæµè§ˆå™¨çš„æ¨æ–‡ã€Š<a href="https://mparticle.uc.cn/article.html?uc_param_str=frdnsnpfvecpntnwprdssskt&client=ucweb&wm_cid=220813119445534720&wm_id=04fcc49832dc4f04ae8b82194e6bf87c&title_type=1&pagetype=share&app=uc-iflow&btifl=100&wm_aid=10625dbef0684f75800da634f77f3a6a&sdkdeep=2&sdksid=bfe73bdb-01cf-eafe-89a6-7cafb58185e1&sdkoriginal=bfe73bdb-01cf-eafe-89a6-7cafb58185e1" target="_blank" title="å·¥ä¿¡éƒ¨ä¸€é”¤å®šéŸ³: å†è§äº†å¾®ä¿¡å¾®åš!">å·¥ä¿¡éƒ¨ä¸€é”¤å®šéŸ³: å†è§äº†å¾®ä¿¡å¾®åš!</a>ã€‹ï¼ŒUCçš„å°ç¼–æˆ‘æ˜¯çœŸçš„å¾ˆä½©æœçš„ï¼ŒåŒä¸€ä»¶äº‹å’Œä¸»äººå…¬ï¼Œå¯ä»¥å†™Nä¸ªæ•…äº‹ï¼æŠŠæ–‡ç« æ ‡é¢˜ä¹Ÿæ˜¯å‘½åçš„æå…¶å¸å¼•äººï¼(æŠ±æ‹³äº†ï¼Œè€é“ï¼)ã€‚çœ‹äº†è¿™æ°´æ–‡ä¹‹åï¼Œå°±å»çœ‹äº†ä¸€ä¸‹å¾®ä¿¡å’Œå¾®åšï¼Œå‘ç°ç¡®å®æ˜¯å¯ä»¥æ³¨é”€è´¦å·äº†ï¼</p>
<p>å¦‚ä¸‹ä¸¤å›¾ï¼š</p>
<p><img src="/img/tucao/IMG_QQxh_02.png" alt="ç”³è¯·æ³¨é”€å¾®ä¿¡"><br><img src="/img/tucao/IMG_QQxh_03.png" alt="ç”³è¯·æ³¨é”€å¾®åš"></p>
<p>ç„¶è€Œï¼Œæ³¨é”€è´¦å·ä¼¼ä¹å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œé¦–å…ˆä½ å¾—æŠŠè´¦å·é‡Œçš„é’±å¡«å¹³ï¼Œè¿˜æœ‰å¹³æ—¶åœ¨åˆ«çš„APPæˆ–è€…ç½‘ç«™ä¸Šçš„å¿«æ·ç™»å½•æˆæƒè§£é™¤æ‰å¯ä»¥ï¼å…·ä½“çœ‹ä¸‹é¢æ³¨é”€å¾®ä¿¡å’Œå¾®åšçš„ä¸¤ä¸ªæˆªå›¾ï¼š</p>
<p><img src="/img/tucao/IMG_QQxh_05.png" alt="æ³¨é”€å¾®ä¿¡æ—¶æé†’"><br><img src="/img/tucao/IMG_QQxh_04.png" alt="æ³¨é”€å¾®åšæ—¶æé†’"></p>
<p>è¯´èµ·æ¥ä¹Ÿæ˜¯ï¼Œè‡ªå·±ä¸»åŠ¨æ³¨é”€çš„è¯ï¼Œå„ç§é™åˆ¶ï¼Œæå…¶ä¸æ„¿æ„è®©ä½ é”€æˆ·ï¼Œè¿™è®©æˆ‘æƒ³èµ·äº†ä¸¤ä¸ªæ¯”è¾ƒâ€æœ‰æ„æ€çš„â€ç”µè„‘æ€æ¯’è½¯ä»¶ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹å®‰è£…çš„ï¼Œè‡ªå·±éƒ½ä¸çŸ¥é“ï¼Œå¸è½½çš„æ—¶å€™å¼¹å‡ºNæ¬¡é€‰æ‹©æ¡†è®©ä½ ç¡®è®¤ï¼Œè¿˜æ•…æ„æŠŠç¡®è®¤å¸è½½æŒ‰é’®é¢œè‰²å¼„æˆæš—è‰²ï¼ŒæŠŠå–æ¶ˆä¸‹è½½å¼„æˆé«˜äº®è‰²ï¼</p>
<p>ç”šè‡³ä¸€ä¼šå„¿ç¡®è®¤åœ¨å³è¾¹ï¼Œä¸€ä¼šå„¿åœ¨å·¦è¾¹ï¼å‘µå‘µå“’â€¦ä¸çŸ¥é“æ­£åœ¨çœ‹æ­¤ç¯‡åšæ–‡çš„ä½ æœ‰æ²¡æœ‰é‡åˆ°è¿‡è¿™ç§æå…¶â€æµæ°“â€çš„è½¯ä»¶ï¼</p>
<p>ä¸»åŠ¨é”€æˆ·å›°éš¾ï¼Œä½†æ˜¯â€è¢«â€é”€æˆ·å°±æ­»å¾ˆç®€å•çš„äº‹ï¼<br>åªè¦ä½ è¿è§„äº†è¯¥APPçš„ä¸€äº›è§„å®šï¼ä»–ä»¬å°±å¯ä»¥å†»ç»“ä½ çš„è´¦å·ï¼Œç”šè‡³æ˜¯ç›´æ¥é”€æˆ·ï¼ä¹Ÿå°±ä¸ç®¡ä½ æœ‰æ²¡æœ‰æŠŠå‘å¡«å¹³æˆ–è€…è§£é™¤è´¦å·æˆæƒä»€ä¹ˆçš„äº†ï¼Œè¿™æ˜¯ä¸€ç§ä»€ä¹ˆæ“ä½œï¼Ÿ</p>
<p>ç°åœ¨æ‰‹æœºè½¯ä»¶ã€ç¤¾äº¤åª’ä½“ã€è´­ç‰©å¹³å°ç­‰ç½‘ç»œè´¦å·ä¸­å¾ˆå°‘æœ‰æä¾›æ³¨é”€è´¦å·çš„æœåŠ¡ã€‚ä¸€æ—¦ç”¨æˆ·æ³¨å†Œè´¦å·ï¼Œå³ä½¿ä¸å†ä½¿ç”¨ï¼Œæ­¤å‰å…¶æ³¨å†Œä¿¡æ¯ã€è´­ä¹°è®°å½•ã€å¥½å‹é€šè®¯å½•ç­‰éƒ½è¿˜å°†ç»§ç»­å‚¨å­˜åœ¨å¹³å°ç³»ç»Ÿä¸­ã€‚</p>
<p>è€Œä¸”å¾ˆå¤šè½¯ä»¶å’Œå¹³å°ä¸ºäº†æ¨å¹¿ï¼Œå„ç§å¸å¼•çœ¼çƒçš„å¹¿å‘Šå¸å¼•å¤§å®¶å»æ³¨å†Œè¯•ç”¨ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿™äº›è½¯ä»¶å’Œå¹³å°å¹¶ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œå¾ˆå¤šæ³¨å†Œäº†å‘ç°ä¸æ˜¯è‡ªå·±éœ€è¦çš„ï¼Œå°±ç›´æ¥å…³æ‰æˆ–å¸è½½ä¸ç®¡äº†ã€‚<br>å› æ­¤ç°åœ¨ç”¨æˆ·çš„ä¸ªäººèµ„æ–™å¾ˆå®¹æ˜“ä¼šè¢«æ³„éœ²ã€‚</p>
<p>å¾ˆå¤šçš„APPéƒ½ä¼šè¯»å–æˆ‘ä»¬çš„æ‰‹æœºé€šè®¯å½•ï¼Œåœ°ç†ä½ç½®ç­‰ä¿¡æ¯ï¼Œä¹çœ‹ä¹‹ä¸‹ï¼Œæ— éå°±æ˜¯å¤šå‡ ä¸ªåºŸå¼ƒçš„è´¦å·è€Œå·²ï¼Œä½†éšç€ä¸ªäººèµ„æ–™å’Œä¿¡æ¯æƒåˆ©é‡è¦æ€§çš„æå‡ï¼Œä¿ç•™åœ¨è´¦æˆ·é‡Œé¢çš„æ‰€æœ‰ä¸ªäººèµ„æ–™éƒ½æœ‰å¯èƒ½è¢«åˆ©ç”¨ã€è´©å–ï¼Œå¤§å¤§å¢åŠ ç”¨æˆ·éšç§æ³„éœ²çš„é£é™©ã€‚</p>
<p>æ‰€ä»¥å¤§å®¶è¦æ˜¯æœ‰æ³¨å†Œäº†ä¸€äº›å¹³å°æˆ–APPè´¦å·ï¼Œåˆæ²¡æœ‰ä½¿ç”¨çš„è¯æœ€å¥½åŠæ—¶æ³¨é”€æ‰ï¼Œè¿™äº›ä¸ç”¨çš„è´¦å·è¯´ä¸å¥½å¾ˆæœ‰å¯èƒ½ä¼šæ³„éœ²ä½ ï¼Œç”šè‡³æ˜¯å®¶äººæœ‹å‹çš„ä¸ªäººéšç§ï¼Œæ³¨é”€æ‰ä¸ä»…èƒ½å‡å°‘è‡ªèº«é£é™©ï¼Œä»¥åæ¢å·ç ä¹Ÿç®€å•å¤šäº†ã€‚</p>
<p>ä¸ºä»€ä¹ˆæ‰‹æœºå·ç ç”¨ä¹…äº†ï¼Œå¹¿å‘ŠçŸ­ä¿¡æ¯è¶Šæ¥è¶Šå¤šï¼Ÿè¿™ä¼šå„¿åº”è¯¥ä¸è¨€è€Œå–»äº†å§ï¼ä¸ªäººæ˜¯å¾ˆèµæˆå·¥ä¿¡éƒ¨å‡ºæ¥ç®¡åˆ¶çš„ï¼Œä»»ä½•å¹³å°éƒ½åº”è¯¥å¼€æ”¾ç”¨æˆ·ä¸»åŠ¨æ³¨é”€è´¦å·çš„æƒé™ï¼</p>
<p>äº”ä¸€æœŸé—´å¤§å®¶éƒ½åœ¨æ›´åšï¼Œæˆ‘å®åœ¨æ˜¯æ²¡ä»€ä¹ˆå¯ä»¥æ‹¿å‡ºæ¥çš„ï¼Œä»Šå¤©å°±å€ŸUCæ¨æ–‡ç äº†ä¸€å †å£æ°´æ–‡ï¼2333â€¦</p>
<p>é£Ÿç”¨å®Œæ°´æ–‡ï¼Œè®°å¾—æµè¡Œè¯„è®ºï¼Œå‘å˜ä¸€ä¸‹ä½ çš„çœ‹æ³•ï¼</p>
]]></content>
      <categories>
        <category>æ”¶é›†æ§</category>
      </categories>
      <tags>
        <tag>å…è´¹api</tag>
        <tag>æ¥å£æ”¶é›†</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºæ–°ç‰ˆå½©è™¹ä»£åˆ·hashsaltå€¼å¦‚ä½•è¿˜åŸå‡ºçœŸå®å€¼</title>
    <url>/2018/04/23/caihong-encode/</url>
    <content><![CDATA[<p>æœ€è¿‘åœ¨qqç¾¤ä¸Šï¼Œæœ‰æœ‹å‹è¦æ±‚æˆ‘æ›´æ–°ä¸€ä¸‹å…è´¹é¢†èµ(QQåç‰‡èµ)App(æå…¶æ— èŠçš„appä½†æ˜¯å–œæ¬¢çš„äººå´å¾ˆå¤š)ï¼Œ</p>
<p>ä»¥ä¸ºè€æ¥å£éƒ½å¤±æ•ˆäº†ï¼Œç„¶åå»ç ”ç©¶äº†ä¸€ä¸‹ä»£åˆ·ç«™ç‚¹å‘ç°ï¼Œæ–°ç‰ˆæœ¬çš„å½©è™¹ä»£åˆ·ç¨‹åºå¢åŠ äº†hashsaltå€¼ + cookieså€¼æ–¹å¼çš„éªŒè¯ï¼Œ</p>
<p>å…¶ä¸»è¦ç›®çš„å¯èƒ½å°±æ˜¯ä¸ºäº†åŠ å¤§å†™è½¯ä»¶çš„éš¾åº¦ï¼Œä»¥åŠé˜²æ­¢æ¶æ„åˆ·å•ï¼</p>
<p>ç›´æ¥æŸ¥çœ‹ä»£åˆ·ç«™æºç ï¼Œå¯ä»¥çœ‹åˆ°hashsaltå€¼å¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼š</p>
<span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">function getHashsalt() &#123;</span><br><span class="line">   var hashsalt = ([] + &#123;&#125;)[!+[] + !![] + !![] + !![] + !![]] + (!+[] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + []) + ( + &#123;&#125; + [])[ + !![]] + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + []) + ([] + &#123;&#125;)[!+[] + !![] + !![] + !![] + !![]] + (!+[] + !![] + !![] + !![] + []) + ( + &#123;&#125; + [])[ + !![]] + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + []) + ( + !![] + []) + ([] + &#123;&#125;)[!+[] + !![]] + (!+[] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + []) + ( + !![] + []) + ( + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + []) + ( + [] + []) + ( + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + []) + ([][[]] + [])[!+[] + !![]] + (!+[] + !![] + !![] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + []) + (!+[] + !![] + !![] + !![] + !![] + !![] + []) + ( + [] + []) + ([][[]] + [])[!+[] + !![] + !![]] + (!+[] + !![] + !![] + []);</span><br><span class="line">    return hashsalt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™çœ‹ç€ç€å®è®©äººå¾ˆæ‡µã€‚</p>
<p>ç„¶åæœäº†ä¸€ä¸‹å‘ç°ï¼Œç²¾æ˜“è®ºå›çš„å¤§ä½¬[@l1294066497]ä»¥åŠæŠŠæ€ä¹ˆå¾—åˆ°å‡†ç¡®çš„hashsaltå€¼ï¼Œç”¨æ˜“è¯­è¨€çš„æ–¹æ³•å‘å‡ºæ¥äº†ã€‚</p>
<p>å°±æ˜¯ç›´æ¥è°ƒç”¨<code>V8 JavaScript</code>å¼•æ“å¤„ç†å³å¯ï¼Œå…³äºè¯¥å¼•æ“å¯è¯¦è§ç™¾åº¦ç™¾ç§‘ä»‹ç»ï¼š<a href="https://baike.baidu.com/item/V8/6178125" title="V8 JavaScript å¼•æ“">https://baike.baidu.com/item/V8/6178125</a></p>
<p>è¿˜åŸhashsaltå€¼ï¼Œä»¥åŠå¦‚ä½•å¾—åˆ°cookieså€¼çš„æ˜“è¯­è¨€æ–¹æ³•çš„ä»£ç å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/img/caihong/01.png" alt="hashsaltå€¼"></p>
<p>æœ€åæ˜¯æµ‹è¯•è¿è¡Œï¼Œè°ƒè¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="/img/caihong/02.png" alt="æµ‹è¯•è¿è¡Œ"></p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>å½©è™¹ä»£åˆ·</tag>
        <tag>ç®—æ³•è§£å¯†</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€è¿‘æœ‰ä¸€ä»¶å¾ˆç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿï¼Œå“ˆå“ˆï¼</title>
    <url>/2018/03/16/waooooo/</url>
    <content><![CDATA[<h1 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h1><p>æœ€è¿‘ä¸¤ä¸ªæ˜ŸæœŸï¼Œæœ‰ä¸€ä»¶å¾ˆç¥å¥‡çš„äº‹æƒ…ã€‚</p>
<p>ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™çš„äº‹æƒ…äº†ï¼Œåœ¨æ‰‹æœºç«¯åˆ©ç”¨AIDEå†™äº†ä¸€ä¸ªå‰æ™®èµ›è¯»å¿ƒæœ¯çš„appï¼Œæœ€åˆæ˜¯å°è¯•çš„å¿ƒæ€ä¸Šæ¶äº†ç™¾åº¦æ‰‹æœºåŠ©æ‰‹ï¼Œä½†æ˜¯æ²¡æƒ³åˆ°é€šè¿‡å®¡æ ¸äº†ã€‚</p>
<p>åæ¥æ²¡åšä»€ä¹ˆæ›´æ–°ï¼Œ(å¤§æ¦‚ä¸‰ä¸ªæœˆå·¦å³ä¹‹å)å°±è¢«ä¸‹æ¶äº†ã€‚</p>
<p>APPçš„ä¸»ç•Œé¢å¤§æ¦‚é•¿è¿™ä¸ªæ ·å­ï¼š</p>
<span id="more"></span>

<p><img src="/img/duxin/dx_01.jpg" alt="APPçš„ä¸»ç•Œé¢"></p>
<p>æœ€è¿‘æœ‰å‡ ä½å…„å¼Ÿæ‰¾åˆ°æˆ‘ï¼Œè¯¢é—®å…³äºè¿™ä¸ªè½¯ä»¶çš„åŸç†æ˜¯ä»€ä¹ˆï¼</p>
<p>æˆ‘è¿™è¾¹éƒ½æ˜¯4å­—çœŸè¨€å›å¤äº†ä»–ä»¬ï¼š</p>
<p>9çš„å€æ•°ï¼ï¼ˆè¿™ç®—æ˜¯é«˜å†·å˜›ï¼Ÿï¼‰</p>
<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p>å…·ä½“åŸç†æ˜¯è¿™æ ·çš„ï¼š</p>
<p>å…ˆæ¥å¤§æ¦‚çœ‹ä¸€ä¸‹æµç¨‹ï¼Œappçš„è§„åˆ™å¦‚ä¸‹ï¼š</p>
<p><img src="/img/duxin/dx_02.jpg" alt="APPçš„ä¸»ç•Œé¢"></p>
<p>ï¼ˆæœ‰çš„æœ‹å‹çœ‹äº†è§„åˆ™å°±è¯´ï¼Œç®—æ³•æ˜¯å›ºå®šçš„ï¼Œä½ ç›´æ¥æŒ‰ç…§é‚£ä¸ªç®—æ³•å€’æ¨å›å»ä¸å°±æ˜¯ç­”æ¡ˆäº†å˜›ï¼Ÿå…¶å®ä¸ç„¶ï¼Œå› ä¸ºç³»ç»Ÿå¹¶ä¸çŸ¥é“æœ€åˆç”¨æˆ·é€‰æ‹©çš„æ˜¯ä»€ä¹ˆæ•°å­—ï¼Œæ›´ä¸çŸ¥é“ç”¨æˆ·é€šè¿‡ç®—æ³•è®¡ç®—ä¹‹åçš„æ•°å­—æ˜¯ä»€ä¹ˆï¼ï¼‰</p>
<p>ç„¶åè¿™æ˜¯ç”¨æˆ·å¯»æ‰¾è®¡ç®—æ•°å­—å¯¹åº”çš„ç¬¦å·çš„ç•Œé¢ï¼š</p>
<p><img src="/img/duxin/dx_03.jpg" alt="APPçš„ä¸»ç•Œé¢"></p>
<p>ç„¶åæ˜¯ç³»ç»Ÿç»™å‡ºç­”æ¡ˆçš„ç•Œé¢ï¼š<br><img src="/img/duxin/dx_04.jpg" alt="APPçš„ä¸»ç•Œé¢"></p>
<p>4å­—çœŸè¨€â€œ9çš„å€æ•°â€è¯´çš„æ˜¯ï¼š</p>
<p>å½“ç”¨æˆ·å¿ƒé‡Œé»˜é€‰äº†ä¸€ä¸ªä¸¤ä½æ•°çš„æ•°å­—ä¹‹åï¼Œé€šè¿‡ä¸Šé¢æåˆ°çš„è§„åˆ™è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°çš„ä»»ä½•ä¸€ä¸ªæ–°çš„æ•°å­—ï¼Œå¿…å®šæ˜¯ä¸€ä¸ª9çš„å€æ•°ï¼Œæ‰€ä»¥åªéœ€è¦å°†åˆ—è¡¨ä¸­çš„9çš„å€æ•°å¯¹åº”çš„ç¬¦å·å…¨éƒ¨æ˜¾ç¤ºæˆä¸€æ ·çš„å°±å¯ä»¥äº†ï¼Œæœ€åå†æ˜¾ç¤ºç»“æœï¼</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>(çŸ¥é“äº†åŸç†ï¼Œå°±åƒé­”æœ¯è¢«è§£å¯†äº†ä¸€æ ·ï¼Œå˜å¾—äº†æ— ç”Ÿè¶£äº†ï¼Œæœ‰æœ¨æœ‰ï¼Ÿ)</p>
<p>è¿˜æ˜¯å¾ˆå¥½å¥‡ä»–ä»¬æ˜¯ä»å“ªé‡Œä¸‹è½½çš„APP.</p>
<img src="http://img.baidu.com/hi/jx2/j_0078.gif"/>
åœ¨è¿™é‡Œå†æ¬¡æ”¾ä¸€ä¸‹APPçš„é“¾æ¥å§ï¼Œæœ‰å…´è¶£æ€¼æˆ‘æ‹¿å»ç©å„¿

<h1 id="ä¸‹è½½é“¾æ¥"><a href="#ä¸‹è½½é“¾æ¥" class="headerlink" title="ä¸‹è½½é“¾æ¥"></a>ä¸‹è½½é“¾æ¥</h1><p>é“¾æ¥:<a href="https://pan.baidu.com/s/1fbz5Wbgex54NVoRW3mrmwQ">https://pan.baidu.com/s/1fbz5Wbgex54NVoRW3mrmwQ</a> å¯†ç :7cu8</p>
<img src="http://img.baidu.com/hi/jx2/j_0057.gif">]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
        <tag>åæ§½</tag>
      </tags>
  </entry>
  <entry>
    <title>phpè‡ªå†™apiæ•°æ®æ¥å£å®ä¾‹ç¬”è®°</title>
    <url>/2018/01/30/php-api/</url>
    <content><![CDATA[<p>phpå†™apiæ¥å£èµ·åˆæ˜¯å› ä¸ºè‡ªå·±åœ¨ç©æœºå™¨äººè½¯ä»¶ï¼Œéœ€è¦è¿›è¡Œæ•°æ®äº¤äº’ï¼Œä¾‹å¦‚çœ‹ç¬‘è¯ï¼ŒæŸ¥å¤©æ°”ï¼ŒæŸ¥å¿«é€’ç­‰ç­‰çš„ä¸€äº›æ•°æ®ï¼Œæ¥ä¸°å¯Œæœºå™¨äººçš„åŠŸèƒ½ï¼Œç°åœ¨æœ¬ç«™æš‚æ—¶ä¿ç•™ç€ä¸¤ä¸ªå°±åšå®¢çš„apiæ¥å£ï¼Œ<img src="http://img.baidu.com/hi/face/i_f08.gif"/></p>
<p>cssä»€ä¹ˆçš„å¤±æ•ˆäº†ï¼Œæš‚æ—¶æ²¡å»ç®¡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://www.hzv5.cn/api/ai.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://www.hzv5.cn/api/sina_url.php</span><br></pre></td></tr></table></figure>

<img src="http://img.baidu.com/hi/face/i_f05.gif"/>

<p>ä¸‹é¢å°±æ¥çœ‹çœ‹æ€ä¹ˆè‡ªå·±å†™ä¸€ä¸ªapiæ¥å£å§ï¼š</p>
<p>å®ä¾‹ä»£ç ï¼š</p>
<span id="more"></span>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">  $output = array();  $a = @$_GET[&quot;a&quot;] ? $_GET[&quot;a&quot;] : &quot;&quot;;</span><br><span class="line">  $uid = @$_GET[&quot;uid&quot;] ? $_GET[&quot;uid&quot;] : 0;\r\n  if (empty($a)) &#123;</span><br><span class="line">    $output = array(&quot;data&quot;=&gt;NULL, &quot;info&quot;=&gt;&quot;éå¸¸æŠ±æ­‰ï¼Œç¼ºå°‘å‚æ•°!&quot;, &quot;code&quot;=&gt;-201);</span><br><span class="line">    exit(json_encode($output));</span><br><span class="line">  &#125;</span><br><span class="line">  //æ¥å£èµ°çš„ç«¯å£</span><br><span class="line">   if ($a == &quot;get_users&quot;) &#123;</span><br><span class="line">     //æ£€æŸ¥ç”¨æˆ·</span><br><span class="line">     if ($uid == 0) &#123;</span><br><span class="line">       $output = array(&quot;data&quot;=&gt;NULL, &quot;info&quot;=&gt;&quot;The uid is null!&quot;, &quot;code&quot;=&gt;-401);</span><br><span class="line">       exit(json_encode($output));</span><br><span class="line">     &#125;</span><br><span class="line">     //å‡è®¾ $mysql æ˜¯æ•°æ®åº“æˆ–è€…ä»ç½‘ç»œè¯»å–çš„æ•°æ®</span><br><span class="line">     $mysql = array(</span><br><span class="line">       10001 =&gt; array(</span><br><span class="line">         &quot;uid&quot;=&gt;10001,</span><br><span class="line">         &quot;vip&quot;=&gt;5,</span><br><span class="line">         &quot;nickname&quot; =&gt; &quot;Shine X&quot;,</span><br><span class="line">         &quot;email&quot;=&gt;&quot;88888888@qq.com&quot;,</span><br><span class="line">         &quot;qq&quot;=&gt;88888888,</span><br><span class="line">         &quot;ctime&quot;=&gt;1320321234,</span><br><span class="line">         &quot;lastLogin&quot;=&gt;1321121144,</span><br><span class="line">         &quot;level&quot;=&gt;19</span><br><span class="line">       ),10002 =&gt; array(</span><br><span class="line">         &quot;uid&quot;=&gt;10002,</span><br><span class="line">         &quot;vip&quot;=&gt;3,</span><br><span class="line">         &quot;nickname&quot; =&gt; &quot;elva&quot;,</span><br><span class="line">         &quot;email&quot;=&gt;&quot;99999999@qq.com&quot;,</span><br><span class="line">         &quot;qq&quot;=&gt;NULL,</span><br><span class="line">         &quot;ctime&quot;=&gt;1372323234,</span><br><span class="line">         &quot;lastLogin&quot;=&gt;1371122114,</span><br><span class="line">         &quot;level&quot;=&gt;12,</span><br><span class="line">       )</span><br><span class="line">     );</span><br><span class="line">     //æ£€æµ‹æŸ¥è¯¢çš„æ•°æ®æ˜¯å¦æ³¨å†Œå­˜åœ¨</span><br><span class="line">     $uidArr = array(10001,10002);</span><br><span class="line">     if (in_array($uid, $nickname, true)) &#123;</span><br><span class="line">       $output = array(&quot;data&quot; =&gt; NULL, &quot;info&quot;=&gt;&quot;The user does not exist!&quot;, &quot;code&quot; =&gt; -402);</span><br><span class="line">       exit(json_encode($output));</span><br><span class="line">     &#125;</span><br><span class="line">     //å­˜åœ¨çš„å¼€å§‹æŸ¥è¯¢æ•°æ®åº“</span><br><span class="line">     $userInfo = $mysql[$uid];</span><br><span class="line">     //è¾“å‡ºæ•°æ®</span><br><span class="line">     $output = array(</span><br><span class="line">       &quot;data&quot; =&gt; array(&quot;userInfo&quot; =&gt; $userInfo),</span><br><span class="line">       &quot;info&quot; =&gt; &quot;Here is the message which, commonly used in popup window&quot;, //è¿”å›æ¶ˆæ¯æç¤º</span><br><span class="line">       &quot;code&quot; =&gt; 200, //æˆåŠŸä¸å¤±è´¥çš„ä»£ç ï¼Œä¸€èˆ¬éƒ½æ˜¯æ­£æ•°æˆ–è€…è´Ÿæ•°</span><br><span class="line">     );</span><br><span class="line">     exit(json_encode($output));</span><br><span class="line">     //å…¶ä»–ç«¯å£æŸ¥è¯¢è¿˜å¯ä»¥è‡ªå·±å†ç»§ç»­æ·»åŠ ï¼Œæ–¹æ³•åŒä¸Š</span><br><span class="line">   &#125; elseif ($a == &quot;get_result&quot;) &#123;</span><br><span class="line">     //...</span><br><span class="line">     die(&quot;æ‚¨æ­£åœ¨è°ƒ get_result æ¥å£!&quot;);</span><br><span class="line">   &#125; elseif ($a == &quot;get_upload&quot;) &#123;</span><br><span class="line">     //....</span><br><span class="line">     die(&quot;æ‚¨æ­£åœ¨è°ƒ get_upload æ¥å£!&quot;);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>OKï¼Œä»¥ä¸Šä¾¿æ˜¯è‡ªå†™apiæ¥å£è¿›è¡ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´äº¤äº’çš„å®ä¾‹~</p>
<p><img src="http://img.baidu.com/hi/face/i_f07.gif"/>å¾ˆç®€å•å§ï¼Œæœ‰ä»€ä¹ˆä¸æ‡‚çš„å¯ä»¥ç•™è¨€è¯„è®º~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>phpæ¥å£</tag>
        <tag>apiå†™æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>phpæ‰“å¼€ç½‘é¡µé“¾æ¥è¯·æ±‚httpè¿æ¥çš„æ–¹æ³•</title>
    <url>/2018/01/28/php-http/</url>
    <content><![CDATA[<h1 id="ç¢è¨€ç¢è¯­"><a href="#ç¢è¨€ç¢è¯­" class="headerlink" title="ç¢è¨€ç¢è¯­"></a>ç¢è¨€ç¢è¯­</h1><p>å’±ä»¬å¦‚æœæ˜¯ç©phpéé™æ€ç½‘ç«™ï¼Œè¿›è¡Œç½‘é¡µé“¾æ¥è¯·æ±‚è·å–éœ€è¦çš„æ•°æ®ï¼Œæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¸ç„¶éš¾é“â€œå•æœºâ€ä¸æˆï¼Ÿ</p>
<p>å…¨éƒ¨æ•°æ®æ–‡ä»¶æœ¬åœ°åŒ–ï¼Ÿè¿™å¥½åƒæ˜¯é™æ€ç½‘ç«™çš„æ¨¡å¼ï¼Œè€Œä¸”å°±ç®—æ˜¯é™æ€ç½‘ç«™ä¹Ÿä¸å®Œå…¨æ˜¯é™æ€çš„ï¼Œä¹Ÿæœ‰jsåŠ æŒã€‚</p>
<p>è¿™æ˜¾ç„¶ä¸å¤ªç°å®äº†å§~~</p>
<h1 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h1><p>åˆ©ç”¨phpçš„curlå‡½æ•°è¿›è¡Œå°è£…ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<span id="more"></span>
<pre><code>function http_request($url,$timeout=30,$header=array())&#123;
    if (!function_exists(&quot;curl_init&quot;)) &#123;
        throw new Exception(&quot;server not install curl&quot;);
    &#125;
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_HEADER, true);
    curl_setopt($ch, CURLOPT_URL, $url);
    curl_setopt($ch, CURLOPT_TIMEOUT, $timeout);
    if (!emptyempty($header)) &#123;
        curl_setopt($ch, CURLOPT_HTTPHEADER, $header);
    &#125; 
    $data = curl_exec($ch);
    list($header, $data) = explode(&amp;quot;\\r\\n\\r\\n&amp;quot;, $data);
    $http_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);
    if ($http_code == 301 || $http_code == 302) &#123; 
        $matches = array();
        preg_match(&quot;/Location:(.*?)\\n/&quot;, $header, $matches);
        $url = trim(array_pop($matches));
        curl_setopt($ch, CURLOPT_URL, $url);
        curl_setopt($ch, CURLOPT_HEADER, false);
        $data = curl_exec($ch);
    &#125;
    if ($data == false) &#123;
        curl_close($ch); 
    &#125; 
    curl_close($ch);
    return $data;
&#125;</code></pre><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>è¿™ä¸ªå°è£…å¥½äº†æ˜¯å¯ä»¥ç›´æ¥å¥—ç”¨çš„ï¼Œä¹Ÿå¯¹301/302é‡å®šå‘çš„ç½‘é¡µè¿›è¡Œäº†è¿›ä¸€æ­¥çš„å¤„ç†ï¼</p>
<p>psï¼šç”±äºåšå®¢æ˜¾ç¤ºæ„¿æ„ï¼Œè¯·æ³¨æ„urlä¹‹ç±»çš„ç¬¦å·ï¼Œéœ€è¦è½¬ç è¿˜åŸã€‚</p>
<p>æ‰“å¼€httpsé“¾æ¥çš„ç½‘é¡µä¹Ÿæ˜¯å¯ä»¥çš„~</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>phpç›¸å…³</tag>
        <tag>å‡½æ•°å°è£…</tag>
      </tags>
  </entry>
  <entry>
    <title>coding pagesæ‰˜ç®¡é¡¹ç›®æ˜¯æœ‰ç‚¹å°å°´å°¬~</title>
    <url>/2018/01/25/coding-pages/</url>
    <content><![CDATA[<h1 id="å°å°´å°¬"><a href="#å°å°´å°¬" class="headerlink" title="å°å°´å°¬"></a>å°å°´å°¬</h1><p>é™æ€çš„ç¨‹åºä¸çŸ¥é“ï¼Œåæ­£ç±»ä¼¼äºemlogä»¥åŠç°åœ¨æœ¬ç«™æ­£åœ¨ä½¿ç”¨çš„typechoç¨‹åºæ¥è¯´ï¼Œ</p>
<p>å„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œcodingå®˜æ–¹æ˜¯è¯´ ï¼šè¿˜åœ¨å…¬æµ‹é˜¶æ®µã€‚</p>
<p>å¦‚æœä½ æ˜¯æ‰‹æœºç«¯æ“ä½œä»£ç è¿›è¡Œæ‰˜ç®¡ï¼Œè€Œéä½¿ç”¨gitæ“ä½œçš„ï¼Œä½¿ç”¨coding pageså°±ä¼šæœ‰è¿™æ ·çš„æƒ…å†µï¼š<br>ï¼ˆpså› ä¸ºemlogå®˜æ–¹ç‰ˆæœ¬çš„æœ€æ–°ç‰ˆä¸æ”¯æŒphp7.0ï¼Œæ‰€ä»¥è¿™é‡Œæµ‹è¯•ä½¿ç”¨çš„æ˜¯ @ç–¯ç‹‚è€å¸æœº å‰è¾ˆè‡ªåˆ¶çš„emlog6.0ç‰¹åˆ«ç‰ˆã€‚</p>
<span id="more"></span>
<p>è€Œtypechoæµ‹è¯•ä½¿ç”¨çš„æ˜¯å®˜æ–¹æœ€æ–°çš„1.1ç‰ˆæœ¬ã€‚å¦å¤–ï¼Œé„™äººå®Œå…¨æ˜¯åœ¨æ‰‹æœºç«¯è¿›è¡Œçš„é¡¹ç›®æµ‹è¯•~ï¼‰</p>
<p>æ‰‹æœºç«¯ä¸Šä¼ é¡¹ç›®ä»£ç åˆ°coding pageså®‰è£…å®Œç¨‹åºåï¼Œå¦‚æœç¼–è¾‘äº†é¡¹ç›®ä»£ç ï¼Œå°±è¦è¿›è¡Œé¡¹ç›®çš„é‡æ–°éƒ¨ç½²ï¼Œå¯¹äºemlogå’Œtypechoï¼Œéƒ½ä¼šå¯¼è‡´ç¨‹åºéœ€è¦é‡æ–°å®‰è£…ï¼Œtypechoçš„è¯è¿˜æœ‰configæ–‡ä»¶è®°å½•ï¼Œå®‰è£…ç¨‹åºä¼šæç¤ºä½¿ç”¨åŸæœ‰æ•°æ®å®‰è½¬è®¿é—®ã€‚è€Œemlogå°±ä¸ä¸€æ ·äº†ï¼Œæ—§æ•°æ®ç›´æ¥ä¸¢å¤±~</p>
<p>emlogå®‰è£…å®Œä¸èƒ½åˆ é™¤installæ–‡ä»¶ï¼Œå› ä¸ºç¨‹åºä¼šè‡ªå·±å¾€è¯¥æ–‡ä»¶ä¸Šè·³ï¼Œç„¶ååœ¨è¿›è¡Œé¦–é¡µè®¿é—®ã€‚å¦‚æœæˆ‘ä»¬åˆ é™¤è¯¥æ–‡ä»¶çš„è¯ç½‘ç«™å°±ä¼š404ï¼Œä¸åˆ é™¤å°±å¯ä»¥ç»§ç»­è®¿é—®é‡è£…ç¨‹åºï¼Œè¿™æ˜¯å¾ˆä¸å®‰å…¨çš„ã€‚è€Œtypechoå°šå¥½ï¼Œå®‰è£…å®Œå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œinstallæ–‡ä»¶ä¹Ÿä¸éœ€è¦åˆ é™¤ï¼Œç¨‹åºè‡ªåŠ¨å±è”½æ‰äº†ï¼</p>
<p>codingç¼–è¾‘é¡¹ç›®è²Œä¼¼ç°åœ¨ä¸èƒ½ä¿®æ”¹æ–‡ä»¶åç§°ï¼Œåˆ›å»ºæ–‡ä»¶å¤¹ä»¥åŠåˆ é™¤æ–‡ä»¶ã€‚å¿…é¡»ä½¿ç”¨git/å‘½ä»¤è¡Œè¿›è¡Œæ“ä½œã€‚</p>
<p>codingå¯ä»¥å…è´¹ä½¿ç”¨https/SSLæœåŠ¡ï¼Œè¿™ä¸€ç‚¹è¿˜æ˜¯å¥½çš„ã€‚ä½†æ˜¯è‡³ä»Šæˆ‘æ²¡çœ‹åˆ°æ€ä¹ˆå…³é—­SSLæœåŠ¡ã€‚è¿™å°±å¯¼è‡´é¢‘ç¹ç¼–è¾‘é¡¹ç›®ä¹‹åï¼Œå†é‡å¤ç»‘å®šåŸŸåï¼Œç³»ç»Ÿè‡ªåŠ¨é‡å¤ç”³è¯·sslå®‰å…¨è¯ä¹¦ï¼Œè‡´ä½¿è¯ä¹¦å¤±æ•ˆï¼Œè¿™æ ·è®¿é—®ç½‘ç«™å°±æé†’è¯ä¹¦ä¸å®‰å…¨äº†ã€‚å¥½åœ¨ä¸€ä¸ªæ˜ŸæœŸä¹‹åå¯ä»¥é‡æ–°ç”³è¯·ï¼</p>
<h1 id="å¸Œå†€"><a href="#å¸Œå†€" class="headerlink" title="å¸Œå†€"></a>å¸Œå†€</h1><p>ä»¥ä¸Šä¾¿æ˜¯é„™äººåœ¨æ‰‹æœºç«¯ï¼Œä½¿ç”¨emlogå’Œtypechoåœ¨coding pagesä¸Šè¿›è¡Œé¡¹ç›®æ‰˜ç®¡ä½“éªŒæœ‰æ•ˆæœŸå·¦å³çš„å°å°æ„Ÿå—ï¼</p>
<p>codingé€‚åˆå¥½çš„é¡¹ç›®æ‰˜ç®¡å¹³å°ï¼Œè·Ÿå›½å¤–çš„Githubç±»ä¼¼ï¼Œä½†æ˜¯å›½å†…çš„è¯codingçš„è®¿é—®é€Ÿåº¦è¦å¿«çš„å¤šï¼Œè€Œä¸”codingè¿˜å¯ä»¥å…è´¹ä½¿ç”¨htts/sslæœåŠ¡ã€‚</p>
<p>æœ‰äººè¯´è¿™æ˜¯å…¬æµ‹é˜¶æ®µï¼Œåç»­åº”è¯¥æ˜¯è¦æ”¶è´¹çš„äº†ã€‚</p>
<h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>åç»­è¿˜æœ‰ä»€ä¹ˆæ–°çš„å‘ç°ï¼Œå†ç»§ç»­è¿½åŠ ã€‚</p>
<p>æ€»ä¹‹ï¼Œå¸Œæœ›codingè¶Šåšè¶Šå¥½ï¼</p>
]]></content>
      <categories>
        <category>çŸ¥è¯†ç‚¹</category>
      </categories>
      <tags>
        <tag>coding</tag>
        <tag>é¡¹ç›®æ‰˜ç®¡</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>/README.html</url>
    <content><![CDATA[<h1 id="ldyivan-github-io"><a href="#ldyivan-github-io" class="headerlink" title="ldyivan.github.io"></a>ldyivan.github.io</h1><p>Welcomeï¼ My friend, This is a site built using hexo. URL isï¼š<a href="https://www.hzv5.cn">https://www.hzv5.cn</a></p>
]]></content>
  </entry>
  <entry>
    <title>404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º</title>
    <url>//404.html</url>
    <content><![CDATA[<script src="//volunteer.cdn-go.cn/404/latest/404.js" rendertarget="404DIV"></script>

<!-- <script type="text/javascript" src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js" charset="utf-8" homePageUrl="/" homePageName="å›åˆ°æˆ‘çš„ä¸»é¡µ"></script> -->]]></content>
  </entry>
  <entry>
    <title>å…³äº</title>
    <url>/about/index.html</url>
    <content><![CDATA[<p>æ˜µç§°ï¼šå–è¿œzzy</p>
<p>é‚®ç®±ï¼ši#hzv5.cn</p>
<p>å¾ˆæƒ­æ„§ï¼Œ<br>å°±çœŸçš„åªæ˜¯<br>ä¸€ä¸ªä¸çŸ¥åçš„ç¼–ç¨‹çˆ±å¥½è€…ï¼</p>
<p>å°±åªæ˜¯çˆ±å¥½<br>ä»…æ­¤è€Œå·²â€¦</p>
<p>è°¢è°¢å¤§å®¶ï¼</p>
]]></content>
  </entry>
  <entry>
    <title>éšç§æ”¿ç­–</title>
    <url>/agreement/Privacy_policy.html</url>
    <content><![CDATA[<h1 id="éšç§æ”¿ç­–"><a href="#éšç§æ”¿ç­–" class="headerlink" title="éšç§æ”¿ç­–"></a>éšç§æ”¿ç­–</h1><p>æ‚¨åœ¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ”¶é›†å’Œä½¿ç”¨æ‚¨çš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬å¸Œæœ›é€šè¿‡æœ¬ã€Šéšç§æ”¿ç­–ã€‹å‘æ‚¨è¯´æ˜ï¼Œåœ¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•æ”¶é›†ã€ä½¿ç”¨ã€å‚¨å­˜å’Œåˆ†äº«è¿™äº›ä¿¡æ¯ï¼Œä»¥åŠæˆ‘ä»¬ä¸ºæ‚¨æä¾›çš„è®¿é—®ã€æ›´æ–°ã€æ§åˆ¶å’Œä¿æŠ¤è¿™äº›ä¿¡æ¯çš„æ–¹å¼ã€‚</p>
<p>æœ¬ã€Šéšç§æ”¿ç­–ã€‹ä¸æ‚¨æ‰€ä½¿ç”¨çš„æœåŠ¡æ¯æ¯ç›¸å…³ï¼Œå¸Œæœ›æ‚¨ä»”ç»†é˜…è¯»ï¼Œåœ¨éœ€è¦æ—¶ï¼ŒæŒ‰ç…§æœ¬ã€Šéšç§æ”¿ç­–ã€‹çš„æŒ‡å¼•ï¼Œä½œå‡ºæ‚¨è®¤ä¸ºé€‚å½“çš„é€‰æ‹©ã€‚</p>
<p>æœ¬ã€Šéšç§æ”¿ç­–ã€‹ä¸­æ¶‰åŠçš„ç›¸å…³æŠ€æœ¯è¯æ±‡ï¼Œæˆ‘ä»¬å°½é‡ä»¥ç®€æ˜æ‰¼è¦çš„è¡¨è¿°ï¼Œå¹¶æä¾›è¿›ä¸€æ­¥è¯´æ˜çš„é“¾æ¥ï¼Œä»¥ä¾¿æ‚¨çš„ç†è§£ã€‚</p>
<p>æ‚¨ä½¿ç”¨æˆ–ç»§ç»­ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ï¼Œå³æ„å‘³ç€åŒæ„æˆ‘ä»¬æŒ‰ç…§æœ¬ã€Šéšç§æ”¿ç­–ã€‹æ”¶é›†ã€ä½¿ç”¨ã€å‚¨å­˜å’Œåˆ†äº«æ‚¨çš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<p>å¦‚å¯¹æœ¬ã€Šéšç§æ”¿ç­–ã€‹æˆ–ç›¸å…³äº‹å®œæœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·é€šè¿‡<br><a href="mailto:i@hzv5.cn">i@hzv5.cn</a> ä¸æˆ‘ä»¬è”ç³»ã€‚</p>
<h2 id="æˆ‘ä»¬å¯èƒ½æ”¶é›†çš„ä¿¡æ¯"><a href="#æˆ‘ä»¬å¯èƒ½æ”¶é›†çš„ä¿¡æ¯" class="headerlink" title="æˆ‘ä»¬å¯èƒ½æ”¶é›†çš„ä¿¡æ¯"></a>æˆ‘ä»¬å¯èƒ½æ”¶é›†çš„ä¿¡æ¯</h2><p>æˆ‘ä»¬æä¾›æœåŠ¡æ—¶ï¼Œå¯èƒ½ä¼šæ”¶é›†ã€å‚¨å­˜å’Œä½¿ç”¨ä¸‹åˆ—ä¸æ‚¨æœ‰å…³çš„ä¿¡æ¯ã€‚</p>
<p>å¦‚æœæ‚¨ä¸æä¾›ç›¸å…³ä¿¡æ¯ï¼Œå¯èƒ½æ— æ³•äº«å—æˆ‘ä»¬æä¾›çš„æŸäº›æœåŠ¡ï¼Œæˆ–è€…æ— æ³•è¾¾åˆ°ç›¸å…³æœåŠ¡æ‹Ÿè¾¾åˆ°çš„æ•ˆæœã€‚</p>
<h2 id="æ‚¨æä¾›çš„ä¿¡æ¯"><a href="#æ‚¨æä¾›çš„ä¿¡æ¯" class="headerlink" title="æ‚¨æä¾›çš„ä¿¡æ¯"></a>æ‚¨æä¾›çš„ä¿¡æ¯</h2><p>æ‚¨åœ¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œå‘æˆ‘ä»¬æä¾›çš„ç›¸å…³ä¸ªäººä¿¡æ¯ï¼Œä¾‹å¦‚ç”µè¯å·ç ã€ç”µå­é‚®ä»¶æˆ–é“¶è¡Œå¡å·ç­‰ï¼›</p>
<p>æ‚¨é€šè¿‡æˆ‘ä»¬çš„æœåŠ¡å‘å…¶ä»–æ–¹æä¾›çš„å…±äº«ä¿¡æ¯ï¼Œä»¥åŠæ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶æ‰€å‚¨å­˜çš„ä¿¡æ¯ã€‚</p>
<h2 id="å…¶ä»–æ–¹åˆ†äº«çš„æ‚¨çš„ä¿¡æ¯"><a href="#å…¶ä»–æ–¹åˆ†äº«çš„æ‚¨çš„ä¿¡æ¯" class="headerlink" title="å…¶ä»–æ–¹åˆ†äº«çš„æ‚¨çš„ä¿¡æ¯"></a>å…¶ä»–æ–¹åˆ†äº«çš„æ‚¨çš„ä¿¡æ¯</h2><p>å…¶ä»–æ–¹ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶æ‰€æä¾›æœ‰å…³æ‚¨çš„å…±äº«ä¿¡æ¯ã€‚</p>
<h2 id="æˆ‘ä»¬è·å–çš„æ‚¨çš„ä¿¡æ¯"><a href="#æˆ‘ä»¬è·å–çš„æ‚¨çš„ä¿¡æ¯" class="headerlink" title="æˆ‘ä»¬è·å–çš„æ‚¨çš„ä¿¡æ¯"></a>æˆ‘ä»¬è·å–çš„æ‚¨çš„ä¿¡æ¯</h2><p>æ‚¨ä½¿ç”¨æœåŠ¡æ—¶æˆ‘ä»¬å¯èƒ½æ”¶é›†å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<p><strong>æ—¥å¿—ä¿¡æ¯</strong>ï¼ŒæŒ‡æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œç³»ç»Ÿå¯èƒ½é€šè¿‡cookiesã€web beaconæˆ–å…¶ä»–æ–¹å¼è‡ªåŠ¨é‡‡é›†çš„æŠ€æœ¯ä¿¡æ¯ï¼Œ</p>
<p>åŒ…æ‹¬ï¼š<br><strong>è®¾å¤‡æˆ–è½¯ä»¶ä¿¡æ¯</strong>ï¼Œä¾‹å¦‚æ‚¨çš„ç§»åŠ¨è®¾å¤‡ã€ç½‘é¡µæµè§ˆå™¨æˆ–ç”¨äºæ¥å…¥æˆ‘ä»¬æœåŠ¡çš„å…¶ä»–ç¨‹åºæ‰€æä¾›çš„é…ç½®ä¿¡æ¯ã€æ‚¨çš„IPåœ°å€å’Œç§»åŠ¨è®¾å¤‡æ‰€ç”¨çš„ç‰ˆæœ¬å’Œè®¾å¤‡è¯†åˆ«ç ï¼›</p>
<p>åœ¨ä½¿ç”¨æˆ‘ä»¬æœåŠ¡æ—¶æœç´¢æˆ–æµè§ˆçš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ‚¨ä½¿ç”¨çš„ç½‘é¡µæœç´¢è¯è¯­ã€è®¿é—®çš„ç¤¾äº¤åª’ä½“é¡µé¢urlåœ°å€ï¼Œä»¥åŠæ‚¨åœ¨ä½¿ç”¨æˆ‘ä»¬æœåŠ¡æ—¶æµè§ˆæˆ–è¦æ±‚æä¾›çš„å…¶ä»–ä¿¡æ¯å’Œå†…å®¹è¯¦æƒ…ï¼›</p>
<p>æœ‰å…³æ‚¨æ›¾ä½¿ç”¨çš„ç§»åŠ¨åº”ç”¨ï¼ˆAPPï¼‰å’Œå…¶ä»–è½¯ä»¶çš„ä¿¡æ¯ï¼Œä»¥åŠæ‚¨æ›¾ç»ä½¿ç”¨è¯¥ç­‰ç§»åŠ¨åº”ç”¨å’Œè½¯ä»¶çš„ä¿¡æ¯ï¼›</p>
<p><strong>ä½ç½®ä¿¡æ¯</strong>ï¼ŒæŒ‡æ‚¨å¼€å¯è®¾å¤‡å®šä½åŠŸèƒ½å¹¶ä½¿ç”¨æˆ‘ä»¬åŸºäºä½ç½®æä¾›çš„ç›¸å…³æœåŠ¡æ—¶ï¼Œæ”¶é›†çš„æœ‰å…³æ‚¨ä½ç½®çš„ä¿¡æ¯ï¼Œ</p>
<p>åŒ…æ‹¬ï¼š<br>æ‚¨é€šè¿‡å…·æœ‰å®šä½åŠŸèƒ½çš„ç§»åŠ¨è®¾å¤‡ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œé€šè¿‡GPSæˆ–WiFiç­‰æ–¹å¼æ”¶é›†çš„æ‚¨çš„åœ°ç†ä½ç½®ä¿¡æ¯ï¼›</p>
<p>æ‚¨æˆ–å…¶ä»–ç”¨æˆ·æä¾›çš„åŒ…å«æ‚¨æ‰€å¤„åœ°ç†ä½ç½®çš„å®æ—¶ä¿¡æ¯ï¼Œä¾‹å¦‚æ‚¨æä¾›çš„è´¦æˆ·ä¿¡æ¯ä¸­åŒ…å«çš„æ‚¨æ‰€åœ¨åœ°åŒºä¿¡æ¯ï¼Œæ‚¨æˆ–å…¶ä»–äººä¸Šä¼ çš„æ˜¾ç¤ºæ‚¨å½“å‰æˆ–æ›¾ç»æ‰€å¤„åœ°ç†ä½ç½®çš„å…±äº«ä¿¡æ¯ï¼›</p>
<p>æ‚¨å¯ä»¥é€šè¿‡å…³é—­å®šä½åŠŸèƒ½ï¼Œåœæ­¢å¯¹æ‚¨çš„åœ°ç†ä½ç½®ä¿¡æ¯çš„æ”¶é›†ã€‚</p>
<h2 id="æˆ‘ä»¬å¯èƒ½å¦‚ä½•ä½¿ç”¨ä¿¡æ¯"><a href="#æˆ‘ä»¬å¯èƒ½å¦‚ä½•ä½¿ç”¨ä¿¡æ¯" class="headerlink" title="æˆ‘ä»¬å¯èƒ½å¦‚ä½•ä½¿ç”¨ä¿¡æ¯"></a>æˆ‘ä»¬å¯èƒ½å¦‚ä½•ä½¿ç”¨ä¿¡æ¯</h2><p>æˆ‘ä»¬å¯èƒ½å°†åœ¨å‘æ‚¨æä¾›æœåŠ¡çš„è¿‡ç¨‹ä¹‹ä¸­æ‰€æ”¶é›†çš„ä¿¡æ¯ç”¨ä½œä¸‹åˆ—ç”¨é€”ï¼š</p>
<p>å‘æ‚¨æä¾›æœåŠ¡ï¼›</p>
<p>åœ¨æˆ‘ä»¬æä¾›æœåŠ¡æ—¶ï¼Œç”¨äºèº«ä»½éªŒè¯ã€å®¢æˆ·æœåŠ¡ã€å®‰å…¨é˜²èŒƒã€è¯ˆéª—ç›‘æµ‹ã€å­˜æ¡£å’Œå¤‡ä»½ç”¨é€”ï¼Œç¡®ä¿æˆ‘ä»¬å‘æ‚¨æä¾›çš„äº§å“å’ŒæœåŠ¡çš„å®‰å…¨æ€§ï¼›</p>
<p>å¸®åŠ©æˆ‘ä»¬è®¾è®¡æ–°æœåŠ¡ï¼Œæ”¹å–„æˆ‘ä»¬ç°æœ‰æœåŠ¡ï¼›</p>
<p>ä½¿æˆ‘ä»¬æ›´åŠ äº†è§£æ‚¨å¦‚ä½•æ¥å…¥å’Œä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ï¼Œä»è€Œé’ˆå¯¹æ€§åœ°å›åº”æ‚¨çš„ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œä¾‹å¦‚è¯­è¨€è®¾å®šã€ä½ç½®è®¾å®šã€ä¸ªæ€§åŒ–çš„å¸®åŠ©æœåŠ¡å’ŒæŒ‡ç¤ºï¼Œæˆ–å¯¹æ‚¨å’Œå…¶ä»–ç”¨æˆ·ä½œå‡ºå…¶ä»–æ–¹é¢çš„å›åº”ï¼›</p>
<p>å‘æ‚¨æä¾›ä¸æ‚¨æ›´åŠ ç›¸å…³çš„å¹¿å‘Šä»¥æ›¿ä»£æ™®éæŠ•æ”¾çš„å¹¿å‘Šï¼›</p>
<p>è¯„ä¼°æˆ‘ä»¬æœåŠ¡ä¸­çš„å¹¿å‘Šå’Œå…¶ä»–ä¿ƒé”€åŠæ¨å¹¿æ´»åŠ¨çš„æ•ˆæœï¼Œå¹¶åŠ ä»¥æ”¹å–„ï¼›</p>
<p>è½¯ä»¶è®¤è¯æˆ–ç®¡ç†è½¯ä»¶å‡çº§ï¼›</p>
<p>è®©æ‚¨å‚ä¸æœ‰å…³æˆ‘ä»¬äº§å“å’ŒæœåŠ¡çš„è°ƒæŸ¥ã€‚</p>
<p>ä¸ºäº†è®©æ‚¨æœ‰æ›´å¥½çš„ä½“éªŒã€æ”¹å–„æˆ‘ä»¬çš„æœåŠ¡æˆ–æ‚¨åŒæ„çš„å…¶ä»–ç”¨é€”ï¼Œåœ¨ç¬¦åˆç›¸å…³æ³•å¾‹æ³•è§„çš„å‰æä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½å°†é€šè¿‡æŸä¸€é¡¹æœåŠ¡æ‰€æ”¶é›†çš„ä¿¡æ¯ï¼Œä»¥æ±‡é›†ä¿¡æ¯æˆ–è€…ä¸ªæ€§åŒ–çš„æ–¹å¼ï¼Œç”¨äºæˆ‘ä»¬çš„å…¶ä»–æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„ä¸€é¡¹æœåŠ¡æ—¶æ‰€æ”¶é›†çš„ä¿¡æ¯ï¼Œå¯èƒ½åœ¨å¦ä¸€æœåŠ¡ä¸­ç”¨äºå‘æ‚¨æä¾›ç‰¹å®šå†…å®¹ï¼Œæˆ–å‘æ‚¨å±•ç¤ºä¸æ‚¨ç›¸å…³çš„ã€éæ™®éæ¨é€çš„ä¿¡æ¯ã€‚å¦‚æœæˆ‘ä»¬åœ¨ç›¸å…³æœåŠ¡ä¸­æä¾›äº†ç›¸åº”é€‰é¡¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥æˆæƒæˆ‘ä»¬å°†è¯¥æœåŠ¡æ‰€æä¾›å’Œå‚¨å­˜çš„ä¿¡æ¯ç”¨äºæˆ‘ä»¬çš„å…¶ä»–æœåŠ¡ã€‚</p>
<p>æˆ‘ä»¬å°†å°½ä¸€åˆ‡å¯èƒ½é‡‡å–é€‚å½“çš„æŠ€æœ¯æ‰‹æ®µï¼Œä¿è¯æ‚¨å¯ä»¥è®¿é—®ã€æ›´æ–°å’Œæ›´æ­£è‡ªå·±çš„æ³¨å†Œä¿¡æ¯æˆ–ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶æä¾›çš„å…¶ä»–ä¸ªäººä¿¡æ¯ã€‚åœ¨è®¿é—®ã€æ›´æ–°ã€æ›´æ­£å’Œåˆ é™¤å‰è¿°ä¿¡æ¯æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè¦æ±‚æ‚¨è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä»¥ä¿éšœè´¦æˆ·å®‰å…¨ã€‚</p>
<h3 id="æˆ‘ä»¬å¯èƒ½åˆ†äº«çš„ä¿¡æ¯"><a href="#æˆ‘ä»¬å¯èƒ½åˆ†äº«çš„ä¿¡æ¯" class="headerlink" title="æˆ‘ä»¬å¯èƒ½åˆ†äº«çš„ä¿¡æ¯"></a>æˆ‘ä»¬å¯èƒ½åˆ†äº«çš„ä¿¡æ¯</h3><p>é™¤ä»¥ä¸‹æƒ…å½¢å¤–ï¼Œæœªç»æ‚¨åŒæ„ï¼Œæˆ‘ä»¬ä¸ä¼šä¸ä»»ä½•ç¬¬ä¸‰æ–¹åˆ†äº«æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼š</p>
<p>æˆ‘ä»¬å¯èƒ½å°†æ‚¨çš„ä¸ªäººä¿¡æ¯ä¸ç¬¬ä¸‰æ–¹æœåŠ¡ä¾›åº”å•†ã€æ‰¿åŒ…å•†åŠä»£ç†ï¼ˆä¾‹å¦‚ä»£è¡¨æˆ‘ä»¬å‘å‡ºç”µå­é‚®ä»¶æˆ–æ¨é€é€šçŸ¥çš„é€šè®¯æœåŠ¡æä¾›å•†ã€ä¸ºæˆ‘ä»¬æä¾›ä½ç½®æ•°æ®çš„åœ°å›¾æœåŠ¡ä¾›åº”å•†ï¼‰åˆ†äº«ï¼ˆä»–ä»¬å¯èƒ½å¹¶éä½äºæ‚¨æ‰€åœ¨çš„æ³•åŸŸï¼‰ï¼Œç”¨ä½œä¸‹åˆ—ç”¨é€”ï¼š</p>
<p>å‘æ‚¨æä¾›æˆ‘ä»¬çš„æœåŠ¡ï¼›</p>
<p>å®ç°â€œæˆ‘ä»¬å¯èƒ½å¦‚ä½•ä½¿ç”¨ä¿¡æ¯â€éƒ¨åˆ†æ‰€è¿°ç›®çš„ï¼›</p>
<p>å±¥è¡Œæˆ‘ä»¬åœ¨æœ¬ã€Šéšç§æ”¿ç­–ã€‹ä¸­çš„ä¹‰åŠ¡å’Œè¡Œä½¿æˆ‘ä»¬çš„æƒåˆ©ï¼›</p>
<p>ç†è§£ã€ç»´æŠ¤å’Œæ”¹å–„æˆ‘ä»¬çš„æœåŠ¡ã€‚</p>
<p>å¦‚æˆ‘ä»¬ä¸ä»»ä½•ä¸Šè¿°ç¬¬ä¸‰æ–¹åˆ†äº«æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼Œæˆ‘ä»¬å°†åŠªåŠ›ç¡®ä¿è¯¥ç­‰ç¬¬ä¸‰æ–¹åœ¨ä½¿ç”¨æ‚¨çš„ä¸ªäººä¿¡æ¯æ—¶éµå®ˆæœ¬ã€Šéšç§æ”¿ç­–ã€‹åŠæˆ‘ä»¬è¦æ±‚å…¶éµå®ˆçš„å…¶ä»–é€‚å½“çš„ä¿å¯†å’Œå®‰å…¨æªæ–½ã€‚</p>
<p>éšç€æˆ‘ä»¬ä¸šåŠ¡çš„æŒç»­å‘å±•ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½è¿›è¡Œåˆå¹¶ã€æ”¶è´­ã€èµ„äº§è½¬è®©æˆ–ç±»ä¼¼çš„äº¤æ˜“ï¼Œæ‚¨çš„ä¸ªäººä¿¡æ¯æœ‰å¯èƒ½ä½œä¸ºæ­¤ç±»äº¤æ˜“çš„ä¸€éƒ¨åˆ†è€Œè¢«è½¬ç§»ã€‚æˆ‘ä»¬å°†åœ¨è½¬ç§»å‰é€šçŸ¥æ‚¨ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯èƒ½ä¸ºä»¥ä¸‹éœ€è¦è€Œä¿ç•™ã€ä¿å­˜æˆ–æŠ«éœ²æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼š</p>
<p>éµå®ˆé€‚ç”¨çš„æ³•å¾‹æ³•è§„ï¼›</p>
<p>éµå®ˆæ³•é™¢å‘½ä»¤æˆ–å…¶ä»–æ³•å¾‹ç¨‹åºçš„è§„å®šï¼›</p>
<p>éµå®ˆç›¸å…³æ”¿åºœæœºå…³çš„è¦æ±‚ï¼›</p>
<p>ä¸ºéµå®ˆé€‚ç”¨çš„æ³•å¾‹æ³•è§„ã€ç»´æŠ¤ç¤¾ä¼šå…¬å…±åˆ©ç›Šï¼Œæˆ–ä¿æŠ¤æˆ‘ä»¬çš„å®¢æˆ·ã€æˆ‘ä»¬ã€å…¶ä»–ç”¨æˆ·çš„äººèº«å’Œè´¢äº§å®‰å…¨æˆ–åˆæ³•æƒç›Šæ‰€åˆç†å¿…éœ€çš„ç”¨é€”.</p>
<h2 id="ä¿¡æ¯å®‰å…¨"><a href="#ä¿¡æ¯å®‰å…¨" class="headerlink" title="ä¿¡æ¯å®‰å…¨"></a>ä¿¡æ¯å®‰å…¨</h2><p>æˆ‘ä»¬ä»…åœ¨æœ¬ã€Šéšç§æ”¿ç­–ã€‹æ‰€è¿°ç›®çš„æ‰€å¿…éœ€çš„æœŸé—´å’Œæ³•å¾‹æ³•è§„è¦æ±‚çš„æ—¶é™å†…ä¿ç•™æ‚¨çš„ä¸ªäººä¿¡æ¯ã€‚ </p>
<p>æˆ‘ä»¬ä½¿ç”¨å„ç§å®‰å…¨æŠ€æœ¯å’Œç¨‹åºï¼Œä»¥é˜²ä¿¡æ¯çš„ä¸¢å¤±ã€ä¸å½“ä½¿ç”¨ã€æœªç»æˆæƒé˜…è§ˆæˆ–æŠ«éœ²ã€‚</p>
<p>ä¾‹å¦‚ï¼Œåœ¨æŸäº›æœåŠ¡ä¸­ï¼Œæˆ‘ä»¬å°†åˆ©ç”¨åŠ å¯†æŠ€æœ¯ï¼ˆä¾‹å¦‚SSLï¼‰æ¥ä¿æŠ¤æ‚¨æä¾›çš„ä¸ªäººä¿¡æ¯ã€‚</p>
<p>ä½†è¯·æ‚¨ç†è§£ï¼Œç”±äºæŠ€æœ¯çš„é™åˆ¶ä»¥åŠå¯èƒ½å­˜åœ¨çš„å„ç§æ¶æ„æ‰‹æ®µï¼Œåœ¨äº’è”ç½‘è¡Œä¸šï¼Œå³ä¾¿ç«­å°½æ‰€èƒ½åŠ å¼ºå®‰å…¨æªæ–½ï¼Œä¹Ÿä¸å¯èƒ½å§‹ç»ˆä¿è¯ä¿¡æ¯ç™¾åˆ†ä¹‹ç™¾çš„å®‰å…¨ã€‚</p>
<p>æ‚¨éœ€è¦äº†è§£ï¼Œæ‚¨æ¥å…¥æˆ‘ä»¬çš„æœåŠ¡æ‰€ç”¨çš„ç³»ç»Ÿå’Œé€šè®¯ç½‘ç»œï¼Œæœ‰å¯èƒ½å› æˆ‘ä»¬å¯æ§èŒƒå›´å¤–çš„å› ç´ è€Œå‡ºç°é—®é¢˜ã€‚</p>
<h3 id="æ‚¨åˆ†äº«çš„ä¿¡æ¯"><a href="#æ‚¨åˆ†äº«çš„ä¿¡æ¯" class="headerlink" title="æ‚¨åˆ†äº«çš„ä¿¡æ¯"></a>æ‚¨åˆ†äº«çš„ä¿¡æ¯</h3><p>æˆ‘ä»¬çš„å¤šé¡¹æœåŠ¡ï¼Œå¯è®©æ‚¨ä¸ä»…ä¸è‡ªå·±çš„ç¤¾äº¤ç½‘ç»œï¼Œä¹Ÿä¸ä½¿ç”¨è¯¥æœåŠ¡çš„æ‰€æœ‰ç”¨æˆ·å…¬å¼€åˆ†äº«æ‚¨çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œæ‚¨åœ¨æˆ‘ä»¬çš„æœåŠ¡ä¸­æ‰€ä¸Šä¼ æˆ–å‘å¸ƒçš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬æ‚¨å…¬å¼€çš„ä¸ªäººä¿¡æ¯ã€æ‚¨å»ºç«‹çš„åå•ï¼‰ã€æ‚¨å¯¹å…¶ä»–äººä¸Šä¼ æˆ–å‘å¸ƒçš„ä¿¡æ¯ä½œå‡ºçš„å›åº”ï¼Œä»¥åŠåŒ…æ‹¬ä¸è¿™äº›ä¿¡æ¯æœ‰å…³çš„ä½ç½®æ•°æ®å’Œæ—¥å¿—ä¿¡æ¯ã€‚</p>
<p>ä½¿ç”¨æˆ‘ä»¬æœåŠ¡çš„å…¶ä»–ç”¨æˆ·ä¹Ÿæœ‰å¯èƒ½åˆ†äº«ä¸æ‚¨æœ‰å…³çš„ä¿¡æ¯ï¼ˆåŒ…æ‹¬ä½ç½®æ•°æ®å’Œæ—¥å¿—ä¿¡æ¯ï¼‰ã€‚</p>
<p>ç‰¹åˆ«æ˜¯ï¼Œæˆ‘ä»¬çš„ç¤¾äº¤åª’ä½“æœåŠ¡ï¼Œæ˜¯ä¸“ä¸ºä½¿æ‚¨ä¸ä¸–ç•Œå„åœ°çš„ç”¨æˆ·å…±äº«ä¿¡æ¯è€Œè®¾è®¡ï¼Œæ‚¨å¯ä»¥ä½¿å…±äº«ä¿¡æ¯å®æ—¶ã€å¹¿æ³›åœ°ä¼ é€’ã€‚</p>
<p>åªè¦æ‚¨ä¸åˆ é™¤å…±äº«ä¿¡æ¯ï¼Œæœ‰å…³ä¿¡æ¯ä¼šä¸€ç›´ç•™å­˜åœ¨å…¬å…±é¢†åŸŸï¼›</p>
<p>å³ä½¿æ‚¨åˆ é™¤å…±äº«ä¿¡æ¯ï¼Œæœ‰å…³ä¿¡æ¯ä»å¯èƒ½ç”±å…¶ä»–ç”¨æˆ·æˆ–ä¸å—æˆ‘ä»¬æ§åˆ¶çš„éå…³è”ç¬¬ä¸‰æ–¹ç‹¬ç«‹åœ°ç¼“å­˜ã€å¤åˆ¶æˆ–å‚¨å­˜ï¼Œæˆ–ç”±å…¶ä»–ç”¨æˆ·æˆ–è¯¥ç­‰ç¬¬ä¸‰æ–¹åœ¨å…¬å…±é¢†åŸŸä¿å­˜ã€‚</p>
<p>å› æ­¤ï¼Œè¯·æ‚¨è°¨æ…è€ƒè™‘é€šè¿‡æˆ‘ä»¬çš„æœåŠ¡ä¸Šä¼ ã€å‘å¸ƒå’Œäº¤æµçš„ä¿¡æ¯å†…å®¹ã€‚</p>
<p>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯é€šè¿‡æˆ‘ä»¬æŸäº›æœåŠ¡çš„éšç§è®¾å®šæ¥æ§åˆ¶æœ‰æƒæµè§ˆæ‚¨å…±äº«ä¿¡æ¯çš„ç”¨æˆ·èŒƒå›´ã€‚</p>
<p>å¦‚è¦æ±‚ä»æˆ‘ä»¬çš„æœåŠ¡ä¸­åˆ é™¤æ‚¨çš„ç›¸å…³ä¿¡æ¯ï¼Œè¯·é€šè¿‡è¯¥ç­‰ç‰¹åˆ«æœåŠ¡æ¡æ¬¾æä¾›çš„æ–¹å¼æ“ä½œã€‚</p>
<h2 id="æ‚¨åˆ†äº«çš„æ•æ„Ÿä¸ªäººä¿¡æ¯"><a href="#æ‚¨åˆ†äº«çš„æ•æ„Ÿä¸ªäººä¿¡æ¯" class="headerlink" title="æ‚¨åˆ†äº«çš„æ•æ„Ÿä¸ªäººä¿¡æ¯"></a>æ‚¨åˆ†äº«çš„æ•æ„Ÿä¸ªäººä¿¡æ¯</h2><p>æŸäº›ä¸ªäººä¿¡æ¯å› å…¶ç‰¹æ®Šæ€§å¯èƒ½è¢«è®¤ä¸ºæ˜¯æ•æ„Ÿä¸ªäººä¿¡æ¯ï¼Œä¾‹å¦‚æ‚¨çš„ç§æ—ã€å®—æ•™ã€ä¸ªäººå¥åº·å’ŒåŒ»ç–—ä¿¡æ¯ç­‰ã€‚ç›¸æ¯”å…¶ä»–ä¸ªäººä¿¡æ¯ï¼Œæ•æ„Ÿä¸ªäººä¿¡æ¯å—åˆ°æ›´åŠ ä¸¥æ ¼çš„ä¿æŠ¤ã€‚</p>
<p>è¯·æ³¨æ„ï¼Œæ‚¨åœ¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶æ‰€æä¾›ã€ä¸Šä¼ æˆ–å‘å¸ƒçš„å†…å®¹å’Œä¿¡æ¯ï¼ˆä¾‹å¦‚æœ‰å…³æ‚¨ç¤¾äº¤æ´»åŠ¨çš„ç…§ç‰‡ç­‰ä¿¡æ¯ï¼‰ï¼Œå¯èƒ½ä¼šæ³„éœ²æ‚¨çš„æ•æ„Ÿä¸ªäººä¿¡æ¯ã€‚æ‚¨éœ€è¦è°¨æ…åœ°è€ƒè™‘ï¼Œæ˜¯å¦åœ¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶æŠ«éœ²ç›¸å…³æ•æ„Ÿä¸ªäººä¿¡æ¯ã€‚</p>
<p>æ‚¨åŒæ„æŒ‰æœ¬ã€Šéšç§æ”¿ç­–ã€‹æ‰€è¿°çš„ç›®çš„å’Œæ–¹å¼æ¥å¤„ç†æ‚¨çš„æ•æ„Ÿä¸ªäººä¿¡æ¯ã€‚</p>
<h2 id="æˆ‘ä»¬å¯èƒ½å¦‚ä½•æ”¶é›†ä¿¡æ¯"><a href="#æˆ‘ä»¬å¯èƒ½å¦‚ä½•æ”¶é›†ä¿¡æ¯" class="headerlink" title="æˆ‘ä»¬å¯èƒ½å¦‚ä½•æ”¶é›†ä¿¡æ¯"></a>æˆ‘ä»¬å¯èƒ½å¦‚ä½•æ”¶é›†ä¿¡æ¯</h2><p>æˆ‘ä»¬æˆ–æˆ‘ä»¬çš„ç¬¬ä¸‰æ–¹åˆä½œä¼™ä¼´ï¼Œå¯èƒ½é€šè¿‡cookieså’Œweb beaconæ”¶é›†å’Œä½¿ç”¨æ‚¨çš„ä¿¡æ¯ï¼Œå¹¶å°†è¯¥ç­‰ä¿¡æ¯å‚¨å­˜ä¸ºæ—¥å¿—ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨è‡ªå·±çš„cookieså’Œweb beaconï¼Œç›®çš„æ˜¯ä¸ºæ‚¨æä¾›æ›´ä¸ªæ€§åŒ–çš„ç”¨æˆ·ä½“éªŒå’ŒæœåŠ¡ï¼Œå¹¶ç”¨äºä»¥ä¸‹ç”¨é€”ï¼š</p>
<p>è®°ä½æ‚¨çš„èº«ä»½ã€‚</p>
<p>ä¾‹å¦‚ï¼šcookieså’Œweb beaconæœ‰åŠ©äºæˆ‘ä»¬è¾¨è®¤æ‚¨ä½œä¸ºæˆ‘ä»¬çš„æ³¨å†Œç”¨æˆ·çš„èº«ä»½ï¼Œæˆ–ä¿å­˜æ‚¨å‘æˆ‘ä»¬æä¾›çš„æœ‰å…³æ‚¨çš„å–œå¥½æˆ–å…¶ä»–ä¿¡æ¯ï¼›</p>
<p>åˆ†ææ‚¨ä½¿ç”¨æˆ‘ä»¬æœåŠ¡çš„æƒ…å†µã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯åˆ©ç”¨cookieså’Œweb beaconæ¥äº†è§£æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡è¿›è¡Œä»€ä¹ˆæ´»åŠ¨ï¼Œæˆ–å“ªäº›ç½‘é¡µæˆ–æœåŠ¡æœ€å—æ‚¨çš„æ¬¢è¿ï¼›</p>
<h2 id="å¹¿å‘Šä¼˜åŒ–"><a href="#å¹¿å‘Šä¼˜åŒ–" class="headerlink" title="å¹¿å‘Šä¼˜åŒ–"></a>å¹¿å‘Šä¼˜åŒ–</h2><p>Cookieså’Œweb beaconæœ‰åŠ©äºæˆ‘ä»¬æ ¹æ®æ‚¨çš„ä¿¡æ¯ï¼Œå‘æ‚¨æä¾›ä¸æ‚¨ç›¸å…³çš„å¹¿å‘Šè€Œéè¿›è¡Œæ™®éçš„å¹¿å‘ŠæŠ•æ”¾ã€‚</p>
<p>æˆ‘ä»¬ä¸ºä¸Šè¿°ç›®çš„ä½¿ç”¨cookieså’Œweb beaconçš„åŒæ—¶ï¼Œå¯èƒ½å°†é€šè¿‡cookieså’Œweb beaconæ”¶é›†çš„éä¸ªäººèº«ä»½ä¿¡æ¯ï¼Œç»ç»Ÿè®¡åŠ å·¥åæä¾›ç»™å¹¿å‘Šå•†æˆ–å…¶ä»–åˆä½œä¼™ä¼´ï¼Œç”¨äºåˆ†æç”¨æˆ·å¦‚ä½•ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ï¼Œå¹¶ç”¨äºå¹¿å‘ŠæœåŠ¡ã€‚</p>
<p>æˆ‘ä»¬çš„äº§å“å’ŒæœåŠ¡ä¸Šå¯èƒ½ä¼šæœ‰å¹¿å‘Šå•†æˆ–å…¶ä»–åˆä½œæ–¹æ”¾ç½®çš„cookieså’Œweb beaconã€‚è¿™äº›cookieså’Œweb beaconå¯èƒ½ä¼šæ”¶é›†ä¸æ‚¨ç›¸å…³çš„éä¸ªäººèº«ä»½ä¿¡æ¯ï¼Œä»¥ç”¨äºåˆ†æç”¨æˆ·å¦‚ä½•ä½¿ç”¨è¯¥ç­‰æœåŠ¡ã€å‘æ‚¨å‘é€æ‚¨å¯èƒ½æ„Ÿå…´è¶£çš„å¹¿å‘Šï¼Œæˆ–ç”¨äºè¯„ä¼°å¹¿å‘ŠæœåŠ¡çš„æ•ˆæœã€‚</p>
<p>è¿™äº›ç¬¬ä¸‰æ–¹cookieså’Œweb beaconæ”¶é›†å’Œä½¿ç”¨è¯¥ç­‰ä¿¡æ¯ï¼Œä¸å—æœ¬ã€Šéšç§æ”¿ç­–ã€‹çº¦æŸï¼Œè€Œæ˜¯å—ç›¸å…³ä½¿ç”¨è€…çš„éšç§æ”¿ç­–çº¦æŸï¼Œæˆ‘ä»¬ä¸å¯¹ç¬¬ä¸‰æ–¹çš„cookiesæˆ–web beaconæ‰¿æ‹…è´£ä»»ã€‚</p>
<p>æ‚¨å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¾ç½®æ‹’ç»æˆ–ç®¡ç†cookiesæˆ–web beaconã€‚</p>
<p>ä½†è¯·æ³¨æ„ï¼Œå¦‚æœåœç”¨cookiesæˆ–web beaconï¼Œæ‚¨æœ‰å¯èƒ½æ— æ³•äº«å—æœ€ä½³çš„æœåŠ¡ä½“éªŒï¼ŒæŸäº›æœåŠ¡ä¹Ÿå¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>åŒæ—¶ï¼Œæ‚¨è¿˜ä¼šæ”¶åˆ°åŒæ ·æ•°é‡çš„å¹¿å‘Šï¼Œä½†è¿™äº›å¹¿å‘Šä¸æ‚¨çš„ç›¸å…³æ€§ä¼šé™ä½ã€‚</p>
<h2 id="å¹¿å‘ŠæœåŠ¡"><a href="#å¹¿å‘ŠæœåŠ¡" class="headerlink" title="å¹¿å‘ŠæœåŠ¡"></a>å¹¿å‘ŠæœåŠ¡</h2><p>æˆ‘ä»¬å¯èƒ½ä½¿ç”¨æ‚¨çš„ç›¸å…³ä¿¡æ¯ï¼Œå‘æ‚¨æä¾›ä¸æ‚¨æ›´åŠ ç›¸å…³çš„å¹¿å‘Šã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯èƒ½ä½¿ç”¨æ‚¨çš„ä¿¡æ¯ï¼Œé€šè¿‡æˆ‘ä»¬çš„æœåŠ¡ã€ç”µå­é‚®ä»¶æˆ–å…¶ä»–æ–¹å¼å‘æ‚¨å‘é€è¥é”€ä¿¡æ¯ï¼Œæä¾›æˆ–æ¨å¹¿æˆ‘ä»¬æˆ–ç¬¬ä¸‰æ–¹çš„å¦‚ä¸‹å•†å“å’ŒæœåŠ¡ï¼š</p>
<p>æˆ‘ä»¬çš„æœåŠ¡ï¼Œæˆ‘ä»¬çš„å…³è”å…¬å¸å’Œåˆä½œä¼™ä¼´çš„å•†å“æˆ–æœåŠ¡ï¼ŒåŒ…æ‹¬å³æ—¶é€šè®¯æœåŠ¡ã€ç½‘ä¸Šåª’ä½“æœåŠ¡ã€äº’åŠ¨å¨±ä¹æœåŠ¡ã€ç¤¾äº¤ç½‘ç»œæœåŠ¡ã€ä»˜æ¬¾æœåŠ¡ã€äº’è”ç½‘æœç´¢æœåŠ¡ã€ä½ç½®å’Œåœ°å›¾æœåŠ¡ã€åº”ç”¨è½¯ä»¶å’ŒæœåŠ¡ã€æ•°æ®ç®¡ç†è½¯ä»¶å’ŒæœåŠ¡ã€ç½‘ä¸Šå¹¿å‘ŠæœåŠ¡ã€äº’è”ç½‘é‡‘èï¼Œä»¥åŠå…¶ä»–ç¤¾äº¤åª’ä½“ã€å¨±ä¹ã€ç”µå­å•†åŠ¡ã€èµ„è®¯å’Œé€šè®¯è½¯ä»¶æˆ–æœåŠ¡ï¼ˆç»Ÿç§°â€œäº’è”ç½‘æœåŠ¡â€ï¼‰ï¼›</p>
<p>ç¬¬ä¸‰æ–¹äº’è”ç½‘æœåŠ¡ä¾›åº”å•†ï¼Œä»¥åŠä¸ä¸‹åˆ—æœ‰å…³çš„ç¬¬ä¸‰æ–¹å•†å“æˆ–æœåŠ¡ï¼šé£Ÿç‰©å’Œé¤é¥®ã€ä½“è‚²ã€éŸ³ä¹ã€ç”µå½±ã€ç”µè§†ã€ç°åœºè¡¨æ¼”åŠå…¶ä»–è‰ºæœ¯å’Œå¨±ä¹ã€ä¹¦å†Œã€æ‚å¿—å’Œå…¶ä»–åˆŠç‰©ã€æœè£…å’Œé…é¥°ã€ç å®ã€åŒ–å¦†å“ã€ä¸ªäººå¥åº·å’Œå«ç”Ÿã€ç”µå­ã€æ”¶è—å“ã€å®¶ç”¨å™¨çš¿ã€ç”µå™¨ã€å®¶å±…è£…é¥°å’Œæ‘†è®¾ã€å® ç‰©ã€æ±½è½¦ã€é…’åº—ã€äº¤é€šå’Œæ—…æ¸¸ã€é“¶è¡Œã€ä¿é™©åŠå…¶ä»–é‡‘èæœåŠ¡ã€ä¼šå‘˜ç§¯åˆ†å’Œå¥–åŠ±è®¡åˆ’ï¼Œä»¥åŠæˆ‘ä»¬è®¤ä¸ºå¯èƒ½ä¸æ‚¨ç›¸å…³çš„å…¶ä»–å•†å“æˆ–æœåŠ¡ã€‚</p>
<p>å¦‚æ‚¨ä¸å¸Œæœ›æˆ‘ä»¬å°†æ‚¨çš„ä¸ªäººä¿¡æ¯ç”¨ä½œå‰è¿°å¹¿å‘Šç”¨é€”ï¼Œæ‚¨å¯ä»¥é€šè¿‡æˆ‘ä»¬åœ¨å¹¿å‘Šä¸­æä¾›çš„ç›¸å…³æç¤ºï¼Œæˆ–åœ¨ç‰¹å®šæœåŠ¡ä¸­æä¾›çš„æŒ‡å¼•ï¼Œè¦æ±‚æˆ‘ä»¬åœæ­¢ä¸ºä¸Šè¿°ç”¨é€”ä½¿ç”¨æ‚¨çš„ä¸ªäººä¿¡æ¯ã€‚</p>
<h2 id="æˆ‘ä»¬å¯èƒ½å‘æ‚¨å‘é€çš„é‚®ä»¶å’Œä¿¡æ¯"><a href="#æˆ‘ä»¬å¯èƒ½å‘æ‚¨å‘é€çš„é‚®ä»¶å’Œä¿¡æ¯" class="headerlink" title="æˆ‘ä»¬å¯èƒ½å‘æ‚¨å‘é€çš„é‚®ä»¶å’Œä¿¡æ¯"></a>æˆ‘ä»¬å¯èƒ½å‘æ‚¨å‘é€çš„é‚®ä»¶å’Œä¿¡æ¯</h2><h3 id="é‚®ä»¶å’Œä¿¡æ¯æ¨é€"><a href="#é‚®ä»¶å’Œä¿¡æ¯æ¨é€" class="headerlink" title="é‚®ä»¶å’Œä¿¡æ¯æ¨é€"></a>é‚®ä»¶å’Œä¿¡æ¯æ¨é€</h3><p>æ‚¨åœ¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä½¿ç”¨æ‚¨çš„ä¿¡æ¯å‘æ‚¨çš„è®¾å¤‡å‘é€ç”µå­é‚®ä»¶ã€æ–°é—»æˆ–æ¨é€é€šçŸ¥ã€‚</p>
<p>å¦‚æ‚¨ä¸å¸Œæœ›æ”¶åˆ°è¿™äº›ä¿¡æ¯ï¼Œå¯ä»¥æŒ‰ç…§æˆ‘ä»¬çš„ç›¸å…³æç¤ºï¼Œåœ¨è®¾å¤‡ä¸Šé€‰æ‹©å–æ¶ˆè®¢é˜…ã€‚</p>
<h3 id="ä¸æœåŠ¡æœ‰å…³çš„å…¬å‘Š"><a href="#ä¸æœåŠ¡æœ‰å…³çš„å…¬å‘Š" class="headerlink" title="ä¸æœåŠ¡æœ‰å…³çš„å…¬å‘Š"></a>ä¸æœåŠ¡æœ‰å…³çš„å…¬å‘Š</h3><p>æˆ‘ä»¬å¯èƒ½åœ¨å¿…è¦æ—¶ï¼ˆä¾‹å¦‚å› ç³»ç»Ÿç»´æŠ¤è€Œæš‚åœæŸä¸€é¡¹æœåŠ¡æ—¶ï¼‰å‘æ‚¨å‘å‡ºä¸æœåŠ¡æœ‰å…³çš„å…¬å‘Šã€‚</p>
<p>æ‚¨å¯èƒ½æ— æ³•å–æ¶ˆè¿™äº›ä¸æœåŠ¡æœ‰å…³ã€æ€§è´¨ä¸å±äºæ¨å¹¿çš„å…¬å‘Šã€‚</p>
<h2 id="éšç§æ”¿ç­–çš„é€‚ç”¨ä¾‹å¤–"><a href="#éšç§æ”¿ç­–çš„é€‚ç”¨ä¾‹å¤–" class="headerlink" title="éšç§æ”¿ç­–çš„é€‚ç”¨ä¾‹å¤–"></a>éšç§æ”¿ç­–çš„é€‚ç”¨ä¾‹å¤–</h2><p>æˆ‘ä»¬çš„æœåŠ¡å¯èƒ½åŒ…æ‹¬æˆ–é“¾æ¥è‡³ç¬¬ä¸‰æ–¹æä¾›çš„ç¤¾äº¤åª’ä½“æˆ–å…¶ä»–æœåŠ¡ï¼ˆåŒ…æ‹¬ç½‘ç«™ï¼‰ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<p>æ‚¨åˆ©ç”¨ â€œåˆ†äº«â€é”®å°†æŸäº›å†…å®¹åˆ†äº«åˆ°æˆ‘ä»¬çš„æœåŠ¡ï¼Œæˆ–æ‚¨åˆ©ç”¨ç¬¬ä¸‰æ–¹è¿çº¿æœåŠ¡ç™»å½•æˆ‘ä»¬çš„æœåŠ¡ã€‚è¿™äº›åŠŸèƒ½å¯èƒ½ä¼šæ”¶é›†æ‚¨çš„ç›¸å…³ä¿¡æ¯ï¼ˆåŒ…æ‹¬æ‚¨çš„æ—¥å¿—ä¿¡æ¯ï¼‰ï¼Œå¹¶å¯èƒ½åœ¨æ‚¨çš„ç”µè„‘è£…ç½®cookiesï¼Œä»è€Œæ­£å¸¸è¿è¡Œä¸Šè¿°åŠŸèƒ½ï¼›</p>
<p>æˆ‘ä»¬é€šè¿‡å¹¿å‘Šæˆ–æˆ‘ä»¬æœåŠ¡çš„å…¶ä»–æ–¹å¼å‘æ‚¨æä¾›é“¾æ¥ï¼Œä½¿æ‚¨å¯ä»¥æ¥å…¥ç¬¬ä¸‰æ–¹çš„æœåŠ¡æˆ–ç½‘ç«™ã€‚</p>
<p>è¯¥ç­‰ç¬¬ä¸‰æ–¹ç¤¾äº¤åª’ä½“æˆ–å…¶ä»–æœåŠ¡å¯èƒ½ç”±ç›¸å…³çš„ç¬¬ä¸‰æ–¹æˆ–æˆ‘ä»¬è¿è¥ã€‚æ‚¨ä½¿ç”¨è¯¥ç­‰ç¬¬ä¸‰æ–¹çš„ç¤¾äº¤åª’ä½“æœåŠ¡æˆ–å…¶ä»–æœåŠ¡ï¼ˆåŒ…æ‹¬æ‚¨å‘è¯¥ç­‰ç¬¬ä¸‰æ–¹æä¾›çš„ä»»ä½•ä¸ªäººä¿¡æ¯ï¼‰ï¼Œé¡»å—è¯¥ç¬¬ä¸‰æ–¹çš„æœåŠ¡æ¡æ¬¾åŠéšç§æ”¿ç­–ï¼ˆè€Œéã€Šé€šç”¨æœåŠ¡æ¡æ¬¾ã€‹æˆ–æœ¬ã€Šéšç§æ”¿ç­–ã€‹ï¼‰çº¦æŸï¼Œæ‚¨éœ€è¦ä»”ç»†é˜…è¯»å…¶æ¡æ¬¾ã€‚</p>
<p>æœ¬ã€Šéšç§æ”¿ç­–ã€‹ä»…é€‚ç”¨äºæˆ‘ä»¬æ‰€æ”¶é›†çš„ä¿¡æ¯ï¼Œå¹¶ä¸é€‚ç”¨äºä»»ä½•ç¬¬ä¸‰æ–¹æä¾›çš„æœåŠ¡æˆ–ç¬¬ä¸‰æ–¹çš„ä¿¡æ¯ä½¿ç”¨è§„åˆ™ï¼Œæˆ‘ä»¬å¯¹ä»»ä½•ç¬¬ä¸‰æ–¹ä½¿ç”¨ç”±æ‚¨æä¾›çš„ä¿¡æ¯ä¸æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚</p>
<h2 id="æœªæˆå¹´äººä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡"><a href="#æœªæˆå¹´äººä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡" class="headerlink" title="æœªæˆå¹´äººä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡"></a>æœªæˆå¹´äººä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡</h2><p>æˆ‘ä»¬é¼“åŠ±çˆ¶æ¯æˆ–ç›‘æŠ¤äººæŒ‡å¯¼æœªæ»¡åå…«å²çš„æœªæˆå¹´äººä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ã€‚</p>
<p>æˆ‘ä»¬å»ºè®®æœªæˆå¹´äººé¼“åŠ±ä»–ä»¬çš„çˆ¶æ¯æˆ–ç›‘æŠ¤äººé˜…è¯»æœ¬ã€Šéšç§æ”¿ç­–ã€‹ï¼Œå¹¶å»ºè®®æœªæˆå¹´äººåœ¨æäº¤çš„ä¸ªäººä¿¡æ¯ä¹‹å‰å¯»æ±‚çˆ¶æ¯æˆ–ç›‘æŠ¤äººçš„åŒæ„å’ŒæŒ‡å¯¼ã€‚</p>
<h2 id="éšç§æ”¿ç­–çš„é€‚ç”¨èŒƒå›´"><a href="#éšç§æ”¿ç­–çš„é€‚ç”¨èŒƒå›´" class="headerlink" title="éšç§æ”¿ç­–çš„é€‚ç”¨èŒƒå›´"></a>éšç§æ”¿ç­–çš„é€‚ç”¨èŒƒå›´</h2><p>é™¤æŸäº›ç‰¹å®šæœåŠ¡å¤–ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„æœåŠ¡å‡é€‚ç”¨æœ¬ã€Šéšç§æ”¿ç­–ã€‹ã€‚</p>
<p>è¿™äº›ç‰¹å®šæœåŠ¡å°†é€‚ç”¨ç‰¹å®šçš„éšç§æ”¿ç­–ã€‚</p>
<p>é’ˆå¯¹æŸäº›ç‰¹å®šæœåŠ¡çš„ç‰¹å®šéšç§æ”¿ç­–ï¼Œå°†æ›´å…·ä½“åœ°è¯´æ˜æˆ‘ä»¬åœ¨è¯¥ç­‰æœåŠ¡ä¸­å¦‚ä½•ä½¿ç”¨æ‚¨çš„ä¿¡æ¯ã€‚</p>
<p>è¯¥ç‰¹å®šæœåŠ¡çš„éšç§æ”¿ç­–æ„æˆæœ¬ã€Šéšç§æ”¿ç­–ã€‹çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å¦‚ç›¸å…³ç‰¹å®šæœåŠ¡çš„éšç§æ”¿ç­–ä¸æœ¬ã€Šéšç§æ”¿ç­–ã€‹æœ‰ä¸ä¸€è‡´ä¹‹å¤„ï¼Œé€‚ç”¨è¯¥ç‰¹å®šæœåŠ¡çš„éšç§æ”¿ç­–ã€‚<br>è¯·æ‚¨æ³¨æ„ï¼Œæœ¬ã€Šéšç§æ”¿ç­–ã€‹ä¸é€‚ç”¨äºä»¥ä¸‹æƒ…å†µï¼š</p>
<p>é€šè¿‡æˆ‘ä»¬çš„æœåŠ¡è€Œæ¥å…¥çš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆåŒ…æ‹¬ä»»ä½•ç¬¬ä¸‰æ–¹ç½‘ç«™ï¼‰æ”¶é›†çš„ä¿¡æ¯ï¼›</p>
<p>é€šè¿‡åœ¨æˆ‘ä»¬æœåŠ¡ä¸­è¿›è¡Œå¹¿å‘ŠæœåŠ¡çš„å…¶ä»–å…¬å¸æˆ–æœºæ„æ‰€æ”¶é›†çš„ä¿¡æ¯ã€‚</p>
<h2 id="å˜æ›´"><a href="#å˜æ›´" class="headerlink" title="å˜æ›´"></a>å˜æ›´</h2><p>æˆ‘ä»¬å¯èƒ½é€‚æ—¶ä¿®è®¢æœ¬ã€Šéšç§æ”¿ç­–ã€‹çš„æ¡æ¬¾ï¼Œè¯¥ç­‰ä¿®è®¢æ„æˆæœ¬ã€Šéšç§æ”¿ç­–ã€‹çš„ä¸€éƒ¨åˆ†ã€‚</p>
<p>å¦‚è¯¥ç­‰ä¿®è®¢é€ æˆæ‚¨åœ¨æœ¬ã€Šéšç§æ”¿ç­–ã€‹ä¸‹æƒåˆ©çš„å®è´¨å‡å°‘ï¼Œæˆ‘ä»¬å°†åœ¨ä¿®è®¢ç”Ÿæ•ˆå‰é€šè¿‡åœ¨ä¸»é¡µä¸Šæ˜¾è‘—ä½ç½®æç¤ºæˆ–å‘æ‚¨å‘é€ç”µå­é‚®ä»¶æˆ–ä»¥å…¶ä»–æ–¹å¼é€šçŸ¥æ‚¨ã€‚</p>
<p>åœ¨è¯¥ç§æƒ…å†µä¸‹ï¼Œè‹¥æ‚¨ç»§ç»­ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ï¼Œå³è¡¨ç¤ºåŒæ„å—ç»ä¿®è®¢çš„æœ¬ã€Šéšç§æ”¿ç­–ã€‹çš„çº¦æŸã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>ç”¨æˆ·åè®®</title>
    <url>/agreement/User_agreement.html</url>
    <content><![CDATA[<h1 id="ç”¨æˆ·åè®®"><a href="#ç”¨æˆ·åè®®" class="headerlink" title="ç”¨æˆ·åè®®"></a>ç”¨æˆ·åè®®</h1><p>è¯·æ‚¨ä½¿ç”¨æœ¬äº§å“ä¹‹å‰ï¼Œè¯·åŠ¡å¿…ä»”ç»†é˜…è¯»å¹¶ç†è§£ã€Šç”¨æˆ·è®¸å¯ä½¿ç”¨åè®®ã€‹ï¼ˆä»¥ä¸‹ç®€ç§°â€œæœ¬åè®®â€ï¼‰ä¸­è§„å®šçš„å¤šæœ‰æƒåˆ©å’Œé™åˆ¶ã€‚</p>
<p>æˆ‘ä»¬ä¸€å‘å°Šé‡å¹¶ä¼šä¸¥æ ¼ä¿æŠ¤ç”¨æˆ·åœ¨ä½¿ç”¨æœ¬äº§å“æ—¶çš„åˆæ³•æƒç›Šï¼ˆåŒ…æ‹¬ç”¨æˆ·éšç§ã€ç”¨æˆ·æ•°æ®ç­‰ï¼‰ä¸å—åˆ°ä»»ä½•ä¾µçŠ¯ã€‚</p>
<p>æœ¬åè®®ï¼ˆåŒ…æ‹¬æœ¬æ–‡æœ€åéƒ¨åˆ†çš„éšç§æ”¿ç­–ï¼‰æ˜¯ç”¨æˆ·ï¼ˆåŒ…æ‹¬é€šè¿‡å„ç§åˆæ³•é€”å¾„è·å–åˆ°æœ¬äº§å“çš„è‡ªç„¶äººã€æ³•äººæˆ–å…¶ä»–ç»„ç»‡æœºæ„ï¼Œä»¥ä¸‹ç®€ç§°â€œç”¨æˆ·â€æˆ–â€œæ‚¨â€ï¼‰ä¸æˆ‘ä»¬ä¹‹é—´é’ˆå¯¹æœ¬äº§å“ç›¸å…³äº‹é¡¹æœ€ç»ˆçš„ã€å®Œæ•´çš„ä¸”æ’ä»–çš„åè®®ï¼Œå¹¶å–ä»£ã€åˆå¹¶ä¹‹å‰çš„å½“äº‹äººä¹‹é—´å…³äºä¸Šè¿°äº‹é¡¹çš„è®¨è®ºå’Œåè®®ã€‚</p>
<p>æœ¬åè®®å°†å¯¹ç”¨æˆ·ä½¿ç”¨æœ¬äº§å“çš„è¡Œä¸ºäº§ç”Ÿæ³•å¾‹çº¦æŸåŠ›ï¼Œæ‚¨å·²æ‰¿è¯ºå’Œä¿è¯æœ‰æƒåˆ©å’Œèƒ½åŠ›è®¢ç«‹æœ¬åè®®ã€‚ç”¨æˆ·å¼€å§‹ä½¿ç”¨æœ¬äº§å“å°†è§†ä¸ºå·²ç»æ¥å—æœ¬åè®®ï¼Œè¯·è®¤çœŸé˜…è¯»å¹¶ç†è§£æœ¬åè®®ä¸­å„ç§æ¡æ¬¾ï¼ŒåŒ…æ‹¬å…é™¤å’Œé™åˆ¶æˆ‘ä»¬çš„å…è´£æ¡æ¬¾å’Œå¯¹ç”¨æˆ·çš„æƒåˆ©é™åˆ¶ï¼ˆæœªæˆå¹´äººå®¡é˜…æ—¶åº”ç”±æ³•å®šç›‘æŠ¤äººé™ªåŒï¼‰ï¼Œå¦‚æœæ‚¨ä¸èƒ½æ¥å—æœ¬åè®®ä¸­çš„å…¨éƒ¨æ¡æ¬¾ï¼Œè¯·å‹¿å¼€å§‹ä½¿ç”¨æœ¬äº§å“ã€‚</p>
<h2 id="ä½¿ç”¨è´¦æˆ·"><a href="#ä½¿ç”¨è´¦æˆ·" class="headerlink" title="ä½¿ç”¨è´¦æˆ·"></a>ä½¿ç”¨è´¦æˆ·</h2><p>æ‚¨å¿…é¡»æ‰¿è¯ºå’Œä¿è¯ï¼š</p>
<ol>
<li><p>æ‚¨ä½¿ç”¨æœ¬äº§å“çš„è¡Œä¸ºå¿…é¡»åˆæ³•ã€‚æœ¬äº§å“å°†ä¼šä¾æ®æœ¬åè®®â€œä¿®æ”¹å’Œç»ˆæ­¢â€çš„è§„å®šä¿ç•™æˆ–ç»ˆæ­¢æ‚¨çš„è´¦æˆ·ã€‚</p>
</li>
<li><p>æ‚¨å¿…é¡»æ‰¿è¯ºå¯¹æ‚¨çš„ç™»å½•ä¿¡æ¯ä¿å¯†ã€ä¸è¢«å…¶ä»–äººè·å–ä¸ä½¿ç”¨ï¼Œå¹¶ä¸”å¯¹æ‚¨åœ¨æœ¬è´¦æˆ·ä¸‹çš„æ‰€æœ‰è¡Œä¸ºè´Ÿè´£ã€‚</p>
</li>
<li><p>æ‚¨å¿…é¡»å°†ä»»ä½•æœ‰å¯èƒ½è§¦çŠ¯æ³•å¾‹çš„ã€æœªæˆæƒä½¿ç”¨æˆ–æ€€ç–‘ä¸ºæœªæˆæƒä½¿ç”¨çš„è¡Œä¸ºåœ¨ç¬¬ä¸€æ—¶é—´é€šçŸ¥æœ¬äº§å“ã€‚æœ¬äº§å“ä¸å¯¹æ‚¨å› æœªèƒ½éµå®ˆä¸Šè¿°è¦æ±‚è€Œé€ æˆçš„æŸå¤±æ‰¿æ‹…æ³•å¾‹è´£ä»»ã€‚</p>
</li>
</ol>
<h2 id="ç»ˆç«¯ç”¨æˆ·åè®®è®¸å¯"><a href="#ç»ˆç«¯ç”¨æˆ·åè®®è®¸å¯" class="headerlink" title="ç»ˆç«¯ç”¨æˆ·åè®®è®¸å¯"></a>ç»ˆç«¯ç”¨æˆ·åè®®è®¸å¯</h2><p>ä¾æ®æœ¬åè®®è§„å®šï¼Œæœ¬äº§å“å°†æˆäºˆæ‚¨ä»¥ä¸‹ä¸å¯è½¬è®©çš„ã€éæ’ä»–çš„è®¸å¯ï¼š</p>
<p>1.ä½¿ç”¨æœ¬äº§å“çš„æƒåˆ©ï¼›</p>
<p>2.åœ¨æ‚¨æ‰€æœ‰çš„ç½‘ç»œé€šä¿¡è®¾å¤‡ã€è®¡ç®—æœºè®¾å¤‡å’Œç§»åŠ¨é€šä¿¡è®¾å¤‡ä¸Šä¸‹è½½ã€å®‰è£…ã€ä½¿ç”¨æœ¬äº§å“çš„æƒåˆ©ã€‚</p>
<h2 id="é™åˆ¶æ€§æ¡æ¬¾"><a href="#é™åˆ¶æ€§æ¡æ¬¾" class="headerlink" title="é™åˆ¶æ€§æ¡æ¬¾"></a>é™åˆ¶æ€§æ¡æ¬¾</h2><p>æœ¬åè®®å¯¹æ‚¨çš„æˆæƒå°†å—åˆ°ä»¥ä¸‹é™åˆ¶ï¼š</p>
<ol>
<li><p>æ‚¨ä¸å¾—å¯¹æœ¬äº§å“è¿›è¡Œä»»ä½•å½¢å¼çš„è®¸å¯ã€å‡ºå”®ã€ç§Ÿèµã€è½¬è®©ã€å‘è¡Œæˆ–å…¶ä»–å•†ä¸šç”¨é€”ï¼›</p>
</li>
<li><p>é™¤éæ³•å¾‹ç¦æ­¢æ­¤ç±»é™åˆ¶ï¼Œå¦åˆ™æ‚¨ä¸å¾—å¯¹æœ¬äº§å“çš„ä»»ä½•éƒ¨åˆ†æˆ–è¡ç”Ÿäº§å“è¿›è¡Œä¿®æ”¹ã€ç¿»è¯‘ã€æ”¹ç¼–ã€åˆå¹¶ã€åˆ©ç”¨ã€åˆ†è§£ã€æ”¹é€ æˆ–åå‘ç¼–è¯‘ã€åå‘å·¥ç¨‹ç­‰ï¼›</p>
</li>
<li><p>æ‚¨ä¸å¾—ä»¥åˆ›å»ºç›¸åŒæˆ–ç«äº‰æœåŠ¡ä¸ºç›®çš„ä½¿ç”¨æœ¬äº§å“ï¼›</p>
</li>
<li><p>é™¤éæ³•å¾‹æ˜æ–‡è§„å®šï¼Œå¦åˆ™æ‚¨ä¸å¾—å¯¹æœ¬äº§å“çš„ä»»ä½•éƒ¨åˆ†ä»¥ä»»ä½•å½¢å¼æˆ–æ–¹æ³•è¿›è¡Œç”Ÿäº§ã€å¤åˆ¶ã€å‘è¡Œã€å‡ºå”®ã€ä¸‹è½½æˆ–æ˜¾ç¤ºç­‰ï¼›</p>
</li>
<li><p>æ‚¨ä¸å¾—åˆ é™¤æˆ–ç ´ååŒ…å«åœ¨æœ¬äº§å“ä¸­çš„ä»»ä½•ç‰ˆæƒå£°æ˜æˆ–å…¶ä»–æ‰€æœ‰æƒæ ‡è®°ã€‚</p>
</li>
</ol>
<h2 id="è´¹ç”¨"><a href="#è´¹ç”¨" class="headerlink" title="è´¹ç”¨"></a>è´¹ç”¨</h2><p>æ‚¨å¿…é¡»è‡ªè¡Œè´Ÿæ‹…è´­ä¹°æœ¬äº§å“çš„è´¹ç”¨ï¼Œä¸ªäººä¸Šç½‘æˆ–ç¬¬ä¸‰æ–¹ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºç”µä¿¡æˆ–ç§»åŠ¨é€šè®¯æä¾›å•†ï¼‰æ”¶å–çš„é€šè®¯è´¹ã€ä¿¡æ¯è´¹ç­‰ç›¸å…³è´¹ç”¨ã€‚</p>
<p>å¦‚æ¶‰åŠç”µä¿¡å¢å€¼æœåŠ¡ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨ä¸å¢å€¼æœåŠ¡æä¾›å•†ç¡®è®¤ç›¸å…³è´¹ç”¨é—®é¢˜ã€‚</p>
<h2 id="ç‰ˆæœ¬"><a href="#ç‰ˆæœ¬" class="headerlink" title="ç‰ˆæœ¬"></a>ç‰ˆæœ¬</h2><p>ä»»ä½•æœ¬äº§å“çš„æ›´æ–°ç‰ˆæœ¬æˆ–æœªæ¥ç‰ˆæœ¬ã€æ›´æ–°æˆ–è€…å…¶ä»–å˜æ›´å°†å—åˆ°æœ¬åè®®çº¦æŸã€‚</p>
<h2 id="éµå®ˆæ³•å¾‹"><a href="#éµå®ˆæ³•å¾‹" class="headerlink" title="éµå®ˆæ³•å¾‹"></a>éµå®ˆæ³•å¾‹</h2><p>æ‚¨åŒæ„éµå®ˆã€Šä¸­åäººæ°‘å…±å’Œå›½åˆåŒæ³•ã€‹ã€ã€Šä¸­åäººæ°‘å…±å’Œå›½è‘—ä½œæƒæ³•ã€‹åŠå…¶å®æ–½æ¡ä¾‹ã€ã€Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šå…³äºç»´æŠ¤äº’è”ç½‘å®‰å…¨çš„å†³å®šã€‹ï¼ˆâ€œäººå¤§å®‰å…¨å†³å®šâ€ï¼‰ã€ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¿å®ˆå›½å®¶ç§˜å¯†æ³•ã€‹ã€ã€Šä¸­åäººæ°‘å…±å’Œå›½ç”µä¿¡æ¡ä¾‹ã€‹ï¼ˆâ€œç”µä¿¡æ¡ä¾‹â€œï¼‰ã€ã€Šä¸­åäººæ°‘å…±å’Œå›½è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤æ¡ä¾‹ã€‹ã€ã€Šä¸­åäººæ°‘å…±å’Œå›½è®¡ç®—æœºä¿¡æ¯ç½‘ç»œå›½é™…è”ç½‘ç®¡ç†æš‚è¡Œè§„å®šã€‹åŠå…¶å®æ–½åŠæ³•ã€ã€Šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå›½é™…è”ç½‘ä¿å¯†ç®¡ç†è§„å®šã€‹ã€ã€Šäº’è”ç½‘ä¿¡æ¯æœåŠ¡ç®¡ç†åŠæ³•ã€‹ã€ã€Šè®¡ç®—æœºä¿¡æ¯ç½‘ç»œå›½é™…è”ç½‘å®‰å…¨ä¿æŠ¤ç®¡ç†åŠæ³•ã€‹ã€ã€Šäº’è”ç½‘ç”µå­å…¬å‘ŠæœåŠ¡ç®¡ç†è§„å®šã€‹ï¼ˆâ€œç”µå­å…¬å‘Šè§„å®šâ€ï¼‰ç­‰ç›¸å…³ä¸­å›½æ³•å¾‹æ³•è§„çš„ä»»ä½•åŠæ‰€æœ‰çš„è§„å®šï¼Œå¹¶å¯¹ä»¥ä»»ä½•æ–¹å¼ä½¿ç”¨æ‚¨çš„å¯†ç å’Œæ‚¨çš„è´¦å·ä½¿ç”¨æœ¬æœåŠ¡çš„ä»»ä½•è¡Œä¸ºåŠå…¶ç»“æœæ‰¿æ‹…å…¨éƒ¨è´£ä»»ã€‚å¦‚è¿åã€Šäººå¤§å®‰å…¨å†³å®šã€‹æœ‰å¯èƒ½æ„æˆçŠ¯ç½ªï¼Œè¢«è¿½ç©¶åˆ‘äº‹è´£ä»»ã€‚</p>
<p>ã€Šç”µå­å…¬å‘Šè§„å®šã€‹åˆ™æœ‰æ˜æ–‡è§„å®šï¼Œä¸Šç½‘ç”¨æˆ·ä½¿ç”¨ç”µå­å…¬å‘ŠæœåŠ¡ç³»ç»Ÿå¯¹æ‰€å‘å¸ƒçš„ä¿¡æ¯è´Ÿè´£ã€‚</p>
<p>ã€Šç”µä¿¡æ¡ä¾‹ã€‹ä¹Ÿå¼ºè°ƒï¼Œä½¿ç”¨ç”µä¿¡ç½‘ç»œä¼ è¾“ä¿¡æ¯çš„å†…å®¹åŠå…¶åæœç”±ç”µä¿¡ç”¨æˆ·è´Ÿè´£ã€‚</p>
<p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œå¦‚æœæœ¬ç½‘ç«™æœ‰ç†ç”±è®¤ä¸ºæ‚¨çš„ä»»ä½•è¡Œä¸ºï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ‚¨çš„ä»»ä½•è¨€è®ºå’Œå…¶å®ƒè¡Œä¸ºè¿åæˆ–å¯èƒ½è¿åä¸Šè¿°æ³•å¾‹å’Œæ³•è§„çš„ä»»ä½•è§„å®šï¼Œæœ¬ç½‘ç«™å¯åœ¨ä»»ä½•æ—¶å€™ä¸ç»ä»»ä½•äº‹å…ˆé€šçŸ¥ç»ˆæ­¢å‘æ‚¨æä¾›æœåŠ¡ã€‚</p>
<h2 id="ç”¨æˆ·å†…å®¹"><a href="#ç”¨æˆ·å†…å®¹" class="headerlink" title="ç”¨æˆ·å†…å®¹"></a>ç”¨æˆ·å†…å®¹</h2><p>1.ç”¨æˆ·å†…å®¹æ˜¯æŒ‡è¯¥ç”¨æˆ·ä¸‹è½½ã€å‘å¸ƒæˆ–ä»¥å…¶ä»–æ–¹å¼ä½¿ç”¨æœ¬äº§å“æ—¶äº§ç”Ÿçš„æ‰€æœ‰å†…å®¹ï¼ˆä¾‹å¦‚ï¼šæ‚¨çš„ä¿¡æ¯ã€å›¾ç‰‡ã€éŸ³ä¹æˆ–å…¶ä»–å†…å®¹ï¼‰ã€‚</p>
<p>2.æ‚¨æ˜¯æ‚¨çš„ç”¨æˆ·å†…å®¹å”¯ä¸€çš„è´£ä»»äººï¼Œæ‚¨å°†æ‰¿æ‹…å› æ‚¨çš„ç”¨æˆ·å†…å®¹æŠ«éœ²è€Œå¯¼è‡´çš„æ‚¨æˆ–ä»»ä½•ç¬¬ä¸‰æ–¹è¢«è¯†åˆ«çš„é£é™©ã€‚</p>
<p>3.æ‚¨å·²åŒæ„æ‚¨çš„ç”¨æˆ·å†…å®¹å—åˆ°æƒåˆ©é™åˆ¶ï¼ˆè¯¦è§â€œæƒåˆ©é™åˆ¶â€ï¼‰</p>
<h2 id="æƒåˆ©é™åˆ¶"><a href="#æƒåˆ©é™åˆ¶" class="headerlink" title="æƒåˆ©é™åˆ¶"></a>æƒåˆ©é™åˆ¶</h2><p>æ‚¨å·²åŒæ„é€šè¿‡åˆ†äº«æˆ–å…¶ä»–æ–¹å¼ä½¿ç”¨æœ¬äº§å“ä¸­çš„ç›¸å…³æœåŠ¡ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ‚¨å°†æ‰¿æ‹…å› ä¸‹è¿°è¡Œä¸ºæ‰€é€ æˆçš„é£é™©è€Œäº§ç”Ÿçš„å…¨éƒ¨æ³•å¾‹è´£ä»»ï¼š</p>
<p>1.ç ´åå®ªæ³•æ‰€ç¡®å®šçš„åŸºæœ¬åŸåˆ™çš„ï¼›</p>
<p>2.å±å®³å›½å®¶å®‰å…¨ã€æ³„éœ²å›½å®¶ç§˜å¯†ã€é¢ è¦†å›½å®¶æ”¿æƒã€ç ´åå›½å®¶ç»Ÿä¸€çš„ï¼›</p>
<p>3.æŸå®³å›½å®¶è£èª‰å’Œåˆ©ç›Šçš„ï¼›</p>
<p>4.ç…½åŠ¨æ°‘æ—ä»‡æ¨ã€æ°‘æ—æ­§è§†ï¼Œç ´åæ°‘æ—å›¢ç»“çš„ï¼›</p>
<p>5.ç ´åå›½å®¶å®—æ•™æ”¿ç­–ï¼Œå®£æ‰¬é‚ªæ•™å’Œå°å»ºè¿·ä¿¡çš„ï¼›</p>
<p>6.æ•£å¸ƒæ·«ç§½ã€è‰²æƒ…ã€èµŒåšã€æš´åŠ›ã€å‡¶æ€ã€ææ€–æˆ–è€…æ•™å”†çŠ¯ç½ªçš„ï¼›</p>
<p>7.ä¾®è¾±æˆ–è€…è¯½è°¤ä»–äººï¼Œä¾µå®³ä»–äººåˆæ³•æƒç›Šçš„ï¼›</p>
<p>8.å«æœ‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢çš„å…¶ä»–å†…å®¹çš„ã€‚</p>
<p>æ‚¨å·²ç»åŒæ„ä¸åœ¨æœ¬äº§å“ä»äº‹ä¸‹åˆ—è¡Œä¸ºï¼š</p>
<p>1.å‘å¸ƒæˆ–åˆ†äº«ç”µè„‘ç—…æ¯’ã€è •è™«ã€æ¶æ„ä»£ç ã€æ•…æ„ç ´åæˆ–æ”¹å˜è®¡ç®—æœºç³»ç»Ÿæˆ–æ•°æ®çš„è½¯ä»¶ï¼›</p>
<p>2.æœªæˆæƒçš„æƒ…å†µä¸‹ï¼Œæ”¶é›†å…¶ä»–ç”¨æˆ·çš„ä¿¡æ¯æˆ–æ•°æ®ï¼Œä¾‹å¦‚ç”µå­é‚®ç®±åœ°å€ç­‰ï¼›</p>
<p>3.ç”¨è‡ªåŠ¨åŒ–çš„æ–¹å¼æ¶æ„ä½¿ç”¨æœ¬äº§å“ï¼Œç»™æœåŠ¡å™¨é€ æˆè¿‡åº¦çš„è´Ÿæ‹…æˆ–ä»¥å…¶ä»–æ–¹å¼å¹²æ‰°æˆ–æŸå®³ç½‘ç«™æœåŠ¡å™¨å’Œç½‘ç»œé“¾æ¥ï¼›</p>
<p>4.åœ¨æœªæˆæƒçš„æƒ…å†µä¸‹ï¼Œå°è¯•è®¿é—®æœ¬äº§å“çš„æœåŠ¡å™¨æ•°æ®æˆ–é€šä¿¡æ•°æ®ï¼›</p>
<p>5.å¹²æ‰°ã€ç ´åæœ¬äº§å“å…¶ä»–ç”¨æˆ·çš„ä½¿ç”¨ã€‚</p>
<h2 id="ä¿®æ”¹å’Œç»ˆæ­¢"><a href="#ä¿®æ”¹å’Œç»ˆæ­¢" class="headerlink" title="ä¿®æ”¹å’Œç»ˆæ­¢"></a>ä¿®æ”¹å’Œç»ˆæ­¢</h2><h3 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h3><p>æœ¬åè®®å®¹è®¸å˜æ›´ã€‚å¦‚æœæœ¬åè®®æœ‰ä»»ä½•å®è´¨æ€§å˜æ›´ï¼Œæˆ‘ä»¬å°†é€šè¿‡ç”µå­é‚®ä»¶æˆ–äº§å“å†…éƒ¨é€šçŸ¥çš„æ–¹å¼æ¥é€šçŸ¥æ‚¨ã€‚å˜æ›´é€šçŸ¥ä¹‹åï¼Œç»§ç»­ä½¿ç”¨æœ¬äº§å“åˆ™ä¸ºæ‚¨å·²çŸ¥æ™“æ­¤ç±»å˜æ›´å¹¶åŒæ„æ¡æ¬¾çº¦æŸï¼›</p>
<p>æˆ‘ä»¬ä¿ç•™åœ¨ä»»ä½•æ—¶å€™æ— éœ€é€šçŸ¥è€Œä¿®æ”¹ã€ä¿ç•™æˆ–å…³é—­æœ¬äº§å“ä»»ä½•æœåŠ¡ä¹‹æƒåˆ©ï¼›</p>
<p>æ‚¨å·²åŒæ„æˆ‘ä»¬æ— éœ€å› ä¿®æ”¹ã€ä¿ç•™æˆ–å…³é—­æœ¬äº§å“ä»»ä½•æœåŠ¡ä¹‹æƒåˆ©ï¼›</p>
<p>æ‚¨å·²åŒæ„æˆ‘ä»¬æ— éœ€å› ä¿®æ”¹ã€ä¿ç•™æˆ–å…³é—­æœ¬äº§å“ä»»ä½•æœåŠ¡çš„è¡Œä¸ºå¯¹æ‚¨æˆ–ç¬¬ä¸‰æ–¹æ‰¿æ‹…è´£ä»»ã€‚</p>
<h3 id="ç»ˆæ­¢"><a href="#ç»ˆæ­¢" class="headerlink" title="ç»ˆæ­¢"></a>ç»ˆæ­¢</h3><p>æœ¬åè®®è‡ªæ‚¨æ¥å—ä¹‹æ—¥èµ·ç”Ÿæ•ˆï¼Œåœ¨æ‚¨ä½¿ç”¨æœ¬äº§å“çš„è¿‡ç¨‹ä¸­æŒç»­æœ‰æ•ˆï¼Œç›´è‡³ä¾æ®æœ¬åè®®ç»ˆæ­¢ï¼›</p>
<p>å°½ç®¡æœ‰ä¸Šè¿°è§„å®šï¼Œå¦‚æœæ‚¨ä½¿ç”¨æœ¬äº§å“çš„æ—¶é—´æ—©äºæ‚¨æ¥å—æœ¬åè®®çš„æ—¶é—´ï¼Œæ‚¨åœ¨æ­¤çŸ¥æ™“å¹¶åŒæ„æœ¬åè®®äºæ‚¨æ¥å—æœ¬åè®®çš„æ—¶é—´ï¼Œæ‚¨åœ¨æ­¤çŸ¥æ™“å¹¶åŒæ„æœ¬åè®®äºæ‚¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æœ¬äº§å“æ—¶ç”Ÿæ•ˆï¼Œé™¤éä¾æ®æœ¬åè®®æå‰ç»ˆæ­¢ï¼›</p>
<p>æˆ‘ä»¬å¯èƒ½ä¼šä¾æ®æ³•å¾‹çš„è§„å®šï¼Œä¿ç•™æ‚¨ä½¿ç”¨æœ¬äº§å“æˆ–è€…æœ¬è´¦æˆ·çš„æƒåˆ©ï¼›æ— è®ºæ˜¯å¦é€šçŸ¥ï¼Œæˆ‘ä»¬å°†åœ¨ä»»ä½•æ—¶é—´ä»¥ä»»ä½•åŸå› ç»ˆæ­¢æœ¬åè®®ï¼ŒåŒ…æ‹¬å‡ºäºå–„æ„çš„ç›¸ä¿¡æ‚¨è¿åäº†æˆ‘ä»¬å¯æ¥å—ä½¿ç”¨æ”¿ç­–æˆ–æœ¬åè®®çš„å…¶ä»–è§„å®šï¼›</p>
<p>ä¸å—å‰æ¬¾è§„å®šæ‰€é™ï¼Œå¦‚æœç”¨æˆ·ä¾µçŠ¯ç¬¬ä¸‰äººçš„ç‰ˆæƒä¸”æˆ‘ä»¬æ¥åˆ°ç‰ˆæƒæ‰€æœ‰äººæˆ–ç‰ˆæƒæ‰€æœ‰äººçš„åˆæ³•ä»£ç†äººçš„é€šçŸ¥åï¼Œæˆ‘ä»¬ä¿ç•™ç»ˆæ­¢æœ¬åè®®çš„æƒåˆ©ï¼›</p>
<p>ä¸€æ—¦æœ¬åè®®ç»ˆæ­¢ï¼Œæ‚¨ä½¿ç”¨æœ¬äº§å“çš„æƒåˆ©å³å‘Šç»ˆæ­¢ã€‚æ‚¨åº”å½“çŸ¥æ™“æ‚¨çš„äº§å“ç»ˆæ­¢æ„å‘³ç€æ‚¨çš„ç”¨æˆ·å†…å®¹å°†ä»æˆ‘ä»¬çš„æ´»åŠ¨æ•°æ®åº“ä¸­åˆ é™¤ã€‚æˆ‘ä»¬ä¸å› ç»ˆæ­¢æœ¬åè®®å¯¹æ‚¨æ‰¿æ‹…ä»»ä½•è´£ä»»ï¼ŒåŒ…æ‹¬ç»ˆæ­¢æ‚¨çš„ç”¨æˆ·è´¦æˆ·å’Œåˆ é™¤æ‚¨çš„ç”¨æˆ·å†…å®¹ã€‚</p>
<h2 id="ç¬¬ä¸‰æ–¹"><a href="#ç¬¬ä¸‰æ–¹" class="headerlink" title="ç¬¬ä¸‰æ–¹"></a>ç¬¬ä¸‰æ–¹</h2><p>æ‚¨å·²çŸ¥æ™“æˆ–åŒæ„æˆ‘ä»¬çš„éƒ¨åˆ†æœåŠ¡æ˜¯åŸºäºç¬¬ä¸‰æ–¹çš„æŠ€æœ¯æ”¯æŒè·å¾—ï¼›</p>
<p>æ‚¨å·²çŸ¥æ™“æœ¬åè®®æ˜¯æ‚¨åœ¨ä¸æˆ‘ä»¬ä¹‹å‰ç­¾è®¢ï¼Œè€Œéæ‚¨ä¸ä¸Šè¿°ç¬¬ä¸‰æ–¹ä¹‹é—´ç­¾è®¢ã€‚</p>
<p>æˆ‘ä»¬æ˜¯åŸºäºæœ¬äº§å“æ‰€äº§ç”Ÿçš„å†…å®¹ã€ç»´æŠ¤ã€æ”¯æŒæœåŠ¡ã€ä¿è¯å’Œç”±æ­¤äº§ç”Ÿçš„è¯‰è®¼ç­‰äº‹é¡¹çš„å”¯ä¸€è´£ä»»äººã€‚</p>
<p>æ‚¨å·²åŒæ„éµå®ˆä¸”æˆæƒç»™æœ¬äº§å“é™åˆ¶æ‚¨æœ‰æ¡ä»¶åœ°ä½¿ç”¨æœ¬äº§å“çš„æœåŠ¡ã€‚</p>
<h2 id="ç¬¬ä¸‰æ–¹ä¿¡æ¯å’ŒæœåŠ¡"><a href="#ç¬¬ä¸‰æ–¹ä¿¡æ¯å’ŒæœåŠ¡" class="headerlink" title="ç¬¬ä¸‰æ–¹ä¿¡æ¯å’ŒæœåŠ¡"></a>ç¬¬ä¸‰æ–¹ä¿¡æ¯å’ŒæœåŠ¡</h2><p>1.æœ¬äº§å“åŒ…å«äº†ç¬¬ä¸‰æ–¹çš„éƒ¨åˆ†ä¿¡æ¯å’ŒæœåŠ¡ã€‚æˆ‘ä»¬ä¸æ§åˆ¶ä¸”ä¸å¯¹ç¬¬ä¸‰æ–¹çš„ä¿¡æ¯å’ŒæœåŠ¡è´Ÿè´£ï¼›</p>
<p>2.æˆ‘ä»¬ä»…ä¸ºæ‚¨ä½¿ç”¨æ–¹ä¾¿çš„ç›®çš„æˆ–ä¸ºæ‰¿è¯ºå’Œä¿è¯ç¬¬ä¸‰æ–¹çš„éœ€è¦è€Œæä¾›æ­¤ç±»ä¿¡æ¯å’ŒæœåŠ¡ï¼›</p>
<p>3.ç”¨æˆ·éœ€å¯¹ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¿¡æ¯å’ŒæœåŠ¡äº§ç”Ÿçš„é£é™©æ‰¿æ‹…æ³•å¾‹è´£ä»»ï¼›</p>
<p>4.å½“ç”¨æˆ·è®¿é—®ç¬¬ä¸‰æ–¹ä¿¡æ¯å’ŒæœåŠ¡æ—¶ï¼Œé€‚ç”¨ç¬¬ä¸‰æ–¹çš„æ¡æ¬¾å’Œæ”¿ç­–ã€‚</p>
<h2 id="èµ”å¿"><a href="#èµ”å¿" class="headerlink" title="èµ”å¿"></a>èµ”å¿</h2><p>æ‚¨å·²åŒæ„æ— å®³åœ°ä½¿ç”¨æœ¬äº§å“ï¼Œé¿å…å› ä¸‹è¿°è¡Œä¸ºæˆ–ç›¸å…³è¡Œä¸ºé­å—æ¥ç¬¬ä¸‰æ–¹çš„ä»»ä½•æŠ•è¯‰ã€è¯‰è®¼ã€æŸå¤±ã€æŸå®³ã€è´£ä»»ã€æˆæœ¬å’Œè´¹ç”¨ï¼ˆåŒ…æ‹¬å¾‹å¸ˆè´¹ï¼‰ï¼š</p>
<p>1.ç”¨æˆ·ä½¿ç”¨æœ¬äº§å“çš„è¡Œä¸ºï¼›</p>
<p>2.ç”¨æˆ·çš„ç”¨æˆ·å†…å®¹ï¼›</p>
<p>3.ç”¨æˆ·è¿åæœ¬åè®®çš„è¡Œä¸ºã€‚</p>
<p>æˆ‘ä»¬ä¿ç•™ä¸“å±æŠ—è¾©æƒå’Œè¯·æ±‚èµ”å¿çš„æƒåˆ©</p>
<p>æ‚¨å·²åŒæ„ï¼Œé™¤éè·å¾—æˆ‘ä»¬ä¹¦é¢åŒæ„ï¼Œæ‚¨ä¸å¾—åœ¨æ‚¨ä¸æˆ‘ä»¬å…±åŒå¯¹ç¬¬ä¸‰æ–¹æèµ·çš„è¯‰è®¼ä¸­å•æ–¹å’Œè§£ã€‚</p>
<p>æˆ‘ä»¬å°†å°½åˆç†åŠªåŠ›å°†æ­¤ç±»è¯‰è®¼ã€è¯‰è®¼è¡Œä¸ºæˆ–è¿›ç¨‹é€šçŸ¥æ‚¨ã€‚</p>
<p>åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œæœ¬äº§å“éƒ½ä¸å¯¹æ‚¨æˆ–ä»»ä½•ç¬¬ä¸‰æ–¹å› æœ¬åè®®äº§ç”Ÿçš„ä»»ä½•é—´æ¥æ€§ã€åæœæ€§ã€æƒ©ç½šæ€§çš„ã€å¶ç„¶çš„ã€ç‰¹æ®Šæˆ–æƒ©ç½šæ€§çš„æŸå®³èµ”å¿æ‰¿æ‹…è´£ä»»ã€‚</p>
<p>è®¿é—®ã€ä½¿ç”¨æœ¬äº§å“æ‰€äº§ç”Ÿçš„æŸåè®¡ç®—æœºç³»ç»Ÿæˆ–ç§»åŠ¨é€šè®¯è®¾å¤‡æ•°æ®çš„é£é™©å°†ç”±æ‚¨ä¸ªäººæ‰¿æ‹…ã€‚</p>
<h2 id="é€‚ç”¨æ³•å¾‹"><a href="#é€‚ç”¨æ³•å¾‹" class="headerlink" title="é€‚ç”¨æ³•å¾‹"></a>é€‚ç”¨æ³•å¾‹</h2><p>æœ¬åè®®é€‚ç”¨ä¸­åäººæ°‘å…±å’Œå›½æ³•å¾‹ï¼›</p>
<p>å¦‚æœåŒæ–¹å‘ç”Ÿçº çº·ï¼Œåº”æœ¬ç€å‹å¥½çš„åœ†æŸ±åå•†è§£å†³ï¼›å¦‚åå•†ä¸æˆï¼Œåº”å‘æ‰€åœ¨åœ°çš„æ³•é™¢æèµ·è¯‰è®¼ã€‚</p>
<h2 id="ç‹¬ç«‹æ€§"><a href="#ç‹¬ç«‹æ€§" class="headerlink" title="ç‹¬ç«‹æ€§"></a>ç‹¬ç«‹æ€§</h2><p>æœ¬åè®®ä¸­çš„æŸäº›æ¡æ¬¾å› æ•…æ— æ³•é€‚ç”¨ï¼Œåˆ™æœ¬åè®®çš„å…¶ä»–æ¡æ¬¾ç»§ç»­é€‚ç”¨ä¸”æ— æ³•é€‚ç”¨çš„æ¡æ¬¾å°†ä¼šè¢«ä¿®æ”¹ï¼Œä»¥ä¾¿å…¶èƒ½å¤Ÿä¾æ³•é€‚ç”¨ã€‚</p>
<h2 id="å®Œæ•´æ€§"><a href="#å®Œæ•´æ€§" class="headerlink" title="å®Œæ•´æ€§"></a>å®Œæ•´æ€§</h2><p>æœ¬åè®®ï¼ˆåŒ…æ‹¬éšç§æ”¿ç­–ï¼‰æ˜¯æ‚¨å’Œæœ¬äº§å“ä¹‹é—´å…³äºæœ¬äº§å“ç›¸å…³äº‹é¡¹çš„æœ€ç»ˆçš„ã€å®Œæ•´çš„ã€æ’ä»–çš„åè®®ï¼Œä¸”å–ä»£å’Œåˆå¹¶ä¹‹å‰å½“äº‹äººå…³äºæ­¤ç±»äº‹é¡¹ï¼ˆåŒ…æ‹¬ä¹‹å‰çš„æœ€ç»ˆç”¨æˆ·è®¸å¯ã€æœåŠ¡æ¡æ¬¾å’Œéšç§æ”¿ç­–ï¼‰çš„è®¨è®ºå’Œåè®®ï¼›</p>
<p>æ¯éƒ¨åˆ†çš„é¢˜ç›®åªä¸ºé˜…è¯»ä¹‹ä¾¿è€Œæ— ä»»ä½•æ³•å¾‹æˆ–åˆåŒä¹‰åŠ¡ï¼›</p>
<p>é™¤éæˆ‘ä»¬ä¹¦é¢åŒæ„ï¼Œæ‚¨ä¸å¾—è½¬è®©æœ¬åè®®æ‰€è§„å®šçš„æƒåˆ©ä¹‰åŠ¡ã€‚ä»»ä½•è¿åä¸Šè¿°è§„å®šä¼å›¾è½¬è®©çš„è¡Œä¸ºå‡æ— æ•ˆã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>ä¹¦å•</title>
    <url>/books/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>åˆ†ç±»</title>
    <url>/categories/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>ç•™è¨€æ¿</title>
    <url>/guestbook/index.html</url>
    <content><![CDATA[<p><img src="/img/work.jpg" alt="åšä¸»ä¸€ç›´éƒ½åœ¨"></p>
<h2 id="æœ‰ä»€ä¹ˆæƒ³è¯´çš„å—ï¼Ÿæ¬¢è¿ç•™è¨€"><a href="#æœ‰ä»€ä¹ˆæƒ³è¯´çš„å—ï¼Ÿæ¬¢è¿ç•™è¨€" class="headerlink" title="æœ‰ä»€ä¹ˆæƒ³è¯´çš„å—ï¼Ÿæ¬¢è¿ç•™è¨€~"></a>æœ‰ä»€ä¹ˆæƒ³è¯´çš„å—ï¼Ÿæ¬¢è¿ç•™è¨€~</h2><h2 id="â¥-ä¹ˆä¹ˆå“’ï¼"><a href="#â¥-ä¹ˆä¹ˆå“’ï¼" class="headerlink" title="â¥(^_-) ä¹ˆä¹ˆå“’ï¼~"></a>â¥(^_-) ä¹ˆä¹ˆå“’ï¼~</h2>]]></content>
  </entry>
  <entry>
    <title>å‹æƒ…é“¾æ¥</title>
    <url>/friends/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>å‹æƒ…é“¾æ¥</title>
    <url>/links/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/photos/data.json</url>
    <content><![CDATA[{"list":[{"date":"2019-10","arr":{"year":2019,"month":10,"link":["2019-10-07_å¤©å¤©å«å¤–å–çš„å¿«é¤ç”Ÿæ´»ï¼Œå¥½ä¹…éƒ½æ²¡æœ‰åƒç±³é¥­äº†ï¼Œç°åœ¨å‡ ä¹å¿˜è®°äº†ç±³é¥­çš„å‘³é“.jpg"],"text":["å¤©å¤©å«å¤–å–çš„å¿«é¤ç”Ÿæ´»ï¼Œå¥½ä¹…éƒ½æ²¡æœ‰åƒç±³é¥­äº†ï¼Œç°åœ¨å‡ ä¹å¿˜è®°äº†ç±³é¥­çš„å‘³é“"],"type":["image"]}},{"date":"2019-08","arr":{"year":2019,"month":8,"link":["2019-08-15_ä»Šå¤©å°±æ˜¯åƒåƒåƒï¼Œæ”¾å¼€äº†åƒ.jpg","2019-08-15_ä»Šå¤©å°±æ˜¯åƒåƒåƒï¼Œæ”¾å¼€äº†åƒ2.png"],"text":["ä»Šå¤©å°±æ˜¯åƒåƒåƒï¼Œæ”¾å¼€äº†åƒ","ä»Šå¤©å°±æ˜¯åƒåƒåƒï¼Œæ”¾å¼€äº†åƒ2"],"type":["image","image"]}},{"date":"2018-11","arr":{"year":2018,"month":11,"link":["2018-11-30_ä»Šå¤©æ˜¯10æœˆ23ç¥è‡ªå·±ç”Ÿæ—¥å¿«ä¹ï¼Œæ°¸è¿œ18ã€‚åœ¨å›¾ä¹¦é¦†å¹³å¹³æ·¡æ·¡åœ°åº¦è¿‡äº†ä¸€å¤©ï¼Œè¿™æ ·çš„ç”Ÿæ´»å¯èƒ½æ˜¯äººç”Ÿçš„å¸¸æ€.jpg"],"text":["ä»Šå¤©æ˜¯10æœˆ23ç¥è‡ªå·±ç”Ÿæ—¥å¿«ä¹ï¼Œæ°¸è¿œ18ã€‚åœ¨å›¾ä¹¦é¦†å¹³å¹³æ·¡æ·¡åœ°åº¦è¿‡äº†ä¸€å¤©ï¼Œè¿™æ ·çš„ç”Ÿæ´»å¯èƒ½æ˜¯äººç”Ÿçš„å¸¸æ€"],"type":["image"]}},{"date":"2018-10","arr":{"year":2018,"month":10,"link":["2018-10-8_é€šå­ç»ƒçš„è‚±äºŒå¤´è‚Œ.jpg"],"text":["é€šå­ç»ƒçš„è‚±äºŒå¤´è‚Œ"],"type":["image"]}},{"date":"2018-09","arr":{"year":2018,"month":9,"link":["2018-09-19_å¤œå¹•ä¸‹çš„å›¾ä¹¦é¦†.jpg","2018-09-24_ç¥ä¿Šå“¥ç”Ÿæ—¥å¿«ä¹ï¼.jpg"],"text":["å¤œå¹•ä¸‹çš„å›¾ä¹¦é¦†","ç¥ä¿Šå“¥ç”Ÿæ—¥å¿«ä¹ï¼"],"type":["image","image"]}},{"date":"2018-02","arr":{"year":2018,"month":2,"link":["2018-02-20_å¿˜äº†è¿™æ˜¯å“ªé‡Œäº†.jpg"],"text":["å¿˜äº†è¿™æ˜¯å“ªé‡Œäº†"],"type":["image"]}}]}]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/photos/ins.css</url>
    <content><![CDATA[#post-instagram{
	padding: 30px;
}
#post-instagram .article-entry{
	padding-right: 0;
}
.instagram{
	position: relative;
	min-height: 500px;
}
.instagram img {
	width: 100%;
}
.instagram .year {
	font-size: 16px;
}
.instagram .open-ins{
	padding: 10px 0;
	color: #cdcdcd;
}
.instagram .open-ins:hover{
	color: #657b83;
}
.instagram .year{
	display: inline;
}
.instagram .thumb {
	width: 25%;
	height: 0; 
	padding-bottom: 25%;
	position: relative;
	display: inline-block;
	text-align: center;
	background: #ededed;
	outline: 1px solid #ddd;
}
.instagram .thumb a {
	position: relative;
}
.instagram .album h1 em{
	font-style: normal;
	font-size: 14px;
	margin-left: 10px;
}
.instagram .album ul{
	display: flex;
	flex-wrap: wrap;
	clear: both;
	width: 100%;
	text-align: left;
}
.instagram .album li{
	list-style: none;
	display: inline-block;
	box-sizing: border-box;
	padding: 0 5px;
	margin-bottom: -10px;
	height: 0;
	width: 25%;
	position: relative;
	padding-bottom: 25%;
}
.instagram .album li:before{
	display: none;
}
.instagram .album div.img-box{
	position: absolute;
	width: 90%;
	height: 90%;
	-webkit-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);
	-moz-box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);
	box-shadow: 0 1px 0 rgba(255,255,255,0.4), 0 1px 0 1px rgba(255,255,255,0.1);
}
.instagram .album div.img-box img{
	width: 100%;
	height: 100%;
    position: absolute;
    z-index: 2;
}
.instagram .album div.img-box .img-bg{
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0px;
	width: 100%;
	margin: -5px;
	padding: 5px;
	-webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);
	-moz-box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);
	box-shadow: 0 0 0 1px rgba(0,0,0,.04), 0 1px 5px rgba(0,0,0,0.1);
	-webkit-transition: all 0.15s ease-out 0.1s;
	-moz-transition: all 0.15s ease-out 0.1s;
	-o-transition: all 0.15s ease-out 0.1s;
	transition: all 0.15s ease-out 0.1s;
	opacity: 0.2;
	cursor: pointer;
	display: block;
	z-index: 3;
}
.instagram .album div.img-box .icon {
    font-size: 14px;
    position: absolute;
    left: 50%;
    top: 50%;
    margin-left: -7px;
    margin-top: -7px;
    color: #999;
    z-index: 1;
}
.instagram .album div.img-box .img-bg:hover{
	opacity: 0;
}
.photos-btn-wrap {
    display: flex;
    align-items: center;
    padding: 0;
    margin: 0 0 40px 0;
    border-bottom: 1px solid var(--border-color);
}
.photos-btn {
    position: relative;
    color: var(--text-color);
    text-decoration: none;
    font-size: 1em;
    padding: 16px 0;
    margin-right: 32px;
    transition: all 0.3s ease;
    opacity: 0.7;
    background: transparent;
    border: none;
    cursor: pointer;
}
.photos-btn:last-child {
    margin-right: 0;
}
.photos-btn:hover {
    opacity: 1;
}
.photos-btn.active {
    color: var(--primary-color);
    opacity: 1;
}
.photos-btn.active::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--primary-color);
}

@media screen and (max-width:600px) {
	.instagram .thumb {
		width: 50%;
		padding-bottom: 50%;
	}
	.instagram .album li {
		width: 100%;
		position: relative;
		padding-bottom: 100%;
		text-align: center;
	}
	.instagram .album div.img-box{
		margin: 0;
		width: 90%;
		height: 90%;
	}
}

.loading-wrap {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 2px solid #f3f3f3;
    border-top: 2px solid #3498db;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.photo-wrapper {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.photo-section {
    margin-bottom: 48px;
}

.photo-date {
    position: relative;
    font-size: 1.2em;
    font-weight: 500;
    margin: 0 0 24px 0;
    padding: 0 0 0 20px;
    color: var(--text-color);
    display: flex;
    align-items: center;
}

.photo-date::before {
    content: '#';
    position: absolute;
    left: 0;
    color: var(--primary-color);
    font-weight: bold;
}

.photo-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 24px;
    padding: 0;
}

.photo-item {
    position: relative;
    overflow: hidden;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    background: var(--card-background);
    aspect-ratio: 1;
    cursor: pointer;
}

.photo-placeholder {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--card-background);
    z-index: 1;
    margin: 0;
    padding: 0;
}

.loading-icon {
    width: 30px;
    height: 30px;
    border: 3px solid var(--border-color);
    border-top: 3px solid var(--primary-color);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-bottom: 10px;
}

.loading-text {
    color: var(--text-color);
    font-size: 14px;
}

.error-message {
    color: var(--error-color);
    font-size: 14px;
    text-align: center;
    padding: 10px;
}

.photo-item img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: opacity 0.3s ease, transform 0.3s ease;
    z-index: 2;
    margin: 0;
    padding: 0;
    display: block;
}

.photo-item img.lazy {
    opacity: 0;
}

.photo-item img.lazy.loaded {
    opacity: 1;
}

.photo-info {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 15px;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    color: #fff;
    transform: translateY(100%);
    transition: transform 0.3s ease;
    z-index: 3;
}

.photo-item:hover .photo-info {
    transform: translateY(0);
}

.photo-info p {
    margin: 0;
    font-size: 14px;
    line-height: 1.4;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* æš—é»‘æ¨¡å¼ */
:root {
    --text-color: #2c3e50;
    --border-color: rgba(0, 0, 0, 0.1);
    --card-background: #ffffff;
    --primary-color: #3b82f6;
    --error-color: #ef4444;
    --background-color: #ffffff;
}

[data-theme="dark"] {
    --text-color: #e5e7eb;
    --border-color: rgba(255, 255, 255, 0.1);
    --card-background: #1f2937;
    --primary-color: #60a5fa;
    --error-color: #f87171;
    --background-color: #111827;
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media screen and (max-width: 768px) {
    .photos-btn-wrap {
        margin: 0 0 32px 0;
    }

    .photos-btn {
        font-size: 0.9em;
        padding: 12px 0;
        margin-right: 24px;
    }

    .photo-section {
        margin-bottom: 32px;
    }

    .photo-date {
        font-size: 1.1em;
        margin: 0 0 16px 0;
    }

    .photo-grid {
        gap: 16px;
    }
}

/* é”™è¯¯çŠ¶æ€ */
.error {
    text-align: center;
    padding: 20px;
    color: var(--text-color);
    background: var(--card-background);
    border-radius: 8px;
    margin: 20px 0;
}

.preview-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    cursor: zoom-out;
}

.preview-overlay.active {
    display: flex;
}

.preview-container {
    position: relative;
    max-width: 90%;
    max-height: 90%;
}

.preview-image {
    max-width: 100%;
    max-height: 90vh;
    object-fit: contain;
    border-radius: 4px;
}

.preview-loading {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #fff;
}

.preview-text {
    position: absolute;
    bottom: -30px;
    left: 0;
    width: 100%;
    text-align: center;
    color: #fff;
    font-size: 14px;
    padding: 10px;
}

.preview-close {
    position: absolute;
    top: 20px;
    right: 20px;
    color: #fff;
    font-size: 30px;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    transition: background-color 0.3s;
}

.preview-close:hover {
    background: rgba(0, 0, 0, 0.8);
}]]></content>
  </entry>
  <entry>
    <title>ç›¸å†Œ</title>
    <url>/photos/index.html</url>
    <content><![CDATA[<link rel="stylesheet" href="./ins.css">
<div class="photos-btn-wrap">
	<a class="photos-btn active" href="javascript:void(0)">Photos</a>
	<a class="photos-btn" href="#">å¾…ç»­</a>
</div>
<div class="instagram itemscope">
	<div class="photo-wrapper"></div>
</div>

<!-- å¼•å…¥å¿…è¦çš„è„šæœ¬ -->
<script>
    // ç¡®ä¿ LazyLoad å¯ç”¨
    window.lazyLoadOptions = {
        elements_selector: ".lazy",
        threshold: 50
    };
</script>
<script src="./lazyload.min.js"></script>
<script src="./config.js"></script>
<script src="./ins.js"></script>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/photos/ins.js</url>
    <content><![CDATA[(function() {
    // ç›¸å†Œç±»
    function PhotoGallery() {
        this.container = document.querySelector('.photo-wrapper');
        this.init();
        this.initPreview();
    }

    PhotoGallery.prototype = {
        init: function() {
            var self = this;
            this.fetchPhotoData()
                .then(function(data) {
                    self.render(data);
                    self.initLazyLoad();
                })
                .catch(function(error) {
                    console.error('Failed to initialize photo gallery:', error);
                    self.showError();
                });
        },

        initPreview: function() {
            var self = this;
            // åˆ›å»ºé¢„è§ˆæ¡†HTML
            var previewHtml = [
                '<div class="preview-overlay">',
                '    <div class="preview-close">&times;</div>',
                '    <div class="preview-container">',
                '        <div class="preview-loading">',
                '            <div class="loading-icon"></div>',
                '            <div class="loading-text">åŠ è½½ä¸­...</div>',
                '        </div>',
                '        <img class="preview-image" src="" alt="" />',
                '        <div class="preview-text"></div>',
                '    </div>',
                '</div>'
            ].join('');

            // æ·»åŠ é¢„è§ˆæ¡†åˆ°body
            document.body.insertAdjacentHTML('beforeend', previewHtml);

            // è·å–é¢„è§ˆæ¡†å…ƒç´ 
            this.previewOverlay = document.querySelector('.preview-overlay');
            this.previewImage = this.previewOverlay.querySelector('.preview-image');
            this.previewText = this.previewOverlay.querySelector('.preview-text');
            this.previewLoading = this.previewOverlay.querySelector('.preview-loading');

            // ç»‘å®šå…³é—­äº‹ä»¶
            this.previewOverlay.addEventListener('click', function(e) {
                if (e.target === this || e.target.classList.contains('preview-close')) {
                    self.closePreview();
                }
            });

            // ç»‘å®šé”®ç›˜äº‹ä»¶
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    self.closePreview();
                }
            });
        },

        showPreview: function(src, text) {
            var self = this;
            this.previewLoading.style.display = 'block';
            this.previewImage.style.display = 'none';
            this.previewOverlay.classList.add('active');
            this.previewText.textContent = text;

            // åŠ è½½åŸå›¾
            var img = new Image();
            img.onload = function() {
                self.previewLoading.style.display = 'none';
                self.previewImage.style.display = 'block';
                self.previewImage.src = src;
            };
            img.onerror = function() {
                self.previewLoading.innerHTML = '<div class="error-message">å›¾ç‰‡åŠ è½½å¤±è´¥</div>';
            };
            img.src = src;
        },

        closePreview: function() {
            this.previewOverlay.classList.remove('active');
            this.previewImage.src = '';
            this.previewText.textContent = '';
        },

        fetchPhotoData: function() {
            return fetch('./data.json')
                .then(function(response) {
                    if (!response.ok) throw new Error('Failed to fetch photo data');
                    return response.json();
                });
        },

        render: function(data) {
            var groupedPhotos = this.processPhotoData(data);
            var html = Object.keys(groupedPhotos)
                .sort(function(a, b) { return b.localeCompare(a); })
                .map(function(date) {
                    return [
                        '<div class="photo-section">',
                        '    <div class="photo-date"># ' + date + '</div>',
                        '    <div class="photo-grid">',
                        groupedPhotos[date].map(this.createPhotoHTML).join(''),
                        '    </div>',
                        '</div>'
                    ].join('');
                }, this).join('');
            this.container.innerHTML = html;
        },

        processPhotoData: function(data) {
            var groupedPhotos = {};
            data.list.forEach(function(item) {
                var yearMonth = item.date.split('-');
                var year = yearMonth[0];
                var month = yearMonth[1];
                var dateKey = year + 'å¹´' + month + 'æœˆ';
                
                if (!groupedPhotos[dateKey]) {
                    groupedPhotos[dateKey] = [];
                }

                item.arr.link.forEach(function(link, index) {
                    var cleanLink = link.replace(/\s+/g, '%20');
                    groupedPhotos[dateKey].push({
                        src: window.CONFIG.CDN_URL + cleanLink,
                        thumbnail: window.CONFIG.THUMBNAIL_URL + cleanLink,
                        text: item.arr.text[index],
                        date: dateKey
                    });
                });
            });
            return groupedPhotos;
        },

        createPhotoHTML: function(photo) {
            return [
                '<div class="photo-item" onclick="window.photoGallery.showPreview(\'' + photo.src + '\', \'' + photo.text + '\')">',
                '    <div class="photo-placeholder">',
                '        <div class="loading-icon"></div>',
                '        <span class="loading-text">åŠ è½½ä¸­...</span>',
                '    </div>',
                '    <img',
                '        class="lazy"',
                '        data-src="' + photo.thumbnail + '"',
                '        data-original="' + photo.src + '"',
                '        src="' + window.CONFIG.DEFAULT_IMAGE + '"',
                '        alt="' + photo.text + '"',
                '    />',
                '    <div class="photo-info">',
                '        <p>' + photo.text + '</p>',
                '    </div>',
                '</div>'
            ].join('');
        },

        initLazyLoad: function() {
            try {
                var myLazyLoad = new window.LazyLoad({
                    elements_selector: ".lazy",
                    threshold: 50,
                    callback_loaded: function(el) {
                        el.classList.add('loaded');
                        el.parentElement.classList.add('loaded');
                        var placeholder = el.parentElement.querySelector('.photo-placeholder');
                        if (placeholder) {
                            placeholder.style.display = 'none';
                        }
                    },
                    callback_error: function(el) {
                        var retryCount = el.getAttribute('data-retry-count') || 0;
                        if (retryCount < 3) {
                            el.setAttribute('data-retry-count', parseInt(retryCount) + 1);
                            var originalSrc = el.dataset.src.split('?')[0];
                            el.src = originalSrc;
                        } else {
                            el.src = window.CONFIG.DEFAULT_IMAGE;
                            el.classList.add('error');
                            var placeholder = el.parentElement.querySelector('.photo-placeholder');
                            if (placeholder) {
                                placeholder.innerHTML = '<div class="error-message">åŠ è½½å¤±è´¥</div>';
                            }
                        }
                    }
                });
            } catch (error) {
                console.error('LazyLoad initialization failed:', error);
                var images = document.querySelectorAll('.lazy');
                images.forEach(function(img) {
                    img.src = img.getAttribute('data-src').split('?')[0];
                });
            }
        },

        showError: function() {
            this.container.innerHTML = '<div class="error">ç›¸å†ŒåŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•</div>';
        }
    };

    // å½“é¡µé¢åŠ è½½å®Œæˆæ—¶åˆå§‹åŒ–ç›¸å†Œ
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            window.photoGallery = new PhotoGallery();
        });
    } else {
        window.photoGallery = new PhotoGallery();
    }
})();]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/photos/lazyload.min.js</url>
    <content><![CDATA[/*!
 * An jQuery | zepto plugin for lazy loading images.
 * author -> jieyou
 * see https://github.com/jieyou/lazyload
 * use some tuupola's code https://github.com/tuupola/jquery_lazyload (BSD)
 * use component's throttle https://github.com/component/throttle (MIT)
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).LazyLoad=t()}(this,(function(){"use strict";function n(){return n=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},n.apply(this,arguments)}var t="undefined"!=typeof window,e=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),i=t&&"IntersectionObserver"in window,o=t&&"classList"in document.createElement("p"),a=t&&window.devicePixelRatio>1,r={elements_selector:".lazy",container:e||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},c=function(t){return n({},r,t)},l=function(n,t){var e,i="LazyLoad::Initialized",o=new n(t);try{e=new CustomEvent(i,{detail:{instance:o}})}catch(n){(e=document.createEvent("CustomEvent")).initCustomEvent(i,!1,!1,{instance:o})}window.dispatchEvent(e)},u="src",s="srcset",d="sizes",f="poster",_="llOriginalAttrs",g="data",v="loading",b="loaded",m="applied",p="error",h="native",E="data-",I="ll-status",y=function(n,t){return n.getAttribute(E+t)},k=function(n){return y(n,I)},w=function(n,t){return function(n,t,e){var i="data-ll-status";null!==e?n.setAttribute(i,e):n.removeAttribute(i)}(n,0,t)},A=function(n){return w(n,null)},L=function(n){return null===k(n)},O=function(n){return k(n)===h},x=[v,b,m,p],C=function(n,t,e,i){n&&(void 0===i?void 0===e?n(t):n(t,e):n(t,e,i))},N=function(n,t){o?n.classList.add(t):n.className+=(n.className?" ":"")+t},M=function(n,t){o?n.classList.remove(t):n.className=n.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},z=function(n){return n.llTempImage},T=function(n,t){if(t){var e=t._observer;e&&e.unobserve(n)}},R=function(n,t){n&&(n.loadingCount+=t)},G=function(n,t){n&&(n.toLoadCount=t)},j=function(n){for(var t,e=[],i=0;t=n.children[i];i+=1)"SOURCE"===t.tagName&&e.push(t);return e},D=function(n,t){var e=n.parentNode;e&&"PICTURE"===e.tagName&&j(e).forEach(t)},H=function(n,t){j(n).forEach(t)},V=[u],F=[u,f],B=[u,s,d],J=[g],P=function(n){return!!n[_]},S=function(n){return n[_]},U=function(n){return delete n[_]},q=function(n,t){if(!P(n)){var e={};t.forEach((function(t){e[t]=n.getAttribute(t)})),n[_]=e}},K=function(n,t){if(P(n)){var e=S(n);t.forEach((function(t){!function(n,t,e){e?n.setAttribute(t,e):n.removeAttribute(t)}(n,t,e[t])}))}},Q=function(n,t,e){N(n,t.class_applied),w(n,m),e&&(t.unobserve_completed&&T(n,t),C(t.callback_applied,n,e))},W=function(n,t,e){N(n,t.class_loading),w(n,v),e&&(R(e,1),C(t.callback_loading,n,e))},X=function(n,t,e){e&&n.setAttribute(t,e)},Y=function(n,t){X(n,d,y(n,t.data_sizes)),X(n,s,y(n,t.data_srcset)),X(n,u,y(n,t.data_src))},Z={IMG:function(n,t){D(n,(function(n){q(n,B),Y(n,t)})),q(n,B),Y(n,t)},IFRAME:function(n,t){q(n,V),X(n,u,y(n,t.data_src))},VIDEO:function(n,t){H(n,(function(n){q(n,V),X(n,u,y(n,t.data_src))})),q(n,F),X(n,f,y(n,t.data_poster)),X(n,u,y(n,t.data_src)),n.load()}},$=["IMG","IFRAME","VIDEO"],nn=function(n,t){!t||function(n){return n.loadingCount>0}(t)||function(n){return n.toLoadCount>0}(t)||C(n.callback_finish,t)},tn=function(n,t,e){n.addEventListener(t,e),n.llEvLisnrs[t]=e},en=function(n,t,e){n.removeEventListener(t,e)},on=function(n){return!!n.llEvLisnrs},an=function(n){if(on(n)){var t=n.llEvLisnrs;for(var e in t){var i=t[e];en(n,e,i)}delete n.llEvLisnrs}},rn=function(n,t,e){!function(n){delete n.llTempImage}(n),R(e,-1),function(n){n&&(n.toLoadCount-=1)}(e),M(n,t.class_loading),t.unobserve_completed&&T(n,e)},cn=function(n,t,e){var i=z(n)||n;on(i)||function(n,t,e){on(n)||(n.llEvLisnrs={});var i="VIDEO"===n.tagName?"loadeddata":"load";tn(n,i,t),tn(n,"error",e)}(i,(function(o){!function(n,t,e,i){var o=O(t);rn(t,e,i),N(t,e.class_loaded),w(t,b),C(e.callback_loaded,t,i),o||nn(e,i)}(0,n,t,e),an(i)}),(function(o){!function(n,t,e,i){var o=O(t);rn(t,e,i),N(t,e.class_error),w(t,p),C(e.callback_error,t,i),e.restore_on_error&&K(t,B),o||nn(e,i)}(0,n,t,e),an(i)}))},ln=function(n,t,e){!function(n){return $.indexOf(n.tagName)>-1}(n)?function(n,t,e){!function(n){n.llTempImage=document.createElement("IMG")}(n),cn(n,t,e),function(n){P(n)||(n[_]={backgroundImage:n.style.backgroundImage})}(n),function(n,t,e){var i=y(n,t.data_bg),o=y(n,t.data_bg_hidpi),r=a&&o?o:i;r&&(n.style.backgroundImage='url("'.concat(r,'")'),z(n).setAttribute(u,r),W(n,t,e))}(n,t,e),function(n,t,e){var i=y(n,t.data_bg_multi),o=y(n,t.data_bg_multi_hidpi),r=a&&o?o:i;r&&(n.style.backgroundImage=r,Q(n,t,e))}(n,t,e),function(n,t,e){var i=y(n,t.data_bg_set);if(i){var o=i.split("|"),a=o.map((function(n){return"image-set(".concat(n,")")}));n.style.backgroundImage=a.join(),""===n.style.backgroundImage&&(a=o.map((function(n){return"-webkit-image-set(".concat(n,")")})),n.style.backgroundImage=a.join()),Q(n,t,e)}}(n,t,e)}(n,t,e):function(n,t,e){cn(n,t,e),function(n,t,e){var i=Z[n.tagName];i&&(i(n,t),W(n,t,e))}(n,t,e)}(n,t,e)},un=function(n){n.removeAttribute(u),n.removeAttribute(s),n.removeAttribute(d)},sn=function(n){D(n,(function(n){K(n,B)})),K(n,B)},dn={IMG:sn,IFRAME:function(n){K(n,V)},VIDEO:function(n){H(n,(function(n){K(n,V)})),K(n,F),n.load()}},fn=function(n,t){(function(n){var t=dn[n.tagName];t?t(n):function(n){if(P(n)){var t=S(n);n.style.backgroundImage=t.backgroundImage}}(n)})(n),function(n,t){L(n)||O(n)||(M(n,t.class_entered),M(n,t.class_exited),M(n,t.class_applied),M(n,t.class_loading),M(n,t.class_loaded),M(n,t.class_error))}(n,t),A(n),U(n)},_n=["IMG","IFRAME","VIDEO"],gn=function(n){return n.use_native&&"loading"in HTMLImageElement.prototype},vn=function(n,t,e){n.forEach((function(n){return function(n){return n.isIntersecting||n.intersectionRatio>0}(n)?function(n,t,e,i){var o=function(n){return x.indexOf(k(n))>=0}(n);w(n,"entered"),N(n,e.class_entered),M(n,e.class_exited),function(n,t,e){t.unobserve_entered&&T(n,e)}(n,e,i),C(e.callback_enter,n,t,i),o||ln(n,e,i)}(n.target,n,t,e):function(n,t,e,i){L(n)||(N(n,e.class_exited),function(n,t,e,i){e.cancel_on_exit&&function(n){return k(n)===v}(n)&&"IMG"===n.tagName&&(an(n),function(n){D(n,(function(n){un(n)})),un(n)}(n),sn(n),M(n,e.class_loading),R(i,-1),A(n),C(e.callback_cancel,n,t,i))}(n,t,e,i),C(e.callback_exit,n,t,i))}(n.target,n,t,e)}))},bn=function(n){return Array.prototype.slice.call(n)},mn=function(n){return n.container.querySelectorAll(n.elements_selector)},pn=function(n){return function(n){return k(n)===p}(n)},hn=function(n,t){return function(n){return bn(n).filter(L)}(n||mn(t))},En=function(n,e){var o=c(n);this._settings=o,this.loadingCount=0,function(n,t){i&&!gn(n)&&(t._observer=new IntersectionObserver((function(e){vn(e,n,t)}),function(n){return{root:n.container===document?null:n.container,rootMargin:n.thresholds||n.threshold+"px"}}(n)))}(o,this),function(n,e){t&&(e._onlineHandler=function(){!function(n,t){var e;(e=mn(n),bn(e).filter(pn)).forEach((function(t){M(t,n.class_error),A(t)})),t.update()}(n,e)},window.addEventListener("online",e._onlineHandler))}(o,this),this.update(e)};return En.prototype={update:function(n){var t,o,a=this._settings,r=hn(n,a);G(this,r.length),!e&&i?gn(a)?function(n,t,e){n.forEach((function(n){-1!==_n.indexOf(n.tagName)&&function(n,t,e){n.setAttribute("loading","lazy"),cn(n,t,e),function(n,t){var e=Z[n.tagName];e&&e(n,t)}(n,t),w(n,h)}(n,t,e)})),G(e,0)}(r,a,this):(o=r,function(n){n.disconnect()}(t=this._observer),function(n,t){t.forEach((function(t){n.observe(t)}))}(t,o)):this.loadAll(r)},destroy:function(){this._observer&&this._observer.disconnect(),t&&window.removeEventListener("online",this._onlineHandler),mn(this._settings).forEach((function(n){U(n)})),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(n){var t=this,e=this._settings;hn(n,e).forEach((function(n){T(n,t),ln(n,e,t)}))},restoreAll:function(){var n=this._settings;mn(n).forEach((function(t){fn(t,n)}))}},En.load=function(n,t){var e=c(t);ln(n,e)},En.resetStatus=function(n){A(n)},t&&function(n,t){if(t)if(t.length)for(var e,i=0;e=t[i];i+=1)l(n,e);else l(n,t)}(En,window.lazyLoadOptions),En}));]]></content>
  </entry>
  <entry>
    <title>éšæœºæ–‡ç« </title>
    <url>/random/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Repositories</title>
    <url>/repository/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/photos/config.js</url>
    <content><![CDATA[window.CONFIG = {
    // GitHub raw content URLs
    CDN_URL: 'https://raw.githubusercontent.com/ldyivan/BlogPicture/refs/heads/master/photos/',
    THUMBNAIL_URL: 'https://raw.githubusercontent.com/ldyivan/BlogPicture/refs/heads/master/min_photos/',
    // ç¼©ç•¥å›¾å°ºå¯¸
    THUMBNAIL_SIZE: {
        width: 300,
        height: 300
    },
    // å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶çš„é»˜è®¤å›¾ç‰‡
    DEFAULT_IMAGE: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNlZWUiLz48dGV4dCB4PSI1MCUiIHk9IjUwJSIgZm9udC1zaXplPSIxOCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgYWxpZ25tZW50LWJhc2VsaW5lPSJtaWRkbGUiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UsIHNhbnMtc2VyaWYiIGZpbGw9IiNhYWEiPkxvYWRpbmcuLi48L3RleHQ+PC9zdmc+'
}; ]]></content>
  </entry>
  <entry>
    <title>æ ‡ç­¾</title>
    <url>/tags/index.html</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/web/NMSL.html</url>
    <content><![CDATA[<!DOCTYPE html>
<html>
<head>
	<title> å–è¿œzzyã®é›…ä¿—å¹¶å­˜APP </title>
    <meta name="validation-tag" content="ssad/tetris_web/page/adapt_pc" />
  
  è½¯ä»¶ä¸Šä¸ªç‰ˆæœ¬ï¼š20191209
  
  è½¯ä»¶ç‰ˆæœ¬bbã€20191209ã€‘bb
  
  å…¬å‘Šå‘å¸ƒggã€welcome!!!ã€‘gg
  
  ä»‹ç»è¯´æ˜jsã€æš‚æ— ä»‹ç»ã€‘js
  
  ä¸‹è½½åœ°å€xzã€http://dz.hzv5.cn/BlogRss20191205.apkã€‘xz

</head>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/web/730297772.html</url>
    <content><![CDATA[<!DOCTYPE html>
<html>
<head>
	<title> å–è¿œã®é±¼å°¾çº¹æ’ä»¶ é±¼å°¾çº¹å‘å¡æœºå™¨äºº </title>
    <meta name="validation-tag" content="ssad/tetris_web/page/adapt_pc" />
  
  é¦–é¡µåœ°å€ index{}index
  è´­ä¹°åœ°å€ gm{}gm

  è¶…çº§æŒ‰é’®1åç§° ab1{æ›´å¤šåŠŸèƒ½>>>}ab1
  è¶…çº§æŒ‰é’®1åç§° ab2{ä½¿ç”¨æ–¹æ³•}ab2
  è¶…çº§æŒ‰é’®1åç§° ab3{æ£€æŸ¥æ›´æ–°}ab3
  è¶…çº§æŒ‰é’®1åç§° ab4{åŠ QQç¾¤äº¤æµ}ab4
  
  è¶…çº§æŒ‰é’®1åœ°å€ ad1{}ad1
  è¶…çº§æŒ‰é’®1åœ°å€ ad2{}ad2
  è¶…çº§æŒ‰é’®1åœ°å€ ad3{}ad3
  è¶…çº§æŒ‰é’®1åœ°å€ ad4{}ad4

  å¹¿å‘ŠæŒ‰é’® gg{æ’ä»¶å®šåˆ¶è”ç³»QQï¼š730297772}gg
  

</head>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/web/autojs_dy_pldz.html</url>
    <content><![CDATA[<!DOCTYPE html>
<html>
<head>
	<title> å–è¿œzzyã®è½¯ä»¶æˆæƒ </title>
    <meta name="validation-tag" content="ssad/tetris_web/page/adapt_pc" />
  
	æˆæƒç”¨æˆ·åˆ—è¡¨ï¼š
	
	Myåä¸ºp20Proï¼š10AY2240caab677a8efb17202240
	Myåä¸ºp20Proï¼š10AY22408756a54aec9478cc2240
	
	YHåä¸ºnova2Sï¼š9AY2160016aaee01a51e40b2160
	YHvivoX20Aï¼š8.1.0AY21601aee571a4b84f5122160
	
	QQç¾¤å°æ°ï¼š9AY2340fc0aef783592aa722340
	
	æ›´å¤š...

</head>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/web/BlogRss.html</url>
    <content><![CDATA[<!DOCTYPE html>
<html>
<head>
	<title> å–è¿œzzyã®åšå®¢è®¢é˜…APP </title>
    <meta name="validation-tag" content="ssad/tetris_web/page/adapt_pc" />
  
  è½¯ä»¶ä¸Šä¸ªç‰ˆæœ¬ï¼š20191214
  
  è½¯ä»¶ç‰ˆæœ¬bbã€20191214ã€‘bb
  
  å…¬å‘Šå‘å¸ƒggã€20191214æ›´æ–°:
  ä¼˜åŒ–åˆ¶æ–é€Ÿåº¦ï¼Œè®©å®ƒå°½é‡ä¸é‚£ä¹ˆæ™ºéšœï¼
  æ„Ÿè°¢æ”¯æŒï¼ã€‘gg
  
  ä»‹ç»è¯´æ˜jsã€Rssè®¢é˜…åšå®¢ï¼Œè½¯ä»¶å®Œå…¨å…è´¹ä½¿ç”¨ã€‚
  ç†è®ºä¸Šé¦–é¡µåšå®¢æµè§ˆï¼Œæ˜¯æ”¯æŒä»»æ„åšå®¢æµè§ˆçš„ï¼Œç„¶åè®¢é˜…æ ç›®æä¾›rssåœ°å€å³å¯è·å–åšå®¢çš„æ–‡ç« è®¢é˜…æ˜¾ç¤ºäº†ã€‚
  è½¯ä»¶å°šåœ¨æŒç»­å¼€å‘æ›´æ–°é˜¶æ®µï¼Œå¯èƒ½å­˜åœ¨ä¸€äº›é—®é¢˜æ²¡æœ‰ä¿®å¤ï¼Œè‹¥æ‚¨å¯¹æœ¬è½¯ä»¶æœ‰å“ªäº›å¥½çš„å»ºè®®æˆ–æ„è§ï¼Œè¯·é€šè¿‡è½¯ä»¶å†…è”ç³»æ–¹å¼ä¸æˆ‘å–å¾—è”ç³»ï¼
  æ„Ÿè°¢æ”¯æŒï¼ã€‘js
  
  ä¸‹è½½åœ°å€xzã€http://dz.hzv5.cn/BlogRss20191214.apkã€‘xz




ã€æ¨èè®¢é˜…åˆ—è¡¨ã€‘

åšå®¢åç§°mcã€æœˆå…‰åšå®¢ã€éš”ã€‘å°šç£Š's Blogã€éš”ã€‘ç‹é­ iOSã€éš”ã€‘ç‰ä»¤å¤©ä¸‹ã€éš”ã€‘è±†ç“£å½±è¯„ã€éš”ã€‘æ„æ—ã€éš”ã€‘é’å¹´æ–‡æ‘˜ã€éš”ã€‘è…¾è®¯CDCã€éš”ã€‘36æ°ªã€éš”ã€‘çˆ±èŒƒå„¿ã€éš”ã€‘æœˆå®…é…±ã€éš”ã€‘SEOæŠ€æœ¯ã€éš”ã€‘é…·å£³ã€éš”ã€‘ç¾½å¿†æ±Ÿå—ã€éš”ã€‘çš®æ¯›æŠ€æœ¯å›ã€éš”ã€‘ä¼šå†™ä»£ç çš„çŒªã€éš”ã€‘ä½ çš„ç›Šè¾¾ã€‘mc

åšå®¢åœ°å€dzã€https://www.williamlong.info/rss.xmlã€éš”ã€‘http://shanglei.net/feed/ã€éš”ã€‘https://onevcat.com/feed.xmlã€éš”ã€‘http://yulingtianxia.com/atom.xmlã€éš”ã€‘https://www.douban.com/feed/review/movieã€éš”ã€‘http://blog.sina.com.cn/rss/yilinzazhi.xmlã€éš”ã€‘http://blog.sina.com.cn/rss/qnwzlb.xmlã€éš”ã€‘https://cdc.tencent.com/feed/ã€éš”ã€‘https://36kr.com/feed/ã€éš”ã€‘https://www.ifanr.com/feed/ã€éš”ã€‘https://ikmoe.com/feed/ã€éš”ã€‘https://www.seozac.com/feed/ã€éš”ã€‘https://coolshell.cn/feed/ã€éš”ã€‘https://yyjn.org/feed/ã€éš”ã€‘https://www.whoit.top/feed/ã€éš”ã€‘http://gaosboy.com/feed/ã€éš”ã€‘https://1000yun.cn/feed/ã€‘dz

</head>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/web/hzcj.html</url>
    <content><![CDATA[<!DOCTYPE html>
<html>
<head>
	<title> å–è¿œzzyã®çŒ´å­æ’ä»¶æ£€æµ‹ </title>
    <meta name="validation-tag" content="ssad/tetris_web/page/adapt_pc" />
  
  æˆæƒç”¨æˆ·åˆ—è¡¨ï¼š

  ã€ã€ã€2831935979_2017å¹´1æœˆ18æ—¥ä¸¨1552121603_2017å¹´7æœˆ18æ—¥ä¸¨2717075548_2017å¹´1æœˆ18æ—¥ä¸¨1505643353_2099å¹´12æœˆ30æ—¥ä¸¨799291101_2099å¹´12æœˆ30æ—¥ä¸¨859885954_2099å¹´12æœˆ30æ—¥ä¸¨1032062665_2099å¹´12æœˆ30æ—¥ä¸¨314959475_2017å¹´3æœˆ17æ—¥ä¸¨3314917982_2017å¹´4æœˆ30æ—¥ä¸¨3444517972_2017å¹´4æœˆ24æ—¥ä¸¨3549137510_2017å¹´6æœˆ11æ—¥ä¸¨3499557120_2017å¹´6æœˆ19æ—¥ä¸¨2221666768_2018å¹´2æœˆ20æ—¥ä¸¨2167184783_2018å¹´6æœˆ7æ—¥ä¸¨2636924510_2019å¹´9æœˆ18æ—¥ä¸¨914106223_2020å¹´1æœˆ15æ—¥ã€‘ã€‘ã€‘

</head>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/web/index.html</url>
    <content><![CDATA[<!DOCTYPE html>
<html>
<head>
	<title> å–è¿œzzyã®åšå®¢ </title>
    <meta name="validation-tag" content="ssad/tetris_web/page/adapt_pc" />
  
  404 NOT FOUND

</head>]]></content>
  </entry>
</search>
